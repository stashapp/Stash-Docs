{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Stash is a web application written in Go for serving and organizing your porn collection. It is self-hosted and released under AGPL-3.0 license. Stash currently supports Windows, macOS, Linux, FreeBSD and Docker.</p>"},{"location":"#join-our-community","title":"Join our community","text":"<p>We are excited to announce that we have a new home for support, feature requests, and discussions related to Stash and its associated projects. Join our community on the Discourse forum to connect with other users, share your ideas, and get help from fellow enthusiasts.</p>"},{"location":"#about-stash","title":"About Stash","text":"<ul> <li>Stash gathers information about videos in your collection from the internet, and is extensible through the use of community-built plugins for a large number of content producers and sites.</li> <li>Stash supports a wide variety of both video and image formats.</li> <li>You can tag videos and find them later.</li> <li>Stash provides statistics about performers, tags, studios and more.</li> </ul> <p>You can learn more about the software generally via the README on the official repository or via the Stash official website.</p>"},{"location":"#get-started","title":"Get started","text":"<p>To get started go to Installation and download the latest version for your operating system.</p>"},{"location":"#support","title":"Support","text":"<ul> <li> <p> Community forum (recommended)</p> <p>Primary place for community support, feature requests and discussions.</p> <p> Browse forum</p> </li> <li> <p> Discord</p> <p>Real-time chat and community support.</p> <p> Join Discord</p> </li> <li> <p> Lemmy</p> <p>Community discussions.</p> <p> Visit Lemmy</p> </li> </ul>"},{"location":"#contribute","title":"Contribute","text":"<ul> <li>Spread the word: the more people that know about Stash, the more people can help with the tasks below.</li> <li>Help other users: we got new users coming in all the time that need assistance. Stopping in help channels/rooms now and again to assist can save developers some time.</li> <li>Write documentation: help to improve the Stash documentation.</li> <li>Contribute to the website: the website could definitely use some attention.</li> <li>Find bugs: test the software for bugs and create GitHub issues for them to help developers confirm and fix them faster.</li> <li>Write scrapers: if there is a site that isn't being scraped properly or at all, head on over to scrapers channel/room and see if you can't help scrape some metadata from a site.</li> <li>Populate StashDB: StashDB is our canonical database where we store metadata and hashes. You can submit info from your Stash instance to the database or just help to improve the already existing information.</li> <li>Support financially: Stash development runs on donations. Donations are collected through OpenCollective. You can do anonymous one-time donations or recurring donations.</li> <li>Sponsor on GitHub: You can sponsor the stashapp organization on GitHub via one-time or monthly donation. </li> </ul>"},{"location":"add-ons/","title":"Add ons","text":""},{"location":"api/","title":"Stash API","text":""},{"location":"api/#stash-api","title":"Stash API","text":"<p>The Stash GraphQL API facilitates automated operations through a type-based schema that is both introspective and self-documenting.</p> <p>Stash includes an integrated playground where users can execute queries and retrieve schema structures and documentation via a special introspection query.</p> <ol> <li>You can access the playground by navigating to <code>&lt;server&gt;:&lt;port&gt;/playground</code> (default: http://localhost:9999/playground).</li> <li>Click  on the left to access the Documentation Explorer.</li> </ol> <p>All HTTP requests should be directed to <code>&lt;server&gt;:&lt;port&gt;/graphql</code> (default: <code>http://localhost:9999/graphql</code>).</p> <p>Tip</p> <p>For further information, visit the official GraphQL site.</p>"},{"location":"api/#authentication","title":"Authentication","text":"<p>Include the API key generated in Stash in the header of every request. For details on obtaining the API Key, refer to Stash's in-app manual.</p> Example using curl <p>Replace <code>&lt;your_api_key&gt;</code> with your API Key found under  Settings &gt; Security &gt; Authentication.</p> <p>Replace <code>&lt;graphql_query&gt;</code> with the raw query, which can be formatted using the playground.</p> <pre><code>curl -X POST -H \"ApiKey: &lt;your_api_key&gt;\" -H \"Content-Type: application/json\" --data '{ \"query\": \"&lt;graphql_query&gt;\" }' localhost:9999/graphql\n</code></pre>"},{"location":"api/#legacy-cookie-authentication","title":"Legacy cookie authentication","text":"<p>For configurations using a username/password, cookies must be used for authentication.</p> Example using curl <pre><code>curl --verbose --cookie-jar cookie.txt --data 'username=stash&amp;password=**' localhost:9999/login\ncurl --cookie cookie.txt -H \"Content-Type: application/json\" --data '{ \"query\": \"&lt;graphql_query&gt;\" }' localhost:9999/graphql\n</code></pre> <p>It is recommended to use the <code>API Key</code> method over the legacy cookie method.</p>"},{"location":"code-of-conduct/","title":"Code of conduct","text":""},{"location":"code-of-conduct/#our-pledge","title":"Our Pledge","text":"<p>We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation.</p> <p>We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.</p>"},{"location":"code-of-conduct/#our-standards","title":"Our Standards","text":"<p>Examples of behavior that contributes to a positive environment for our community include:</p> <ul> <li>Demonstrating empathy and kindness toward other people</li> <li>Being respectful of differing opinions, viewpoints, and experiences</li> <li>Giving and gracefully accepting constructive feedback</li> <li>Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience</li> <li>Focusing on what is best not just for us as individuals, but for the overall community</li> </ul> <p>Examples of unacceptable behavior include:</p> <ul> <li>The use of sexualized language or imagery outside of areas that explicitly allow them, and sexual attention or advances of any kind</li> <li>Trolling, insulting or derogatory comments, and personal or political attacks</li> <li>Public or private harassment</li> <li>Publishing others' private information, such as a physical or email address, without their explicit permission</li> <li>Other conduct which could reasonably be considered inappropriate in a professional setting</li> </ul>"},{"location":"code-of-conduct/#enforcement-responsibilities","title":"Enforcement Responsibilities","text":"<p>Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful.</p> <p>Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.</p>"},{"location":"code-of-conduct/#scope","title":"Scope","text":"<p>This Code of Conduct applies within all community spaces, community servers, code repositories, and also applies when an individual is officially representing the community in public spaces.</p>"},{"location":"code-of-conduct/#enforcement","title":"Enforcement","text":"<p>Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement. You can contact Admin or Org Lead members directly via Discord or using an integrated report function on other platforms. All complaints will be reviewed and investigated promptly and fairly.</p> <p>All community leaders are obligated to respect the privacy and security of the reporter of any incident.</p>"},{"location":"code-of-conduct/#enforcement-guidelines","title":"Enforcement Guidelines","text":"<p>Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:</p>"},{"location":"code-of-conduct/#warning","title":"Warning","text":"<p>Offense: First time offence.</p> <p>Consequence: A public or private written warning depending on the space where offense happened.</p>"},{"location":"code-of-conduct/#temporary-or-permanent-ban","title":"Temporary or Permanent Ban","text":"<p>Offense: Second time offense.</p> <p>Consequence: Temporary or permanent ban from any sort of public interaction within the community and removal of any previously given elevated permissions.</p>"},{"location":"code-of-conduct/#attribution","title":"Attribution","text":"<p>This Code of Conduct is a modified and adapted from the Contributor Covenant, version 2.1, available at https://www.contributor-covenant.org/version/2/1/code_of_conduct.html.</p>"},{"location":"beginner-guides/exclude-file-configuration/","title":"Exclude file configuration","text":""},{"location":"beginner-guides/guide-to-scraping/","title":"Guide to Scraping","text":"<p>The following is our recommended procedure for new Stash users who want to get info for their scenes as quickly, easily, and as accurately as possible. Pulling info directly from StashDB is still the best option, but unfortunately this will not always be possible. Alternative methods are also covered for when StashDB doesn't have what you need. This is an expanded version of @Scruffy's pinned post in the #stashdb-general channel in our Discord. Go there if you'd like something more succinct and direct. Hopefully this guide will reduce the pain and frustration for those who are lost and don't know where to start.</p> <p>The following sections are in this particular order for a reason, so please follow this guide from the beginning.</p>"},{"location":"beginner-guides/guide-to-scraping/#generate-phashes","title":"Generate pHashes","text":"<ol> <li> <p>Navigate to the Settings page (\u2699 icon in top right), make sure you're on \"Tasks\" in the sidebar to the left, then find the first heading \"Library\" in the middle of the page. Make sure \"Generate perceptual hashes\" is turned on so pHashes will be created automatically each time you run a scan to add new scenes. This will slow down the scanning process, but for most users it's worth it. pHashes are the main way to match your scenes with our data on StashDB.</p> <p> </p> </li> <li> <p>pHash generation is not turned on by default, so you'll need to generate them manually if you haven't already. This can be done on your entire library on the same Settings --&gt; Tasks page, scroll down to the \"Generated Content\" heading. Make sure \"Perceptual hashes (for deduplication)\" is turned on and click the \"Generate\" button at the top. As long as \"Overwrite existing generated files\" is turned off, this will only generate missing files and hashes.</p> <p></p> </li> </ol>"},{"location":"beginner-guides/guide-to-scraping/#join-stashdb","title":"Join StashDB","text":"<p>If you haven't set up StashDB in your Stash settings yet, now's the time to do it. The best way to do that is to follow this guide to Accessing StashDB. It includes step-by-step instructions for both signing up to StashDB and connecting your new account to Stash.</p>"},{"location":"beginner-guides/guide-to-scraping/#use-the-scene-tagger","title":"Use the Scene Tagger","text":"<ol> <li> <p>Go to your Scenes page on Stash and click the double \ud83d\udd16 icon to the far right of the search bar. This is your Scene Tagger view and should be your first choice for pulling data, not Identify / Autotag / Filename Parser / URL Scrapers / etc. Always use the Scene Tagger first, the rest are for users with more specific needs who understand the strengths and weaknesses of each tool.</p> <p> </p> <p>Important</p> <p>Tags are not created automatically. You need to click <code>+</code> icon near the tag name to create it for you locally and attach it to the scene. Once it's created, it will match automatically in the future.  </p> </li> <li> <p>First, click the \"Scrape All\" button. This will use your pHashes to find matching scenes on StashDB for every scene on the current page. The \"Scrape by fragment\" buttons will do the same thing but just for one scene at a time. Also, you may want to change your Scene Tagger settings with the \u2699 icon next to \"Scrape All.\" You can tell it to Merge (keep all) tags, Overwrite (keep only new) tags, or ignore StashDB's tags entirely (leave box unchecked). If you plan on contributing to StashDB, you should have \"Show male performers\" turned on to better follow these guidelines.</p> <p> </p> </li> <li> <p>If your fingerprint search doesn't return a correct result for your scene, you can try searching with the \"Query\" field using title, performer, release date, or studio. Try to use as little text as possible to find your scene. Otherwise, unnecessary words that do not match StashDB's info may block correct results. If you can find the matching scene on StashDB.org but can't find it using the Scene Tagger, you can use the scene's StashID as your Tagger query.</p> <p> </p> </li> <li> <p>Be sure to double-check that each selected result matches your scene before clicking the \"Save\" button at the bottom of each card. If you're confident that all of your saved matches are accurate, you may click the \"Submit fingerprints\" button after you're done. This will add your files' hashes to StashDB to make them easier for other users to find. But again, make sure your files were matched correctly first. The button will appear right next to the \"Scrape All\" button.</p> </li> </ol>"},{"location":"beginner-guides/guide-to-scraping/#use-theporndb-endpoint","title":"Use ThePornDB Endpoint","text":"<ol> <li>If you are absolutely sure a scene isn't on StashDB anywhere, the next easiest method is to try ThePornDB. They have significantly more scenes than StashDB thanks to their automated scrapers, but their info isn't always as complete or accurate compared to StashDB's manually curated approach. They also don't have as many pHashes so matching scenes can be trickier as well.  By using their Endpoint and submitting fingerprints to them when you have a good match via searching, you make life easier for everyone else scraping there. </li> </ol> <p>{:style=\"counter-reset:none\"} 1. First step is to make an account at theporndb.net. With your account created, navigate to your API Tokens page. Type \"stash\" as your token's name (or whatever you'd prefer), make sure the \"read\" permission is checked (you don't need the others), and click the \"Create\" button. A pop-up will display your newly created token. Save your API token somewhere so you can find it later!. It will not be visible on ThePornDB's website after you close the pop-up. If you lose it, you may need to create a new one and repeat this entire setup process. This can be done in a password manager, notes app, or a well-placed text file.</p> <pre><code>![How to create an API token on ThePornDB](/assets/beginner-guides/create-tpdb-token.jpg)\n</code></pre> <p></p> <ol> <li>Go to the Settings page in Stash (http://localhost:9999/settings by default), click Metadata Providers on the left side and find Stash-box Endpoints at the top.</li> </ol> <p>{:style=\"counter-reset:none\"} 1. Click Add and fill out the form that pops up: paste in your API key you created earlier amd enter <code>ThePornDB</code> (or anything else you'd like, like TPDB) for Name, and enter <code>https://theporndb.net/graphql</code> as the GraphQL endpoint.</p> <ol> <li> <p>Click Test Credentials to make sure you've entered everything correctly, then click Confirm.</p> </li> <li> <p>Finally, we can use the Scene Tagger to scrape from ThePornDB. First you'll need to switch to \"ThePornDB\" as the Tagger's source. It will always default to the first Stash-Box source, so you'll need to switch it every time you need something else. Use the same process here as we used with StashDB and the Scene Tagger. The \"Scrape All\" and \"Scrape by fragment\" buttons will match by using file hashes (pHash and oshash). If these don't give you the right results, you can try the \"Search\" button and customize your search terms as needed. Remember to use as few terms as possible in your search because unneccessary words that don't match ThePornDB's info may block correct results. You can also copy-paste additional terms from TPDB's page if you need to narrow down the Tagger's results more.</p> <p> </p> </li> </ol> <p>For those wanting to contribute to StashDB</p> <p>As noted before, ThePornDB leans heavily on automated scrapers to pull all of their info. Often that data is incomplete or inaccurate compared to what we'd want on StashDB. Before you submit your scene to StashDB, you'll need to double-check your info, clean it up a bit first, and make sure you're following these guidelines. Submitting to StashDB is discussed further in the last step of this guide.</p>"},{"location":"beginner-guides/guide-to-scraping/#use-site-specific-scrapers","title":"Use Site-Specific Scrapers","text":"<ol> <li> <p>If you've already tried StashDB, you've already tried ThePornDB, and you still want to scrape a site directly, you can try using a site-specific scraper. However, every scraper is going to work differently. Some will need Python installed. Others will need you to set a user agent or a Chrome CDP path. A handful will need to be edited and configured first. Only a few can search a studio's website for the right scene. The entire process is much more advanced and is different for each scraper, which is why we recommend StashDB and TPDB first for new users. They can all be found in the same repo. You can download them individually, or you can download the entire repo as a zip archive. </p> </li> <li> <p>First you'll want to search this page for your website to see if we have a scraper for it and to get an idea of what its requirements are. For most of these scrapers, you'll need to find and save a studio URL to your scene first. If you've managed to set up a fragment scraper, you can click on the \"Scrape with...\" button in the scene's edit tab to select your scraper. Typically fragment scrapers are better than URL scrapers. Otherwise, you'll need to click the button at the far right end of the URL field to run a URL scraper. It should light up when the field is filled with a URL that matches one of your installed scrapers. That's about as detailed as we can get in this guide for new users. If you've tried StashDB, tried TPDB, checked the relevant documentation, checked your logs, and still can't get one of these scrapers working, you can ask for help on Discord in the #help channel.  More advanced discussions might be moved to the #scrapers channel</p> </li> </ol>"},{"location":"beginner-guides/guide-to-scraping/#submit-to-stashdb","title":"Submit to StashDB","text":"<ol> <li> <p>If you're certain a scene isn't on StashDB and you've found the info using ThePornDB or some other scraper, please consider submitting it to StashDB yourself. That way nobody else will have to duplicate the same work you've done for that particular scene if they can match their pHash with yours. You'll need to ask for edit privileges in our Discord and follow the guidelines on this website. In particular, please note that not every scene can be added to StashDB at this time. Some studios aren't allowed and full movies likely won't be eligible either. </p> </li> <li> <p>Also, please don't blindly resubmit data gotten from ThePornDB. You should verify the data is correct and complete first, make sure the URL is right, check for any missing performers, and look up any relevant guidelines if something else seems funky to you. You should update your data within Stash before submitting a draft or you can edit the draft on StashDB itself before creating the edit. You should also have the studio URL now, so you should also compare with that page manually or even scrape again with a site-specific scraper as explained in the previous step of this guide. Also please note in your edit comment where your data is coming from.</p> </li> </ol>"},{"location":"faq/setup/","title":"Setup","text":""},{"location":"faq/setup/#protecting-against-accidental-exposure-to-the-internet","title":"Protecting against accidental exposure to the internet","text":"<p>Stash data is considered private, and Stash is not designed to be publicly exposed, except to trusted confidants. Stash has a built-in protection against accidentally exposing itself publicly outside of your network. If Stash receives a request from the public internet, and you do not have a password enabled, Stash will reject the request and stop handling requests to protect your privacy.</p> <p>This often happens when you use the port-forwarding feature of your router or install Stash on a publicly accessible server, such as a VPS. When you do this, anybody in the world can access your Stash instance, so we enforce a password requirement. If your Stash instance has shutdown due to an insecure configuration, it will not handle requests again until you tell it that you have fixed the problem. After setting up either authentication, firewall, or removing your port forwarding rules, you can edit <code>.stash/config/config.yml</code> and remove the key <code>security_tripwire_accessed_from_public_internet</code>.</p>"},{"location":"faq/setup/#alternative-and-safe-methods-to-access-your-stash","title":"Alternative and safe methods to access your Stash","text":"<p>You may use several methods to safely access Stash from outside of your home network. In the most basic, you can enable authentication in Stash, and re-enable port forwarding. You can also use a VPN solution that allows you to securely access your home network, such as Tailscale, Zerotier, Wireguard, or others.</p>"},{"location":"faq/setup/#using-an-external-authentication-provider","title":"Using an external authentication provider","text":"<p>If you are an advanced user, and have secured your Stash instance behind an authwall provided by a reverse proxy or hosting solution, you may continue to use that. You simply have to edit <code>.stash/config/config.yml</code> and set <code>dangerous_allow_public_without_auth</code> to <code>true</code>. If you have already tripped the security feature, you will also have to remove the <code>security_tripwire_accessed_from_public_internet</code> key in order to allow Stash to serve requests.</p> <p>You will also have to disable Stash built-in authentication by clearing the username/password values in Security &gt; Authentication &gt; Credentials.</p>"},{"location":"getting-started/first-steps/","title":"First steps","text":""},{"location":"getting-started/first-steps/#setting-up-content-libraries","title":"Setting up content libraries","text":"<ol> <li>Go to  Settings &gt; Library and click Add Directory.</li> <li>To change the drive letter/volume, just type it in the field.</li> <li>Select the folder containing the content you want to add. It will select the folder and all sub-folders.</li> <li>Click Confirm.</li> </ol>"},{"location":"getting-started/first-steps/#configuring-scan-options","title":"Configuring scan options","text":"<ol> <li>Go to  Settings &gt; Tasks.</li> <li>Select options you want based on your preferences, but keep in mind that every option increases time the scan will take.</li> <li>You can stop and re-scan it will ignore the files that are already scanned and just scan new or missing files.</li> </ol>"},{"location":"getting-started/first-steps/#initiating-scan","title":"Initiating scan","text":"<ol> <li>Go to  Settings &gt; Tasks.</li> <li>Click Scan to start scanning for the content from your setup libraries or Selective Scan... if you want to scan a specific location.</li> </ol> <p>Info</p> <p>If you decide to cancel the task in the queue, next time you will start the task, it will skip the files that were already scanned.</p>"},{"location":"guides/","title":"Guides","text":"<p>In this section the community written guides will be published. You can submit your own via Stash-Docs repository. </p> <p>If you find the guide has a typo or is outdated you can submit a pull request to fix it or make an issue on the GitHub. Thank you!</p>"},{"location":"guides/advanced-configuration-options/","title":"Advanced configuration options","text":"<p>Some configuration options can not be edited through the UI and should only be used if needed.</p> <p>Depending on the option they can be configured either by editing the <code>config.yml</code> configuration file or by using an enviroment variable or in a few cases by using flags when running stash.</p> <p>As an example the <code>port</code> option can be changed from the default <code>9999</code> to <code>1234</code>  by one of the below methods:</p> <ul> <li>adding <code>port: 1234</code> to the config.yml file</li> <li>setting the ENV variable STASH_PORT to 1234 eg <code>STASH_PORT=1234 ./stash</code></li> <li>using the flag --port when running stash  <code>./stash --port 1234</code></li> </ul> Configuration Option YML ENV FLAG Description Comments host host STASH_HOST --host The ip address for the host that stash is listening to default: 0.0.0.0 port port STASH_PORT --port The port that stash serves to default: 9999 external host external_host STASH_EXTERNAL_HOST - Needed in some cases when you use a reverse proxy Docs plugins path plugins_path - - The path to the stash plugins folder Only use if you need to override the default scrapers path scrapers_path - - The path to the scrapers folder Only use if you need to override the default custom served folders custom_served_folders - - Allows configuration of mapped URLs to file system folders PR maximum upload size max_upload_size - - Change the maximum size (in MB) for partial imports default: 1024 (1GB) proxy proxy - - The url of a HTTP(S) proxy to be used when stash makes calls to online services Example: https://user:password@my.proxy:8080 no proxy no_proxy - - A list of domains for which the proxy must not be used default is all local LAN: localhost,127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12"},{"location":"guides/backup-and-restore-database/","title":"Backup and restore database","text":""},{"location":"guides/backup-and-restore-database/#backup","title":"Backup","text":"<p>Always use the UI to create a backup of the database. As with all live databases DO NOT copy manually the database file as a means of backup.</p> <p>Stash uses an sqlite database with <code>WAL</code> mode enabled. This practically means that along with the main db file <code>stash.go-sqlite</code> there can be a <code>-shm</code> and a <code>-wal</code> file present (more info). Even stopping Stash might leave some of these index files present so again DO NOT manually copy the database file.</p> <p>The Backup or Download Backup tasks are the proper way to create a backup file.</p> <ol> <li>Go to  Settings &gt; System.</li> <li>Under Application Paths heading scroll down to Backup Directory Path.</li> <li>Set directory to store your backups.</li> <li>Go to  Settings &gt; Tasks.</li> <li>Under Backup heading you will find 2 tasks.</li> <li>Select either Backup or Download Backup task.</li> </ol>"},{"location":"guides/backup-and-restore-database/#restore","title":"Restore","text":"<p>Assuming you have properly created a backup file you can use it to restore your database if needed.</p> <p>Info</p> <p>The restore procedure uses the default <code>stash-go.sqlite</code> filename, if you changed that when configuring Stash adjust accordingly.</p> <p>The following steps are recommended when restoring a database file:</p> <ol> <li>Go to  Settings &gt; System, scroll down to Database heading and check your Database Path location.</li> <li>Create a backup of the current database. (optional)</li> <li>Stop Stash.</li> <li>In your file browser, go to the location of your database path.</li> <li>Move or delete the <code>stash-go.sqlite</code> database file (along with the <code>-shm</code> <code>-wal</code> <code>.journal</code> files if present).</li> <li>Copy the backup file that you want to restore to <code>stash-go.sqlite</code>.</li> <li>Make sure that you now have a <code>stash-go.sqlite</code> file and that no <code>-shm</code> <code>-wal</code> <code>.journal</code> files are present. </li> <li>Start Stash.</li> </ol> <p>You should now have Stash running with a working and restored database.</p>"},{"location":"guides/backup-and-restore-database/#advanced-troubleshooting","title":"Advanced troubleshooting","text":"<p>If you get a database malformed message during upgrade or backup that probably means that the database is already corrupt. One way to get past that is to do a full export and check the error log. If there are not a lot of errors you can then try to do a full import and get a working db with minimal losses. As the full import is destructive proceed with caution.  For cases like this it is better to ask for support.</p>"},{"location":"guides/importing-via-csv-using-gql-iterate/","title":"Bulk importing via CSV using gql-iterate","text":"<p>If you want to add a collection of performers, tags, studios, etc, and you have a text/spreadsheet list of them, here's the walkthrough of how to do it via a simple CLI method.</p>"},{"location":"guides/importing-via-csv-using-gql-iterate/#step-1-install-gql-iterate","title":"Step 1: Install gql-iterate","text":"<p>gql-iterate repository</p> <p><code>npm install @efstajas/gql-iterate -g</code> or <code>yarn add @efstajas/gql-iterate -g</code></p> <p>For latest versions of NodeJS (14&gt;) you need to  go where you globally install your npm modules (AppData/Roaming/npm/node_modules/@efstajas/gql-iterate/bin) and add the following to the first line of the cli.js file.</p> <p><code>import { createRequire } from 'module'; const require = createRequire(import.meta.url);</code></p>"},{"location":"guides/importing-via-csv-using-gql-iterate/#step-2-prepare-your-gqlfile-if-needed","title":"Step 2: Prepare your gql.file if needed","text":"<p>See below for example versions of performers.gql and tags.gql samples that should work for you. Others can be figured out (with minor changes needeed) from stash/graphql/documents/mutations</p> <p>These are NOT identical to the original files found above.  Compare you'll see how they differ.  This is very specific to be used for gql-iterate.</p> tags.gqlperformers.gql <pre><code>    mutation TagCreate( \n      $name: String!,\n      $image: String) {\n        tagCreate(input: { \n          name: $name,  \n          image: $image \n        }) {\n       id\n      }\n    }\n</code></pre> <pre><code>    mutation PerformerCreate( \n      $name: String!, \n      $url: String, \n      $gender: GenderEnum, \n      $birthdate: String, \n      $ethnicity: String, \n      $country: String, \n      $eye_color: String, \n      $height: String, \n      $measurements: String, \n      $fake_tits: String, \n      $career_length: String, \n      $tattoos: String, \n      $piercings: String, \n      $aliases: String, \n      $twitter: String, \n      $instagram: String, \n      $favorite: Boolean, \n      $image: String) {\n           performerCreate(input: { \n             name: $name, \n             url: $url, \n             gender: $gender, \n             birthdate: $birthdate, \n             ethnicity: $ethnicity, \n             country: $country, \n             eye_color: $eye_color, \n             height: $height, \n             measurements: $measurements, \n             fake_tits: $fake_tits, \n             career_length: $career_length, \n             tattoos: $tattoos,\n             piercings: $piercings, \n             aliases: $aliases, \n             twitter: $twitter, \n             instagram: $instagram, \n             favorite: $favorite, \n             image: $image }\n       ) \n       { id } \n     }\n</code></pre> <p>If you have a suggested change, please add it below.</p>"},{"location":"guides/importing-via-csv-using-gql-iterate/#step-3-prepare-your-textfile-or-spreadsheet-into-a-csv","title":"Step 3: Prepare your textfile or spreadsheet into a CSV","text":"<p>let's say you have a textfile with these performers (just names and eyecolors for a simple example) If you have a spreadsheet, add a first line with the column headers, you HAVE to provide all fields listed above in the first line, but you don't have to actually have data in them. </p> <p><code>name,url,gender,birthdate,ethnicity,country,eye_color,height,measurements,fake_tits,career_length,tattoos,piercings,aliases,twitter,instagram,favorite,image</code></p> <p>then add your data if text, or export as CSV if it's a spreadsheet (gender is not a string, see documentation in code, and favorite is a boolean, if you want to add those)</p> <pre><code>Alice,,,,,,blue\nBetty,,,,,,green\nCarter,,,,,,brown\n</code></pre> <p>the above lines all go into a file, like performerdata.csv</p> <p>Gender is complicated due to Stash using GenderEnum.</p> <p>For tags, you only need the tag title, and if desired, a url to a image</p> <p>If you're unable to get this to work, then omit the favorite and image property from your CSV header, and from the performers.gql file.</p>"},{"location":"guides/importing-via-csv-using-gql-iterate/#step-4","title":"Step 4","text":"<p>Note</p> <p>Must use numerical IP instead of localhost.</p> <p>Run this CLI command (assumes your files are in current directory and location for gql-interate is in your path)</p> <p><code>gql-iterate --host http://_yourserverIP:portgoeshere_/graphql --input ./performerdata.csv --query ./performers.gql</code></p> <p>It will run and add performers, it won't duplicate existing names, so you can run it multiple times if you want to add more names.  Or delete something and readd it, if need be.</p>"},{"location":"guides/manually-editing-the-stash-sqlite3-database/","title":"Manually editing the Stash sqlite3 database","text":""},{"location":"guides/manually-editing-the-stash-sqlite3-database/#location","title":"Location","text":"<p>The Stash Sqlite3 database file is located at <code>~/.stash/stash-go.sqlite</code>.</p> <p>Before making changes to the Stash sqlite3 database - please make a backup first!</p> <p>You can use the <code>sqlite3</code> client to directly edit this file.</p>"},{"location":"guides/manually-editing-the-stash-sqlite3-database/#opening-the-database-file","title":"Opening the database file","text":"<pre><code>cd ~/.stash\nsqlite3 stash-go.sqlite\n</code></pre>"},{"location":"guides/manually-editing-the-stash-sqlite3-database/#examples","title":"Examples","text":""},{"location":"guides/manually-editing-the-stash-sqlite3-database/#deleting-all-tags","title":"Deleting all tags","text":"<p>If you need to delete all tags, you can use the following commands:</p> <pre><code>sqlite&gt; DELETE FROM scenes_tags;\nsqlite&gt; DELETE FROM tags;\n</code></pre> <p>Note</p> <p>This will not work if you have Scene marker tags.</p>"},{"location":"guides/reverse-proxy/","title":"Reverse proxy","text":"<p>The use of a reverse proxy for Stash is possible. </p>"},{"location":"guides/reverse-proxy/#general","title":"General","text":"<p>Generally, the following headers will need to be set (check your proxy's documentation for how to configure).</p> <ul> <li>Host (http host)</li> <li>X-Real-IP</li> <li>X-Forwarded-For</li> <li>X-Forwarded-Proto</li> </ul> <p>See issue 134 for more information.</p>"},{"location":"guides/reverse-proxy/#using-a-url-prefix","title":"Using a URL prefix","text":"<p>Stash also supports running under a URL prefix, in which case the the <code>X-Forwarded-Prefix</code> header must also be set. The proxy also needs to remove the prefix from the requested URLs. For example, if you want your homepage to be accessible at <code>http://example.domain.com/stash</code>, then you need to set <code>X-Forwarded-Prefix: /stash</code>. </p>"},{"location":"guides/reverse-proxy/#setting-external-url","title":"Setting External URL","text":"<p>You can also set the host that will be served by Stash manually by adding an <code>external_host:</code> setting in your Stash config.yml and assigning it the publicly accessible hostname, including the <code>http://</code> or <code>https://</code>. <code>X-Forwarded-Prefix</code> will still need to be set if using a prefix. </p><pre><code>external_host: http://example.domain.com\n</code></pre><p></p>"},{"location":"guides/reverse-proxy/#server-configuration-examples","title":"Server Configuration Examples","text":""},{"location":"guides/reverse-proxy/#nginx","title":"Nginx","text":"<pre><code>location / {\n    proxy_pass http://127.0.0.1:9999;\n\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_read_timeout 60000s;\n}\n</code></pre>"},{"location":"guides/reverse-proxy/#nginx-docker-linuxserver-letsencrypt","title":"Nginx + Docker (Linuxserver Letsencrypt)","text":"<p>If you are using the linuxserver letencrypt docker you can use create a <code>stash.subdomain.conf</code> file in your <code>proxy-confs</code> folder and use this as the config: </p><pre><code># make sure that your dns has a cname set for stash\n\nserver {\n    listen 443 ssl;\n    listen [::]:443 ssl;\n\n    server_name stash.*;\n\n    include /config/nginx/ssl.conf;\n\n    client_max_body_size 0;\n\n    # enable for ldap auth, fill in ldap details in ldap.conf\n    #include /config/nginx/ldap.conf;\n\n    location / {\n        # enable the next two lines for http auth\n        #auth_basic \"Restricted\";\n        #auth_basic_user_file /config/nginx/.htpasswd;\n\n        # enable the next two lines for ldap auth\n        #auth_request /auth;\n        #error_page 401 =200 /login;\n\n        include /config/nginx/proxy.conf;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        resolver 127.0.0.11 valid=30s;\n        set $upstream_app stash;\n        set $upstream_port 9999;\n        set $upstream_proto http;\n        proxy_pass $upstream_proto://$upstream_app:$upstream_port;\n        proxy_set_header Host $http_host;\n        proxy_read_timeout 60000s;\n    }\n}\n</code></pre><p></p>"},{"location":"guides/reverse-proxy/#nginx-with-prefix","title":"Nginx with prefix","text":"<p>An example for <code>nginx</code> using the prefix <code>/stash</code>:</p> <pre><code>location /stash/ {\n    # Notice the trailing slash - this causes nginx to remove the /stash prefix from requested URLs\n    proxy_pass http://192.168.0.1:9999/;\n\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"Upgrade\";\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Port $server_port;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-Prefix /stash;\n    proxy_read_timeout 60000s;\n}\n</code></pre>"},{"location":"guides/reverse-proxy/#nginx-with-external_host","title":"Nginx with external_host","text":"<p>Another example for <code>nginx</code>:</p> <p>In this case we are using <code>stash.home</code> as our domain and <code>192.168.0.1</code> is stash's ip so edit acccordingly.</p> <p>The <code>external_host</code> configuration option should also be set, in this case <code>external_host: http://stash.home</code>. Refer to external_host for more details.</p> <pre><code>server {\n    listen 80;\n    listen [::]:80;\n\n    server_name stash.home;\n    client_max_body_size 0;\n\n    location / {\n        proxy_pass http://192.168.0.1:9999;\n\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"Upgrade\";\n        proxy_set_header Host $http_host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Port $server_port;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre>"},{"location":"guides/reverse-proxy/#apache","title":"Apache","text":"<pre><code># if using apache &lt; 2.4.47, remove upgrade=websocket\nProxyPass \"/stash\" \"http://127.0.0.1:9999\" upgrade=websocket\nProxyPassReverse \"/stash\" \"http://127.0.0.1:9999\"\nRequestHeader setIfEmpty X-Forwarded-Prefix \"/stash\"\nProxyPreserveHost on\n\n# for name resolution\nServerAdmin admin@example.com\nServerName example.com\nServerAlias stash.example.com\n\n# to enable websockets for apache &lt; 2.4.47\n#RewriteEngine on\n#RewriteCond %{HTTP:Upgrade} websocket [NC]\n#RewriteCond %{HTTP:Connection} upgrade [NC]\n#RewriteRule ^/?stash/(.*) \"ws://127.0.0.1:9999/$1\" [P,L]\n\n# to add SSL\nSSLEngine on\nSSLCertificateFile /path/to/cert.pem\nSSLCertificateKeyFile /path/to/cert.key\n</code></pre>"},{"location":"guides/reverse-proxy/#prerequisites","title":"Prerequisites","text":"<pre><code>sudo a2enmod proxy\nsudo a2enmod proxy_http\nsudo a2enmod proxy_balancer\nsudo a2enmod lbmethod_byrequests\n\nsudo a2enmod rewrite\nsudo a2enmod headers\n\n# for SSL\nsudo a2enmod ssl\n</code></pre>"},{"location":"guides/reverse-proxy/#caddy-v2","title":"Caddy v2","text":"<pre><code>stash.example.com {\n    reverse_proxy 127.0.0.1:9999 {\n        header_up Host {host}\n        header_up X-Real-IP {remote_host}\n        header_up X-Forwarded-Port {server_port}\n    }\n}\n</code></pre> <p>The <code>external_host</code> configuration option should also be set, in this case <code>external_host: http://stash.home</code>. Refer to external_host for more details.</p>"},{"location":"guides/reverse-proxy/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guides/reverse-proxy/#504-errors","title":"504 Errors","text":"<ul> <li>In some cases with big database files you might encounter <code>504</code> errors during stash db migration due to timeout. Adjusting the <code>proxy_read_timeout</code> value ( <code>proxy.conf</code> file in Letencrypt/Swag docker container)</li> </ul>"},{"location":"guides/reverse-proxy/#422-errors","title":"422 Errors","text":"<ul> <li>In order for the websocket to work, you may need to also add these lines to your server block (<code>proxy.conf</code> file in the Letencrypt Unraid docker container for instance) as mentioned here should fix the issue.</li> </ul> <pre><code>proxy_http_version 1.1;\nproxy_set_header Upgrade $http_upgrade;\nproxy_set_header Connection \"upgrade\";\n</code></pre>"},{"location":"guides/reverse-proxy/#cloudflare-tunnel","title":"Cloudflare Tunnel","text":"<p>Cloudflare Tunnels are not recommended since they throttle non-HTML traffic (which video falls under).</p> <p>See Cloudflare blog post for more details.</p>"},{"location":"guides/run-cdp-on-truenas-scale/","title":"Run CDP on TrueNAS Scale","text":"<p>Info</p> <p>Written by WiiGe. Originally posted on stashapp/stash discussions<sup>1</sup>.</p> <p>A way to use CDP scraper on TrueNAS Scale and install chromedp/headless-shell on TrueNAS Scale.</p> <p>People using stash-app on TrueNAS Scale like me may face the problem that no supported CDP app by truecharts or truenas , and now I found a way to properly run chromedp/headless-shell.</p> <p>This can be done by custom-app. </p> <p></p> <p>According to docker hub page of chromedp/headless-shell, we start container with  <code>docker run -d -p 9222:9222 --rm --name headless-shell --shm-size 2G chromedp/headless-shell</code>, but this's not enough for TrueNAS Scale which run everything with K3s.</p> <p>In order to run a docker image on K3s, we need to warp docker image with custom-app, fill the Container Repository with <code>chromedp/headless-shell</code> and Container Tag with <code>latest</code> so that TrueNAS can pull the image for you. </p> <p></p> <p>As for the docker args <code>docker run -d -p 9222:9222 --rm --name headless-shell --shm-size 2G chromedp/headless-shell</code>, we need to translate the args and env parameter into custom-app configuration. Under the Workload Settings section of custom-app configuration page, there will be a list of Extra Args, we put <code>--name headless-shell --shm-size 2G</code> here in custom-app way.</p> <p></p> <p>But due to this issue, K3s will report an error of zygote: <code>ERROR:zygote_host_impl_linux.cc(262)] Failed to adjust OOM score of renderer with pid 28: Permission denied (13)</code>,  solution is simple - just offer extra args to disable it :<code>--headless --disable-gpu --no-sandbox  --no-zygote --disable-software-rasterizer --disable-dev-shm-usage</code>.</p> <p><code>--remote-debugging-address=0.0.0.0 --remote-debugging-port=9222</code> is not needed because we will set port and ip on Networking and Services section for LoadBalancer (I am using 192.168.1.45 and 9222, change it for your own scenario).</p> <p>The Networking section and the final Extra Args page should be like this:</p> <p> </p> <p>and click Install button then your headless-shell will be good to go.</p> <p>The last step: just fill stash's CDP setting with <code>http://192.168.1.45:9222/json/version</code>(still, change ip:port for your own scenario), and now cdp should be running for you.  </p> <p>An extra note is Ingress section of custom-app, you may want to use chromedp/headless-shell remotely (e.g. accessing cdp by https://cdp.example.com/json/version), you need to modify the header of request with SetHeader function, see Host header is specified and is not an IP address or localhost. Obviously stash scraper do not support such operation, write your own scraper in this circumstances.</p> <p>I just put the info I found together and share here, hope this page help more people who try to use CDP scraper on K3s-based OS.</p> <ol> <li> <p>https://github.com/stashapp/stash/discussions/4719 \u21a9</p> </li> </ol>"},{"location":"guides/scraping-metadata-behind-login/","title":"Scraping metadata behind login","text":"<p>A regular scraper can only scrape information from webpages that are open to the public access. If you want to scrape a webpage that requires login or behind a paywall, you need to use the \"Visible CDP\" technique. </p> <p>Normal CDP scraping will launch a headless chrome browser, which will not show up for any user interactions. \"Visible CDP\" turns the \"headless chrome\" into a \"visible\" instance.</p> <ol> <li>Prepare your scraper's .yml file and make sure it's valid and working. Your scraper should have the following setting inside: <pre><code>driver:\n  useCDP: true\n</code></pre></li> <li>Run a command console. Go to the Chrome's binary directory and run <code>chrome.exe --remote-debugging-port=9222</code>. This will launch a special Chrome instance that Stash Scrapers can control later on.</li> <li>In Stash, make sure that the Settings &gt; Metadata Providers &gt; Scraping &gt; Chrome CDP Path is set to <code>http://localhost:9222/json/version</code>.</li> <li>Use the special Chrome instance you launched earlier, go to the webpage you want to scrape, type in your user/pass or pass any other human tests, until you see the page with desired content.</li> <li>Paste the webpage's URL in your Stash scene and start scraping. It should get the information correctly.</li> </ol>"},{"location":"guides/scraping-scenes-via-stash-box/","title":"Scraping scenes via stash-box","text":""},{"location":"guides/scraping-scenes-via-stash-box/#what-is-stash-box","title":"What is stash-box?","text":"<p>stash-box is an open-source video indexing and metadata API server for porn developed by Stash team. It provides a crowdsourced database of metadata for adult performers, studios and scenes.</p> <p>Stash has several ways to scrape from stash-box instances. From automatic to manual. Each has its own advantages and disadvantages.</p> <ul> <li>Tagger (recommended) - partially automatic, great accuracy</li> <li>Identify - fully automatic, mediocre accuracy</li> <li>Scrape with... - fully manual, great accuracy</li> </ul>"},{"location":"guides/scraping-scenes-via-stash-box/#prerequisites","title":"Prerequisites","text":""},{"location":"guides/scraping-scenes-via-stash-box/#enable-perceptual-hashes-phash","title":"Enable perceptual hashes (pHash)","text":"<ol> <li>Go to  Settings &gt; Tasks.</li> <li>Under Library heading you will find configuration options for Scan task and Generate task.</li> <li>Enable Generate perceptual hashes under Scan heading.</li> <li>Enable Perceptual hashes under Generate heading.</li> </ol> <p>Scan task and its options are applied when the content is being added to the database the first time.</p> <p>Generate task and its options are applied when you want to generate additional things for content that is already in your database.</p>"},{"location":"guides/scraping-scenes-via-stash-box/#configure-stash-box-endpoint","title":"Configure stash-box endpoint","text":"<p>Known stash-box instances</p> <p>A list of public stash-box instances is available here.</p> <ol> <li>Go to  Settings &gt; Metadata Providers.</li> <li>Under Stash-box Endpoints heading click Add and include the details of the stash-box instance you want to add.</li> <li>Click Test Credentials to make sure everything is correct.</li> </ol>"},{"location":"guides/scraping-scenes-via-stash-box/#tagger","title":"Tagger","text":"<p>Recommended to people that value accuracy the most. It can automatically go through scenes and match them based on perceptual hash, but object creation and verification is left to you and nothing is saved until you click Save.</p> <ol> <li>Go to  Tagger, which accessible from the toolbar.</li> <li>Under Source select a stash-box instance you want to use.</li> <li> <p>Opposite the Source click on the  to open configuration.</p> <ol> <li>You can enable Show male performers if you want them to be scraped for you locally.</li> <li>You can disable Set scene cover image if you prefer to keep your existing cover.</li> <li>You can enable Set tags if you want to be shown all the crowdsourced tags the scene has on the stash-box instance.</li> <li> <p>You can enable Mark as Organized on save which will apply  Organized flag.</p> Organized flag <p>Organized flag has a technical purpose in addition to being able to be used in a filter. All objects marked as organized will be ignored by automatic tasks like Identify and Auto Tag.</p> </li> </ol> </li> <li> <p>Click on Scrape All and look through the results. Add missing objects and click Save.</p> <ol> <li>If you got returned No results found, you can try using query method. You can enter title, performer, release date, or studio and click Search. Keep in mind that sometimes fewer details, are better.</li> <li>If you know the scene exists on that stash-box instance, but it wasn't found, you can input the exact StashID in the Query field, click Search and it will return that exact scene.</li> </ol> </li> <li> <p>For scenes that you clicked Save on, you can submit your file fingerprints (hashes) back to the instance to help improve the accuracy. Scroll to the top and click Submit x fingerprints.</p> Fingerprints <p>All fingerprints are tied to the user API key, no other information is sent to the stash-box instance. Privacy is paramount.</p> </li> </ol>"},{"location":"guides/scraping-scenes-via-stash-box/#identify","title":"Identify","text":"<p>For people that want fully automatic option and don't mind some potential inaccuracies. The task will automatically go through all scenes and match them based on perceptual hash. You can also create all missing objects automatically. No manual verification is possible.</p> <p>Warning</p> <p>Task is irreversible, so it's a good idea to make a backup before running it.</p> <ol> <li>Go to  Settings and enable Advanced Mode.</li> <li>Go to  Settings &gt; Tasks.</li> <li>Under Library heading click on Identify....</li> <li> <p>Under Sources select a stash-box instance(s) you want to match against.</p> <p>Info</p> <p>Identify task iterates through sources until it finds a match, once it finds a match, it will ignore all other sources for that scene.</p> </li> <li> <p>Configure default options that will apply to all sources (they can be overwritten for individual sources by clicking  next to each source).</p> <ol> <li>You can disable Show male performers if you don't want them to be scraped for you locally.</li> <li>You can disable Set scene cover image if you prefer to keep your existing cover.</li> <li>You can enable Set organized flag which will apply  Organized flag.</li> <li>You can disable Skip matches that have more than one result if you don't mind potentially getting more mismatched results. If enabled, it can also be tagged with a custom tag to let you know which scenes were skipped.</li> <li>You can disable Skip single name performers with no disambiguation if you don't mind potentially getting more mismatched results. If enabled, it can also be tagged with a custom tag to let you know which scenes were skipped.</li> </ol> </li> <li>Click Set as default to save your configuration.</li> <li>Configure default field options that will apply to all sources (they can be overwritten for individual sources by clicking  next to each source).</li> <li>Click Set as default to save your configuration.</li> <li>Click Identify to start the task.</li> </ol>"},{"location":"guides/scraping-scenes-via-stash-box/#scrape-with","title":"Scrape with...","text":"<p>In addition to previous methods, there is also a completely manual way to match scenes individually.</p> <ol> <li>Go to a scene you want to match.</li> <li>Click on the Edit tab.</li> <li>Click Scrape with... and select a stash-box instance you want to match against.</li> <li>Check the return results, create missing objects and click Apply.</li> <li>Click Save.</li> </ol>"},{"location":"guides/troubleshooting-video-playback/","title":"Troubleshooting video playback","text":""},{"location":"guides/troubleshooting-video-playback/#inspecting-files","title":"Inspecting files","text":"<p>You can use the ffprobe command to gather useful information about a video file:</p> <pre><code>ffprobe -show_format -show_streams big_buck_bunny.mkv\n</code></pre> <p>This can be useful for example, when filing bug reports, or discussing in chat.</p>"},{"location":"guides/troubleshooting-video-playback/#remuxing-files","title":"Remuxing files","text":"<p>Another good test, is to see if remuxing the file into a new video file helps:</p> <pre><code>ffmpeg -i big_buck_bunny.mkv -c:v copy -c:a copy remuxed_file.mkv\n</code></pre>"},{"location":"guides/troubleshooting-video-playback/#extracting-a-sample-of-a-video","title":"Extracting a sample of a video","text":"<p>If you are asked for a sample of a video (e.g. for developers to analyse), you can use </p> <pre><code>ffmpeg -ss 120 -i big_buck_bunny.mkv  -t 30 -c:v copy -c:a copy 30_second_sample.mkv\n</code></pre> <p>The above command starts at the 120-second marker, and takes a 30-second sample of the video file.</p>"},{"location":"in-app-manual/","title":"In-app manual","text":"<p>Info</p> <p>Stash internal help manual, mirrored from stashapp/stash/ui/v2.5/src/docs/en/Manual. </p> <p>Internal links will be broken as a result, but will work correctly when browsing the  Help section inside Stash.</p>"},{"location":"in-app-manual/browsing/","title":"Browsing","text":""},{"location":"in-app-manual/browsing/#browsing","title":"Browsing","text":""},{"location":"in-app-manual/browsing/#querying-and-filtering","title":"Querying and Filtering","text":""},{"location":"in-app-manual/browsing/#keyword-searching","title":"Keyword searching","text":"<p>The text field allows you to search using keywords. Keyword searching matches on different fields depending on the object type:</p> Type Fields searched Scene Title, Details, Path, OSHash, Checksum, Marker titles Image Title, Path, Checksum Group Title Marker Title, Scene title Gallery Title, Path, Checksum Performer Name, Aliases Studio Name, Aliases Tag Name, Aliases <p>Keyword matching uses the following rules:</p> <ul> <li>all words are required in the matching field. For example, <code>foo bar</code> matches scenes with both <code>foo</code> and <code>bar</code> in the title.</li> <li>the <code>or</code> keyword or symbol (<code>|</code>) is used to match either fields. For example, <code>foo or bar</code> (or <code>foo | bar</code>) matches scenes with <code>foo</code> or <code>bar</code> in the title. Or sets can be combined. For example, <code>foo or bar or baz xyz or zyx</code> matches scenes with one of <code>foo</code>, <code>bar</code> and <code>baz</code>, and <code>xyz</code> or <code>zyx</code>.</li> <li>the not symbol (<code>-</code>) is used to exclude terms. For example, <code>foo -bar</code> matches scenes with <code>foo</code> and excludes those with <code>bar</code>. The not symbol cannot be combined with an or operand. That is, <code>-foo or bar</code> will be interpreted to match <code>-foo</code> or <code>bar</code>. On the other hand, <code>foo or bar -baz</code> will match <code>foo</code> or <code>bar</code> and exclude <code>baz</code>.</li> <li>surrounding a phrase in quotes (<code>\"</code>) matches on that exact phrase. For example, <code>\"foo bar\"</code> matches scenes with <code>foo bar</code> in the title. Quotes may also be used to escape the keywords and symbols. For example, <code>foo \"-bar\"</code> will match scenes with <code>foo</code> and <code>-bar</code>.</li> <li>quoted phrases may be used with the or and not operators. For example, <code>\"foo bar\" or baz -\"xyz zyx\"</code> will match scenes with <code>foo bar</code> or <code>baz</code>, and exclude those with <code>xyz zyx</code>.</li> <li><code>or</code> keywords or symbols at the start or end of a line will be treated literally. That is, <code>or foo</code> will match scenes with <code>or</code> and <code>foo</code>.</li> <li>all keyword matching is case-insensitive</li> </ul>"},{"location":"in-app-manual/browsing/#filters","title":"Filters","text":"<p>Filters can be accessed by clicking the filter button on the right side of the query text field. </p> <p>Note that only one filter criterion per criterion type may be assigned.</p>"},{"location":"in-app-manual/browsing/#regex-modifiers","title":"Regex modifiers","text":"<p>Some filters have regex modifier as an option. Regex modifiers are case-sensitive by default.</p>"},{"location":"in-app-manual/browsing/#sorting-and-page-size","title":"Sorting and page size","text":"<p>The current sorting field is shown next to the query text field, indicating the current sort field and order. The page size dropdown allows selecting from a standard set of objects per page, and allows setting a custom page size.</p>"},{"location":"in-app-manual/browsing/#saved-filters","title":"Saved filters","text":"<p>Saved filters can be accessed with the bookmark button on the left of the query text field. The current filter can be saved by entering a filter name and clicking on the save button. Existing saved filters may be overwritten with the current filter by clicking on the save button next to the filter name. Saved filters may also be deleted by pressing the delete button next to the filter name.</p> <p>Saved filters are sorted alphabetically by title with capitalized titles sorted first.</p>"},{"location":"in-app-manual/browsing/#default-filter","title":"Default filter","text":"<p>The default filter for the top-level pages may be set to the current filter by clicking the <code>Set as default</code> button in the saved filter menu.</p>"},{"location":"in-app-manual/captions/","title":"Captions","text":""},{"location":"in-app-manual/captions/#captions","title":"Captions","text":"<p>Stash supports captioning with SRT and VTT files.</p> <p>Captions will only be detected if they are located in the same folder as the corresponding scene file.</p> <p>Ensure the caption files follow these naming conventions:</p>"},{"location":"in-app-manual/captions/#scene","title":"Scene","text":"<ul> <li>{scene_file_name}.{language_code}.ext</li> <li>{scene_file_name}.ext</li> </ul> <p>Where <code>{language_code}</code> is defined by the ISO-6399-1 (2 letters) standard and <code>ext</code> is the file extension. Captions files without a language code will be labeled as Unknown in the video player but will work fine.</p> <p>Scenes with captions can be filtered with the <code>captions</code> criterion.</p> <p>Note: If the caption file was added after the scene was initially added during scan, you will need to run a Selective Scan task for it to show up.</p>"},{"location":"in-app-manual/configuration/","title":"Configuration","text":""},{"location":"in-app-manual/configuration/#configuration","title":"Configuration","text":""},{"location":"in-app-manual/configuration/#library","title":"Library","text":"<p>This section allows you to add and remove directories from your library list. Files in these directories will be included when scanning. Files that are outside of these directories will be removed when running the Clean task.</p> <p>\u26a0\ufe0f Note: Don't forget to click <code>Save</code> after updating these directories!</p>"},{"location":"in-app-manual/configuration/#excluded-patterns","title":"Excluded patterns","text":"<p>Given a valid regex, files that match even partially are excluded during the Scan process and are not entered in the database. Also during the Clean task if these files exist in the DB they are removed from it and their generated files get deleted. Prior to matching both the filenames and patterns are converted to lower case so the match is case insensitive.</p> <p>Regex patterns can be added in the config file or from the UI. If you add manually to the config file a restart is needed while from the UI you just need to click the Save button. When added through the config file directly special care must be given to double escape the <code>\\</code> character.</p> <p>There are 2 separate exclusion settings. One is for videos, another is for images/galleries.</p> <p>Some examples:</p> <ul> <li><code>\"sample\\.mp4$\"</code> will exclude all files ending in <code>sample.mp4</code>. </li> <li><code>\"/\\.[[:word:]]+/\"</code> will exclude all hidden directories like <code>/.directoryname/</code>.</li> <li><code>\"c:\\\\stash\\\\videos\\\\exclude\"</code> will exclude specific Windows directory <code>c:\\stash\\videos\\exclude</code>.</li> <li><code>\"^/stash/videos/exclude/\"</code> will exclude all directories that match <code>/stash/videos/exclude/</code> pattern.</li> <li><code>\"\\\\\\\\stash\\\\network\\\\share\\\\excl\\\\\"</code> will exclude specific Windows network path <code>\\\\stash\\network\\share\\excl\\</code>.</li> </ul> <p>Note: If a directory is excluded for images and videos, then the directory will be excluded from scans completely.</p> <p>There is a useful regex101 site that can help test and experiment with regexps.</p>"},{"location":"in-app-manual/configuration/#gallery-creation-from-folders","title":"Gallery creation from folders","text":"<p>In the Library section you can find an option to create a gallery from each folder containing images. This will be applied on all libraries when activated, including the base folder of a library. </p> <p>If you wish to apply this on a per folder basis, you can create a file called .nogallery or .forcegallery in a folder that should act different than this global setting.</p> <p>This will either exclude the folder from becoming a gallery even if the setting is set, or create a gallery from the folder even if the setting is not set. </p> <p>The file will only be recognized if written in lower case letters.</p> <p>Files with a dot in front are handled as hidden in the Linux OS and Mac OS, so you will not see those files after creation on your system without setting your file manager accordingly.</p>"},{"location":"in-app-manual/configuration/#hashing-algorithms","title":"Hashing algorithms","text":"<p>Stash identifies video files by calculating a hash of the file. There are two algorithms available for hashing: <code>oshash</code> and <code>MD5</code>. <code>MD5</code> requires reading the entire file, and can therefore be slow, particularly when reading files over a network. <code>oshash</code> (which uses OpenSubtitle's hashing algorithm) only reads 64k from each end of the file.</p> <p>The hash is used to name the generated files such as preview images and videos, and sprite images.</p> <p>By default, new systems have MD5 calculation disabled for optimal performance. Existing systems that are upgraded will have the oshash populated for each scene on the next scan.</p>"},{"location":"in-app-manual/configuration/#changing-the-hashing-algorithm","title":"Changing the hashing algorithm","text":"<p>To change the file naming hash to oshash, all scenes must have their oshash values populated. oshash population is done automatically when scanning.</p> <p>To change the file naming hash to <code>MD5</code>, the MD5 must be populated for all scenes. To do this, <code>Calculate MD5</code> for videos must be enabled and the library must be rescanned.</p> <p>MD5 calculation may only be disabled if the file naming hash is set to <code>oshash</code>.</p> <p>After changing the file naming hash, any existing generated files will now be named incorrectly. This means that stash will not find them and may regenerate them if the <code>Generate task</code> is used. To remedy this, run the <code>Rename generated files</code> task, which will rename existing generated files to their correct names.</p>"},{"location":"in-app-manual/configuration/#step-by-step-instructions-to-migrate-to-oshash-for-existing-users","title":"Step-by-step instructions to migrate to oshash for existing users","text":"<p>These instructions are for existing users whose systems will be defaulted to use and calculate MD5 checksums. Once completed, MD5 checksums will no longer be calculated when scanning, and oshash will be used for generated file naming. Existing calculated MD5 checksums will remain on scenes, but checksums will not be calculated for new scenes.</p> <ol> <li>Scan the library (to populate oshash for all existing scenes).</li> <li>In Settings -&gt; System page, untick <code>Calculate MD5</code> and select <code>oshash</code> as file naming hash. Save the configuration.</li> <li>In Settings -&gt; Tasks page, click on the <code>Rename generated files</code> migration button.</li> </ol>"},{"location":"in-app-manual/configuration/#parallel-scangeneration","title":"Parallel scan/generation","text":""},{"location":"in-app-manual/configuration/#number-of-parallel-task-for-scangeneration","title":"Number of parallel task for scan/generation","text":"<p>This setting controls how many sub-tasks will be run in parallel during scanning and generation tasks. (See Tasks)</p> <p>Auto-detection can be enabled by setting this to zero. This will calculate the number of parallel tasks to be logical cores/4 + 1.</p> <p>This setting can be used to increase/decrease overall CPU utilisation in two scenarios:</p> <ol> <li>High performance 4+ core cpus.</li> <li>Media files stored on remote/cloud filesystem.</li> </ol> <p>Note: If this is set too high it will decrease overall performance and causes failures (out of memory).</p>"},{"location":"in-app-manual/configuration/#hardware-accelerated-live-transcoding","title":"Hardware accelerated live transcoding","text":"<p>Hardware accelerated live transcoding can be enabled by setting the <code>FFmpeg hardware encoding</code> setting. Stash outputs the supported hardware encoders to the log file on startup at the Info log level. If a given hardware encoder is not supported, it's error message is logged to the Debug log level for debugging purposes.</p>"},{"location":"in-app-manual/configuration/#hlsdash-streaming","title":"HLS/DASH streaming","text":"<p>To stream using HLS (such as on Apple devices) or DASH, the Cache path must be set. This directory is used to store temporary files during the live-transcoding process. The Cache path can be set in the System settings page. </p>"},{"location":"in-app-manual/configuration/#ffmpeg-arguments","title":"ffmpeg arguments","text":"<p>Additional arguments can be injected into ffmpeg when generating previews and sprites, and when live-transcoding videos. </p> <p>The ffmpeg arguments configuration is split into <code>Input</code> and <code>Output</code> arguments. Input arguments are injected before the input file argument, and output arguments are injected before the output file argument.</p> <p>Arguments are accepted as a list of strings. Each string is a separate argument. For example, a single argument of <code>-foo bar</code> would be treated as a single argument <code>\"-foo bar\"</code>. The correct way to pass this argument would be to split it into two separate arguments: <code>\"-foo\", \"bar\"</code>.</p>"},{"location":"in-app-manual/configuration/#scraping","title":"Scraping","text":""},{"location":"in-app-manual/configuration/#user-agent-string","title":"User Agent string","text":"<p>Some websites require a legitimate User-Agent string when receiving requests, or they will be rejected. If entered, this string will be applied as the <code>User-Agent</code> header value in http scrape requests.</p>"},{"location":"in-app-manual/configuration/#chrome-cdp-path","title":"Chrome CDP path","text":"<p>Some scrapers require a Chrome instance to function correctly. If left empty, stash will attempt to find the Chrome executable in the path environment, and will fail if it cannot find one.</p> <p><code>Chrome CDP path</code> can be set to a path to the chrome executable, or an http(s) address to remote chrome instance (for example: <code>http://localhost:9222/json/version</code>).</p> <p>Important: As of Chrome 136 you need to specify <code>--user-data-dir</code> alongside <code>--remote-debugging-port</code>. Read more on their official post. </p>"},{"location":"in-app-manual/configuration/#authentication","title":"Authentication","text":"<p>By default, stash is not configured with any sort of password protection. To enable password protection, both <code>Username</code> and <code>Password</code> must be populated. Note that when entering a new username and password where none was set previously, the system will immediately request these credentials to log you in.</p>"},{"location":"in-app-manual/configuration/#api-key","title":"API key","text":"<p>If password protection is enabled, you may also generate an API key. An API key is used by external systems to access your stash system without needing to login first.</p> <p>External systems using the API key must set the <code>ApiKey</code> header value to the configured API key in order to bypass the login requirement.</p>"},{"location":"in-app-manual/configuration/#logging-out","title":"Logging out","text":"<p>The logout button is situated in the upper-right part of the screen when you are logged in.</p>"},{"location":"in-app-manual/configuration/#recovering-from-a-forgotten-username-or-password","title":"Recovering from a forgotten username or password","text":"<p>Stash saves login credentials in the config.yml file. You must reset both login and password if you have forgotten your password by doing the following:</p> <ul> <li>Close your Stash process</li> <li>Open the <code>config.yml</code> file found in your Stash directory with a text editor</li> <li>Delete the <code>username</code> and <code>password</code> lines from the file and save</li> </ul> <p>Stash authentication should now be reset with no authentication credentials.</p>"},{"location":"in-app-manual/configuration/#advanced-configuration-options","title":"Advanced configuration options","text":"<p>These options are typically not exposed in the UI and must be changed manually in the <code>config.yml</code> file.</p> Field Remarks <code>custom_served_folders</code> A map of URLs to file system folders. See below. <code>custom_ui_location</code> The file system folder where the UI files will be served from, instead of using the embedded UI. Empty to disable. Stash must be restarted to take effect. <code>developer_options.extra_blob_paths</code> A list of alternative blob paths. These paths will be read for blob files. Blobs will not be written or deleted from these paths. Intended for developer use only. <code>max_upload_size</code> Maximum file upload size for import files. Defaults to 1GB. <code>theme_color</code> Sets the <code>theme-color</code> property in the UI. <code>gallery_cover_regex</code> The regex responsible for selecting images as gallery covers <code>proxy</code> The url of a HTTP(S) proxy to be used when stash makes calls to online services. Example: https://user:password@my.proxy:8080. Note: SOCKS5 proxies are unsupported. <code>no_proxy</code> A list of domains for which the proxy must not be used. Default is all local LAN: localhost,127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12 <code>sequential_scanning</code> Modifies behaviour of the scanning functionality to generate support files (previews/sprites/phash) at the same time as fingerprinting/screenshotting. Useful when scanning cached remote files. <p>The following environment variables are also supported:</p> Environment variable Remarks <code>STASH_SQLITE_CACHE_SIZE</code> Sets the SQLite cache size. See https://www.sqlite.org/pragma.html#pragma_cache_size. Default is <code>-2000</code> which is 2MB."},{"location":"in-app-manual/configuration/#custom-served-folders","title":"Custom served folders","text":"<p>Custom served folders are served when the server handles a request with the <code>/custom</code> URL prefix. The following is an example configuration:</p> <pre><code>custom_served_folders:\n  /: D:\\stash\\static\n  /foo: D:\\bar\n</code></pre> <p>With the above configuration, a request for <code>/custom/foo/bar.png</code> would serve <code>D:\\bar\\bar.png</code>. </p> <p>The <code>/</code> entry matches anything that is not otherwise mapped by the other entries. For example, <code>/custom/baz/xyz.png</code> would serve <code>D:\\stash\\static\\baz\\xyz.png</code>.</p>"},{"location":"in-app-manual/contributing/","title":"Ways to contribute","text":""},{"location":"in-app-manual/contributing/#ways-to-contribute","title":"Ways to contribute","text":""},{"location":"in-app-manual/contributing/#financial","title":"Financial","text":"<p>Financial contributions are welcomed and are accepted using Open Collective.</p>"},{"location":"in-app-manual/contributing/#development-related","title":"Development-related","text":"<p>The Stash backend is written in Go, using a SQLite database. The UI is written in Typescript, using React. Bug fixes, improvements and new features are welcomed. Please see the DEVELOPMENT.md file for details on how to get started. Assistance is available via our Discord.</p>"},{"location":"in-app-manual/contributing/#documentation","title":"Documentation","text":"<p>Efforts to improve documentation in Stash helps new users and reduces the number of questions we have to field in Discord. Contributions to documentation are welcomed. While submitting documentation changes via GitHub pull requests is ideal, we will gladly accept submissions via GitHub issues or on Discord.</p> <p>For those with web page experience, we also welcome contributions to our website (which as of writing is very undeveloped).</p>"},{"location":"in-app-manual/contributing/#testing-features-improvements-and-bug-fixes","title":"Testing features, improvements and bug fixes","text":"<p>Testing is currently covered by a very small group, so new testers are welcomed. Being able to build Stash locally is ideal, but binaries for pull requests are also available.</p> <p>First, you will need to be signed in to GitHub. Find and open the relevant pull request, and then click on the <code>Checks</code> tab. On the right, there should be a button titled <code>Artifacts</code> - click that, and you should get a dropdown with links to download binaries built from that pull request for Linux, Windows and macOS.</p>"},{"location":"in-app-manual/contributing/#submitting-and-contributing-to-bug-reports-improvements-and-new-features","title":"Submitting and contributing to bug reports, improvements and new features","text":"<p>We welcome ideas for future improvements and features, and bug reports help everyone. These can all be found on GitHub.</p>"},{"location":"in-app-manual/contributing/#providing-support","title":"Providing support","text":"<p>Offering support for new users on Discord is also welcomed.</p>"},{"location":"in-app-manual/deduplication/","title":"Dupe checker","text":""},{"location":"in-app-manual/deduplication/#dupe-checker","title":"Dupe Checker","text":"<p>The dupe checker searches your collection for scenes that are perceptually similar. This means that the files don't need to be identical, and will be identified even with different bitrates, resolutions, and intros/outros.</p> <p>To achieve this stash needs to generate what's called a phash, or perceptual hash. Similar to sprite generation stash will generate a set of 25 images from fixed points in the scene. These images will be stitched together, and then hashed using the phash algorithm. The phash can then be used to find scenes that are the same or similar to others in the database. Phash generation can be run during scan, or as a separate task. Note that generation can take a while due to the work involved with extracting screenshots.</p> <p>The dupe checker can be run with four different levels of accuracy. <code>Exact</code> looks for scenes that have exactly the same phash. This is a fast and accurate operation that should not yield any false positives except in very rare cases. The other accuracy levels look for duplicate files within a set distance of each other. This means the scenes don't have exactly the same phash, but are very similar. <code>High</code> and <code>Medium</code> should still yield very good results with few or no false positives. <code>Low</code> is likely to produce some false positives, but might still be useful for finding dupes.</p> <p>Note that to generate a phash stash requires an uncorrupted file. If any errors are encountered during sprite generation the phash will not be generated. This is to prevent false positives.</p>"},{"location":"in-app-manual/images/","title":"Images and galleries","text":""},{"location":"in-app-manual/images/#images-and-galleries","title":"Images and Galleries","text":"<p>Images are the parts which make up galleries, but you can also have them be scanned independently. To declare an image part of a gallery, there are four ways:</p> <ol> <li>Group them in a folder together and activate the Create galleries from folders containing images option in the library section of your settings. The gallery will get the name of the folder.</li> <li>Group them in a folder together and create a file in the folder called .forcegallery. The gallery will get the name of the folder.</li> <li>Group them into a zip archive together. The gallery will get the name of the archive.</li> <li>You can simply create a gallery in stash itself by clicking on New in the Galleries tab. </li> </ol> <p>You can add images to every gallery manually in the gallery detail page. Deleting can be done by selecting the according images in the same view and clicking on the minus next to the edit button.</p> <p>For best results, images in zip file should be stored without compression (copy, store or no compression options depending on the software you use. Eg on linux: <code>zip -0 -r gallery.zip foldertozip/</code>). This impacts heavily on the zip read performance.</p> <p>If a filename of an image in the gallery zip file ends with <code>cover.jpg</code>, it will be treated like a cover and presented first in the gallery view page and as a gallery cover in the gallery list view. If more than one images match the name the first one found in natural sort order is selected.</p> <p>You can also manually select any image from a gallery as its cover. On the gallery details page, select the desired cover image, and then select Set as Cover in the \u22ef menu.</p>"},{"location":"in-app-manual/images/#image-clipsgifs","title":"Image clips/gifs","text":"<p>Images can also be clips/gifs. These are meant to be short video loops. Right now they are not possible in zipfiles. To declare video files to be images, there are two ways:</p> <ol> <li>Deactivate video scanning for all libraries that contain clips/gifs, but keep image scanning active. Set the Scan Video Extensions as Image Clip option in the library section of your settings. </li> <li>Make sure none of the file endings used by your clips/gifs are present in the Video Extensions and add them to the Image Extensions in the library section of your settings.</li> </ol> <p>A clip/gif will be a stillframe in the wall and grid view by default. To view the loop, you can go into the Lightbox Carousel (e.g. by clicking on an image in the wall view) or the image detail page.</p> <p>If you want the loop to be used as a preview on the wall and grid view, you will have to generate them.  You can do this as you scan for the new clip file by activating Generate previews for image clips on the scan settings, or do it after by going to the Generated Content section in the task section of your settings, activating Image Clip Previews and clicking generate. This takes a while, as the files are transcoded.</p>"},{"location":"in-app-manual/interactive/","title":"Interactivity","text":""},{"location":"in-app-manual/interactive/#interactivity","title":"Interactivity","text":"<p>Stash currently supports syncing with Handy devices, using funscript files.</p> <p>In order for stash to connect to your Handy device, the Handy Connection Key must be entered in Settings -&gt; Interface.</p> <p>Funscript files must be in the same directory as the matching video file and must have the same base name. For example, a funscript file for <code>video.mp4</code> must be named <code>video.funscript</code>. A scan must be run to update scenes with matching funscript files.</p> <p>Scenes with funscript files can be filtered with the <code>interactive</code> criterion.</p>"},{"location":"in-app-manual/interface/","title":"Interface options","text":""},{"location":"in-app-manual/interface/#interface-options","title":"Interface Options","text":""},{"location":"in-app-manual/interface/#language","title":"Language","text":"<p>Setting the language affects the formatting of numbers and dates.</p>"},{"location":"in-app-manual/interface/#scenemarker-wall-preview-type","title":"Scene/Marker Wall Preview Type","text":"<p>The Scene Wall and Marker pages display scene preview videos (mp4) by default. This can be changed to animated image (webp) or static image. </p> <p>\u26a0\ufe0f Note: scene/marker preview videos must be generated to see them in the applicable wall page if Video preview type is selected. Likewise, if Animated Image is selected, then Image Previews must be generated.</p>"},{"location":"in-app-manual/interface/#show-studios-as-text","title":"Show Studios as text","text":"<p>By default, a scene's studio will be shown as an image overlay. Checking this option changes this to display studios as a text name instead.</p>"},{"location":"in-app-manual/interface/#scene-player-options","title":"Scene Player options","text":"<p>By default, scene videos do not automatically start when navigating to the scenes page. Checking the \"Auto-start video\" option changes this to auto play scene videos.</p> <p>The maximum loop duration option allows looping of shorter videos. Set this value to the maximum scene duration that scene videos should loop. Setting this to 0 disables this functionality.</p>"},{"location":"in-app-manual/interface/#activity-tracking","title":"Activity tracking","text":"<p>The \"Track Activity\" option allows tracking of scene play count and duration, and sets the resume point when a scene video is not finished.</p> <p>The \"Minimum Play Percent\" gives the minimum proportion of a video that must be played before the play count of the scene is incremented.</p> <p>By default, when a scene has a resume point, the scene player will automatically seek to this point when the scene is played. Setting \"Always start video from beginning\" to true disables this behaviour.</p>"},{"location":"in-app-manual/interface/#custom-css","title":"Custom CSS","text":"<p>The stash UI can be customised using custom CSS. See here for a community-curated set of CSS snippets to customise your UI. </p> <p>There is also a collection of community-created themes available.</p>"},{"location":"in-app-manual/interface/#custom-javascript","title":"Custom Javascript","text":"<p>Stash supports the injection of custom javascript to assist with theming or adding additional functionality. Be aware that bad Javascript could break the UI or worse.</p>"},{"location":"in-app-manual/interface/#custom-locales","title":"Custom Locales","text":"<p>The localisation strings can be customised. The master list of default (en-GB) locale strings can be found here. The custom locale format is the same as this json file.</p> <p>For example, to override the <code>actions.add_directory</code> label (which is <code>Add Directory</code> by default), you would have the following in the custom locale:</p> <pre><code>{\n  \"actions\": {\n    \"add_directory\": \"Some other description\"\n  }\n}\n</code></pre>"},{"location":"in-app-manual/interface/#custom-served-folders","title":"Custom served folders","text":"<p>It is possible to expose specific folders to the UI. This configuration is performed manually in the <code>config.yml</code> file only.</p> <p>Custom served content is exposed via the <code>/custom</code> URL path prefix.</p> <p>For example, in the <code>config.yml</code> file: </p><pre><code>custom_served_folders:\n  /: D:\\stash\\static\n  /foo: D:\\bar\n</code></pre><p></p> <p>With the above configuration, a request for <code>/custom/foo/bar.png</code> would return <code>D:\\bar\\bar.png</code>. The <code>/</code> entry matches anything that is not otherwise mapped by the other entries. For example, <code>/custom/baz/xyz.png</code> would return <code>D:\\stash\\static\\baz\\xyz.png</code>.</p> <p>Applications for this include using static images in custom css, like the Plex theme. For example, using the following config: </p><pre><code>custom_served_folders:\n  /: &lt;stash folder&gt;\\custom\n</code></pre><p></p> <p>The <code>background.png</code> and <code>noise.png</code> files can be placed in the <code>custom</code> folder, then in the custom css, the <code>./background.png</code> and <code>./noise.png</code> strings can be replaced with <code>/custom/background.png</code> and <code>/custom/noise.png</code> respectively.</p> <p>Other applications are to add custom UIs to stash, accessible via <code>/custom</code>.</p>"},{"location":"in-app-manual/introduction/","title":"Introduction","text":""},{"location":"in-app-manual/introduction/#introduction","title":"Introduction","text":"<p>Stash works by cataloging your media using the paths that you provide. Once you have configured the locations where your media is stored, you can click the Scan button in <code>Settings -&gt; Tasks</code> and stash will begin scanning and importing your media into its library.</p> <p>For the best experience, it is recommended that after a scan is finished, that video previews and sprites are generated. You can do this in <code>Settings -&gt; Tasks</code>. Note that currently it is only possible to perform one task at a time and but there is a task queue, so the generate tasks should be performed after scan is complete.</p> <p>Once your media is imported, you are ready to begin creating Performers, Studios and Tags, and curating your content!</p>"},{"location":"in-app-manual/keyboardshortcuts/","title":"Keyboard shortcuts","text":""},{"location":"in-app-manual/keyboardshortcuts/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":""},{"location":"in-app-manual/keyboardshortcuts/#global-shortcuts","title":"Global shortcuts","text":"Keyboard sequence Action <code>?</code> Display manual"},{"location":"in-app-manual/keyboardshortcuts/#global-navigation","title":"Global Navigation","text":"Keyboard sequence Target page <code>g s</code> Scenes <code>g i</code> Images <code>g v</code> Groups <code>g k</code> Markers <code>g l</code> Galleries <code>g p</code> Performers <code>g u</code> Studios <code>g t</code> Tags <code>g z</code> Settings"},{"location":"in-app-manual/keyboardshortcuts/#query-page-shortcuts","title":"Query page shortcuts","text":"Keyboard sequence Action <code>/</code> Focus search field / focus query field in filter dialog <code>f</code> Show Add Filter dialog <code>r</code> Reshuffle if sorted by random <code>v g</code> Set view to grid <code>v l</code> Set view to list <code>v w</code> Set view to wall <code>+</code> Increase zoom slider <code>-</code> Decrease zoom slider <code>\u2190</code> Previous page of results <code>\u2192</code> Next page of results <code>Shift + \u2190</code> Go to current results page -10 <code>Shift + \u2192</code> Go to current results page +10 <code>Ctrl + Home</code> Go to first page of results <code>Ctrl + End</code> Go to last page of results <code>s a</code> Select all on page <code>s n</code> Unselect all <code>e</code> Edit selected <code>d d</code> Delete selected"},{"location":"in-app-manual/keyboardshortcuts/#scenes-page-shortcuts","title":"Scenes page shortcuts","text":"Keyboard sequence Action <code>p r</code> Play random scene"},{"location":"in-app-manual/keyboardshortcuts/#scene-page-shortcuts","title":"Scene page shortcuts","text":"Keyboard sequence Action <code>a</code> Details tab <code>q</code> Queue tab <code>k</code> Markers tab <code>i</code> File info tab <code>e</code> Edit tab <code>h</code> History tab <code>,</code> Hide/Show sidebar <code>.</code> Hide/Show scene scrubber <code>o</code> Increment O-Counter Ratings <code>r {1-5}</code> Set rating (stars) <code>r 0</code> Unset rating (stars) <code>r {0-9} {0-9}</code> Set rating (decimal - <code>00</code> for <code>10.0</code>) <code>r `</code> Unset rating (decimal) Playback <code>p n</code> Play next scene in queue <code>p p</code> Play previous scene in queue <code>p r</code> Play random scene in queue <code>Space</code> Play/pause player <code>Enter</code> Play/pause player <code>\u2190</code> Seek backwards by 10 seconds <code>\u2192</code> Seek forwards by 10 seconds <code>Shift + \u2190</code> Seek backwards by 5 seconds <code>Shift + \u2192</code> Seek forwards by 5 seconds <code>Ctrl/Alt + \u2190</code> Seek backwards by 1 minute <code>Ctrl/Alt + \u2192</code> Seek forwards by 1 minute <code>{1-9}</code> Seek to 10-90% duration <code>[</code> Scrub backwards 10% duration <code>]</code> Scrub forwards 10% duration <code>\u2191</code> Increase volume 10% <code>\u2193</code> Decrease volume 10% <code>m</code> Toggle mute <code>l</code> A/B looping toggle. Press once to set start point. Press again to set end point. Press again to disable loop. <code>Shift + l</code> Toggle looping of scene when it's over"},{"location":"in-app-manual/keyboardshortcuts/#scene-markers-tab-shortcuts","title":"Scene Markers tab shortcuts","text":"Keyboard sequence Action <code>n</code> Display Create Markers dialog"},{"location":"in-app-manual/keyboardshortcuts/#scene-edit-tab-shortcuts","title":"Scene Edit tab shortcuts","text":"Keyboard sequence Action <code>s s</code> Save Scene <code>d d</code> Delete Scene <code>Ctrl + v</code> Paste Scene cover"},{"location":"in-app-manual/keyboardshortcuts/#image-page-shortcuts","title":"Image Page shortcuts","text":"Keyboard sequence Action <code>e</code> Edit tab <code>o</code> Increment O-Counter Ratings <code>r {1-5}</code> Set rating (stars) <code>r 0</code> Unset rating (stars) <code>r {0-9} {0-9}</code> Set rating (decimal - <code>00</code> for <code>10.0</code>) <code>r `</code> Unset rating (decimal)"},{"location":"in-app-manual/keyboardshortcuts/#image-edit-tab-shortcuts","title":"Image Edit tab shortcuts","text":"Keyboard sequence Action <code>s s</code> Save Scene <code>d d</code> Delete Scene"},{"location":"in-app-manual/keyboardshortcuts/#groups-page-shortcuts","title":"Groups Page shortcuts","text":"Keyboard sequence Action <code>n</code> New Group"},{"location":"in-app-manual/keyboardshortcuts/#group-page-shortcuts","title":"Group Page shortcuts","text":"Keyboard sequence Action <code>e</code> Edit Group <code>s s</code> Save Group <code>d d</code> Delete Group <code>r `</code> [Edit mode] Unset rating (decimal) <code>,</code> Expand/Collapse Details <code>Ctrl + v</code> Paste Group image Ratings <code>r {1-5}</code> [Edit mode] Set rating (stars) <code>r 0</code> [Edit mode] Unset rating (stars) <code>r {0-9} {0-9}</code> [Edit mode] Set rating (decimal - <code>r 0 0</code> for <code>10.0</code>)"},{"location":"in-app-manual/keyboardshortcuts/#markers-page-shortcuts","title":"Markers Page shortcuts","text":"Keyboard sequence Action <code>p r</code> Play random marker"},{"location":"in-app-manual/keyboardshortcuts/#performers-page-shortcuts","title":"Performers Page shortcuts","text":"Keyboard sequence Action <code>n</code> New Performer <code>p r</code> Open random Performer"},{"location":"in-app-manual/keyboardshortcuts/#performer-page-shortcuts","title":"Performer Page shortcuts","text":"Keyboard sequence Action <code>c</code> Scenes tab <code>e</code> Edit tab <code>o</code> Operations tab <code>f</code> Toggle favourite <code>,</code> Expand/Collapse Details"},{"location":"in-app-manual/keyboardshortcuts/#performer-edit-tab-shortcuts","title":"Performer Edit tab shortcuts","text":"Keyboard sequence Action <code>s s</code> Save Performer <code>d d</code> Delete Performer <code>Ctrl + v</code> Paste Performer image"},{"location":"in-app-manual/keyboardshortcuts/#studios-page-shortcuts","title":"Studios Page shortcuts","text":"Keyboard sequence Action <code>n</code> New Studio"},{"location":"in-app-manual/keyboardshortcuts/#studio-page-shortcuts","title":"Studio Page shortcuts","text":"Keyboard sequence Action <code>e</code> Edit Studio <code>s s</code> Save Studio <code>d d</code> Delete Studio <code>,</code> Expand/Collapse Details <code>Ctrl + v</code> Paste Studio image"},{"location":"in-app-manual/keyboardshortcuts/#tags-page-shortcuts","title":"Tags Page shortcuts","text":"Keyboard sequence Action <code>n</code> New Tag"},{"location":"in-app-manual/keyboardshortcuts/#tag-page-shortcuts","title":"Tag Page shortcuts","text":"Keyboard sequence Action <code>e</code> Edit Tag <code>s s</code> Save Tag <code>d d</code> Delete Tag <code>,</code> Expand/Collapse Details <code>Ctrl + v</code> Paste Tag image"},{"location":"in-app-manual/tagger/","title":"Scene tagger","text":""},{"location":"in-app-manual/tagger/#scene-tagger","title":"Scene Tagger","text":"<p>Stash can be integrated with stash-box which acts as a centralized metadata database. This is in the early stages of development but can be used for fingerprint/keyword lookups and automated tagging of performers and scenes. The batch tagging interface can be accessed from the scene view. For more information join our Discord.</p>"},{"location":"in-app-manual/tagger/#searching","title":"Searching","text":"<p>The fingerprint search matches your current selection of files against the remote stash-box instance. Any scenes with a matching fingerprint will be returned, although there is currently no validation of fingerprints so it\u2019s recommended to double-check the validity before saving.</p> <p>If no fingerprint match is found it\u2019s possible to search by keywords. The search works by matching the query against a scene\u2019s title, release date, studio name, and performer names. By default the tagger uses metadata set on the file, or parses the filename, this can be changed in the config.</p> <p>An important thing to note is that it only returns a match if all query terms are a match. As an example, if a scene is titled <code>\"A Trip to the Mall\"</code> with the performer <code>\"Jane Doe\"</code>, a search for <code>\"Trip to the Mall 1080p\"</code> will not match, however <code>\"trip mall doe\"</code> would. Usually a few pieces of info is enough, for instance performer name + release date or studio name. To avoid common non-related keywords you can add them to the blacklist in the tagger config. Any items in the blacklist are stripped out of the query.</p>"},{"location":"in-app-manual/tagger/#saving","title":"Saving","text":"<p>When a scene is matched stash will try to match the studio and performers against your local studios and performers. If you have previously matched them, they will automatically be selected. If not you either have to select the correct performer/studio from the dropdown, choose create to create a new entity, or skip to ignore it.</p> <p>Once a scene is saved the scene and the matched studio/performers will have the <code>stash_id</code> saved which will then be used for future tagging.</p> <p>By default male performers are not shown, this can be enabled in the tagger config. Likewise scene tags are by default not saved. They can be set to either merge with existing tags on the scene, or overwrite them. It is not recommended to set tags currently since they are hard to deduplicate and can litter your data.</p>"},{"location":"in-app-manual/tagger/#submitting-fingerprints","title":"Submitting fingerprints","text":"<p>After a scene is saved you will prompted to submit the fingerprint back to the stash-box instance. This is optional, but can be helpful for other users who have an identical copy who will then be able to match via the fingerprint search. No other information than the <code>stash_id</code> and file fingerprint is submitted.</p>"},{"location":"in-app-manual/plugins/","title":"Plugins","text":""},{"location":"in-app-manual/plugins/#plugins","title":"Plugins","text":"<p>Stash supports plugins that can do the following:</p> <ul> <li>perform custom tasks when triggered by the user from the Tasks page</li> <li>perform custom tasks when triggered from specific events</li> <li>add custom CSS to the UI</li> <li>add custom JavaScript to the UI</li> </ul> <p>Plugin tasks can be implemented using embedded Javascript, or by calling an external binary.</p> <p>\u26a0\ufe0f Note: Plugin support is still experimental and is likely to change.</p>"},{"location":"in-app-manual/plugins/#managing-plugins","title":"Managing Plugins","text":"<p>Plugins can be installed and managed from the <code>Settings &gt; Plugins</code> page. </p> <p>Plugins are installed using the <code>Available Plugins</code> section. This section allows configuring sources from which to install plugins. The <code>Community (stable)</code> source is configured by default. This source contains plugins for the current stable version of stash.</p> <p>These are the plugin sources maintained by the stashapp organisation:</p> Name Source URL Recommended Local Path Notes Community (stable) <code>https://stashapp.github.io/CommunityScripts/stable/index.yml</code> <code>stable</code> For the current stable version of stash. Community (develop) <code>https://stashapp.github.io/CommunityScripts/develop/index.yml</code> <code>develop</code> For the develop version of stash. <p>Installed plugins can be updated or uninstalled from the <code>Installed Plugins</code> section.</p>"},{"location":"in-app-manual/plugins/#source-urls","title":"Source URLs","text":"<p>The source URL must return a yaml file containing all the available packages for the source. An example source yaml file looks like the following:</p> <pre><code>- id: &lt;package id&gt;\n  name: &lt;package name&gt;\n  version: &lt;version&gt;\n  date: &lt;date&gt;\n  requires:\n  - &lt;ids of packages required by this package (optional)&gt;\n  - ...\n  path: &lt;path to package zip file&gt;\n  sha256: &lt;sha256 of zip&gt;\n  metadata:\n    &lt;optional key/value pairs for extra information&gt;\n- ...\n</code></pre> <p>Path can be a relative path to the zip file or an external URL.</p>"},{"location":"in-app-manual/plugins/#adding-plugins-manually","title":"Adding plugins manually","text":"<p>By default, Stash looks for plugin configurations in the <code>plugins</code> sub-directory of the directory where the stash <code>config.yml</code> is read. This will either be the <code>$HOME/.stash</code> directory or the current working directory.</p> <p>Plugins are added by adding configuration yaml files (format: <code>pluginName.yml</code>) to the <code>plugins</code> directory.</p> <p>Loaded plugins can be viewed in the Plugins page of the Settings. After plugins are added, removed or edited while stash is running, they can be reloaded by clicking <code>Reload Plugins</code> button.</p>"},{"location":"in-app-manual/plugins/#using-plugins","title":"Using plugins","text":"<p>Plugins provide tasks which can be run from the Tasks page. </p>"},{"location":"in-app-manual/plugins/#creating-plugins","title":"Creating plugins","text":""},{"location":"in-app-manual/plugins/#plugin-configuration-file-format","title":"Plugin configuration file format","text":"<p>The basic structure of a plugin configuration file is as follows:</p> <pre><code>name: &lt;plugin name&gt;\ndescription: &lt;optional description of the plugin&gt;\nversion: &lt;optional version tag&gt;\nurl: &lt;optional url&gt;\n\nui:\n  # optional list of css files to include in the UI\n  css:\n    - &lt;path to css file&gt;\n\n  # optional list of js files to include in the UI\n  javascript:\n    - &lt;path to javascript file&gt;\n\n  # optional list of plugin IDs to load prior to this plugin\n  requires:\n    - &lt;plugin ID&gt;\n\n  # optional list of assets \n  assets:\n    urlPrefix: fsLocation\n    ...\n\n  # content-security policy overrides\n  csp:\n    script-src:\n      - http://alloweddomain.com\n\n    style-src:\n      - http://alloweddomain.com\n\n    connect-src:\n      - http://alloweddomain.com\n\n# map of setting names to be displayed in the plugins page in the UI\nsettings:\n  # internal name\n  foo:\n  # name to display in the UI\n  displayName: Foo\n  # type of the attribute to show in the UI\n  # can be BOOLEAN, NUMBER, or STRING\n  type: BOOLEAN\n\n# the following are used for plugin tasks only\nexec:\n  - ...\ninterface: [interface type]\nerrLog: [one of none trace, debug, info, warning, error]\ntasks:\n  - ...\n</code></pre> <p>The <code>name</code>, <code>description</code>, <code>version</code> and <code>url</code> fields are displayed on the plugins page.</p> <p>The <code>exec</code>, <code>interface</code>, <code>errLog</code> and <code>tasks</code> fields are used only for plugins with tasks.</p> <p>The <code>settings</code> field is used to display plugin settings on the plugins page. Plugin settings can also be set using the graphql mutation <code>configurePlugin</code> - the settings set this way do not need to be specified in the <code>settings</code> field unless they are to be displayed in the stock plugin settings UI.</p>"},{"location":"in-app-manual/plugins/#ui-configuration","title":"UI Configuration","text":"<p>The <code>css</code> and <code>javascript</code> field values may be relative paths to the plugin configuration file, or may be full external URLs.</p> <p>The <code>requires</code> field is a list of plugin IDs which must have their javascript/css files loaded before this plugins javascript/css files.</p> <p>The <code>assets</code> field is a map of URL prefixes to filesystem paths relative to the plugin configuration file. Assets are mounted to the <code>/plugin/{pluginID}/assets</code> path. </p> <p>As an example, for a plugin with id <code>foo</code> with the following <code>assets</code> value: </p><pre><code>assets:\n  foo: bar\n  /: .\n</code></pre> The following URLs will be mapped to these locations: <code>/plugin/foo/assets/foo/file.txt</code> -&gt; <code>{pluginDir}/bar/file.txt</code> <code>/plugin/foo/assets/file.txt</code> -&gt; <code>{pluginDir}/file.txt</code> <code>/plugin/foo/assets/bar/file.txt</code> -&gt; <code>{pluginDir}/bar/file.txt</code> (via the <code>/</code> entry)<p></p> <p>Mappings that try to go outside of the directory containing the plugin configuration file will be ignored.</p> <p>The <code>csp</code> field contains overrides to the content security policies. The URLs in <code>script-src</code>, <code>style-src</code> and <code>connect-src</code> will be added to the applicable content security policy.</p> <p>See External Plugins for details for making plugins with external tasks.</p> <p>See Embedded Plugins for details for making plugins with embedded tasks.</p>"},{"location":"in-app-manual/plugins/#plugin-task-input","title":"Plugin task input","text":"<p>Plugin tasks may accept an input from the stash server. This input is encoded according to the interface, and has the following structure (presented here in JSON format): </p><pre><code>{\n    \"server_connection\": {\n        \"Scheme\": \"http\",\n        \"Port\": 9999,\n        \"SessionCookie\": {\n            \"Name\":\"session\",\n            \"Value\":\"cookie-value\",\n            \"Path\":\"\",\n            \"Domain\":\"\",\n            \"Expires\":\"0001-01-01T00:00:00Z\",\n            \"RawExpires\":\"\",\n            \"MaxAge\":0,\n            \"Secure\":false,\n            \"HttpOnly\":false,\n            \"SameSite\":0,\n            \"Raw\":\"\",\n            \"Unparsed\":null\n        },\n        \"Dir\": &lt;path to stash config directory&gt;,\n        \"PluginDir\": &lt;path to plugin config directory&gt;,\n    },\n    \"args\": {\n        \"argKey\": \"argValue\"\n    }\n}\n</code></pre><p></p> <p>The <code>server_connection</code> field contains all the information needed for a plugin to access the parent stash server, if necessary.</p>"},{"location":"in-app-manual/plugins/#plugin-task-output","title":"Plugin task output","text":"<p>Plugin task output is expected in the following structure (presented here as JSON format):</p> <pre><code>{\n    \"error\": &lt;optional error string&gt;\n    \"output\": &lt;anything&gt;\n}\n</code></pre> <p>The <code>error</code> field is logged in stash at the <code>error</code> log level if present. The <code>output</code> is written at the <code>debug</code> log level.</p>"},{"location":"in-app-manual/plugins/#task-configuration","title":"Task configuration","text":"<p>Tasks are configured using the following structure:</p> <pre><code>tasks:\n  - name: &lt;operation name&gt;\n    description: &lt;optional description&gt;\n    defaultArgs:\n      argKey: argValue\n</code></pre> <p>A plugin configuration may contain multiple tasks. </p> <p>The <code>defaultArgs</code> field is used to add inputs to the plugin input sent to the plugin.</p>"},{"location":"in-app-manual/plugins/#hook-configuration","title":"Hook configuration","text":"<p>Stash supports executing plugin operations via triggering of a hook during a stash operation.</p> <p>Hooks are configured using a similar structure to tasks:</p> <pre><code>hooks:\n  - name: &lt;operation name&gt;\n    description: &lt;optional description&gt;\n    triggeredBy:\n      - &lt;trigger types&gt;...\n    defaultArgs:\n      argKey: argValue\n</code></pre> <p>Note: it is possible for hooks to trigger eachother or themselves if they perform mutations. For safety, hooks will not be triggered if they have already been triggered in the context of the operation. Stash uses cookies to track this context, so it's important for plugins to send cookies when performing operations.</p>"},{"location":"in-app-manual/plugins/#trigger-types","title":"Trigger types","text":"<p>Trigger types use the following format: <code>&lt;object type&gt;.&lt;operation&gt;.&lt;hook type&gt;</code></p> <p>For example, a post-hook on a scene create operation will be <code>Scene.Create.Post</code>.</p> <p>The following object types are supported:</p> <ul> <li><code>Scene</code></li> <li><code>SceneMarker</code></li> <li><code>Image</code></li> <li><code>Gallery</code></li> <li><code>Group</code></li> <li><code>Performer</code></li> <li><code>Studio</code></li> <li><code>Tag</code></li> </ul> <p>The following operations are supported:</p> <ul> <li><code>Create</code></li> <li><code>Update</code></li> <li><code>Destroy</code></li> <li><code>Merge</code> (for <code>Tag</code> only)</li> </ul> <p>Currently, only <code>Post</code> hook types are supported. These are executed after the operation has completed and the transaction is committed.</p>"},{"location":"in-app-manual/plugins/#hook-input","title":"Hook input","text":"<p>Plugin tasks triggered by a hook include an argument named <code>hookContext</code> in the <code>args</code> object structure. The <code>hookContext</code> is structured as follows:</p> <pre><code>{\n    \"id\": &lt;object id&gt;,\n    \"type\": &lt;trigger type&gt;,\n    \"input\": &lt;operation input&gt;,\n    \"inputFields\": &lt;fields included in input&gt;\n}\n</code></pre> <p>The <code>input</code> field contains the JSON graphql input passed to the original operation. This will differ between operations. For hooks triggered by operations in a scan or clean, the input will be nil. <code>inputFields</code> is populated in update operations to indicate which fields were passed to the operation, to differentiate between missing and empty fields.</p> <p>For example, here is the <code>args</code> values for a Scene update operation:</p> <pre><code>{\n    \"hookContext\": {\n        \"type\":\"Scene.Update.Post\",\n        \"id\":45,\n        \"input\":{\n            \"clientMutationId\":null,\n            \"id\":\"45\",\n            \"title\":null,\n            \"details\":null,\n            \"url\":null,\n            \"date\":null,\n            \"rating\":null,\n            \"organized\":null,\n            \"studio_id\":null,\n            \"gallery_ids\":null,\n            \"performer_ids\":null,\n            \"groups\":null,\n            \"tag_ids\":[\"21\"],\n            \"cover_image\":null,\n            \"stash_ids\":null\n        },\n        \"inputFields\":[\n            \"tag_ids\",\n            \"id\"\n        ]\n    }\n}\n</code></pre>"},{"location":"in-app-manual/plugins/embeddedplugins/","title":"Embedded plugins","text":""},{"location":"in-app-manual/plugins/embeddedplugins/#embedded-plugin-tasks","title":"Embedded Plugin Tasks","text":"<p>Embedded plugin tasks are executed within the stash process using a scripting system.</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#supported-script-languages","title":"Supported script languages","text":"<p>Stash currently supports Javascript embedded plugin tasks using goja.</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#javascript-plugins","title":"Javascript plugins","text":""},{"location":"in-app-manual/plugins/embeddedplugins/#plugin-input","title":"Plugin input","text":"<p>The input is provided to Javascript plugin tasks using the <code>input</code> global variable, and is an object based on the structure provided in the <code>Plugin input</code> section of the Plugins page. Note that the <code>server_connection</code> field should not be necessary in most embedded plugins.</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#plugin-output","title":"Plugin output","text":"<p>The output of a Javascript plugin task is derived from the evaluated value of the script. The output should conform to the structure provided in the <code>Plugin output</code> section of the Plugins page.</p> <p>There are a number of ways to return the plugin output:</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#example-1","title":"Example #1","text":"<pre><code>(function() {\n    return {\n        Output: \"ok\"\n    };\n})();\n</code></pre>"},{"location":"in-app-manual/plugins/embeddedplugins/#example-2","title":"Example #2","text":"<pre><code>function main() {\n    return {\n        Output: \"ok\"\n    };\n}\n\nmain();\n</code></pre>"},{"location":"in-app-manual/plugins/embeddedplugins/#example-3","title":"Example #3","text":"<pre><code>var output = {\n    Output: \"ok\"\n};\n\noutput;\n</code></pre>"},{"location":"in-app-manual/plugins/embeddedplugins/#logging","title":"Logging","text":"<p>See the <code>Javascript API</code> section below on how to log with Javascript plugins.</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#plugin-configuration-file-format","title":"Plugin configuration file format","text":""},{"location":"in-app-manual/plugins/embeddedplugins/#exec","title":"exec","text":"<p>For embedded plugins, the <code>exec</code> field is a list with the first element being the path to the Javascript file that will be executed. It is expected that the path to the Javascript file is relative to the directory of the plugin configuration file.</p>"},{"location":"in-app-manual/plugins/embeddedplugins/#interface","title":"interface","text":"<p>For embedded plugins, the <code>interface</code> field must be set to one of the following values: * <code>js</code></p>"},{"location":"in-app-manual/plugins/embeddedplugins/#javascript-api","title":"Javascript API","text":""},{"location":"in-app-manual/plugins/embeddedplugins/#logging_1","title":"Logging","text":"<p>Stash provides the following API for logging in Javascript plugins:</p> Method Description <code>log.Trace(&lt;string&gt;)</code> Log with the <code>trace</code> log level. <code>log.Debug(&lt;string&gt;)</code> Log with the <code>debug</code> log level. <code>log.Info(&lt;string&gt;)</code> Log with the <code>info</code> log level. <code>log.Warn(&lt;string&gt;)</code> Log with the <code>warn</code> log level. <code>log.Error(&lt;string&gt;)</code> Log with the <code>error</code> log level. <code>log.Progress(&lt;float between 0 and 1&gt;)</code> Sets the progress of the plugin task, as a float, where <code>0</code> represents 0% and <code>1</code> represents 100%."},{"location":"in-app-manual/plugins/embeddedplugins/#gql","title":"GQL","text":"<p>Stash provides the following API for communicating with stash using the graphql interface:</p> Method Description <code>gql.Do(&lt;query/mutation string&gt;, &lt;variables object&gt;)</code> Executes a graphql query/mutation on the stash server. Returns an object in the same way as a graphql query does."},{"location":"in-app-manual/plugins/embeddedplugins/#example","title":"Example","text":"<pre><code>// creates a tag\nvar mutation = \"\\\nmutation tagCreate($input: TagCreateInput!) {\\\n  tagCreate(input: $input) {\\\n    id\\\n  }\\\n}\";\n\nvar variables = {\n    input: {\n        'name': tagName\n    }\n};\n\nresult = gql.Do(mutation, variables);\nlog.Info(\"tag id = \" + result.tagCreate.id);\n</code></pre>"},{"location":"in-app-manual/plugins/embeddedplugins/#utility-functions","title":"Utility functions","text":"<p>Stash provides the following API for utility functions:</p> Method Description <code>util.Sleep(&lt;milliseconds&gt;)</code> Suspends the current thread for the specified duration."},{"location":"in-app-manual/plugins/externalplugins/","title":"External plugins","text":""},{"location":"in-app-manual/plugins/externalplugins/#external-plugin-tasks","title":"External Plugin Tasks","text":"<p>External plugin tasks are executed by running an external binary.</p>"},{"location":"in-app-manual/plugins/externalplugins/#plugin-interfaces","title":"Plugin interfaces","text":"<p>Stash communicates with external plugin tasks using an interface. Stash currently supports RPC and raw interface types.</p>"},{"location":"in-app-manual/plugins/externalplugins/#rpc-interface","title":"RPC interface","text":"<p>The RPC interface uses JSON-RPC to communicate with the plugin process. A golang plugin utilising the RPC interface is available in the stash source code under <code>pkg/plugin/examples/gorpc</code>. RPC plugins are expected to provide an interface that fulfils the <code>RPCRunner</code> interface in <code>pkg/plugin/common</code>.</p> <p>RPC plugins are expected to accept requests asynchronously.</p> <p>When stopping an RPC plugin task, the stash server sends a stop request to the plugin and relies on the plugin to stop itself.</p>"},{"location":"in-app-manual/plugins/externalplugins/#raw-interface","title":"Raw interface","text":"<p>Raw interface plugins are not required to conform to any particular interface. The stash server will send the plugin input to the plugin process via its stdin stream, encoded as JSON. Raw interface plugins are not required to read the input.</p> <p>The stash server reads stdout for the plugin's output. If the output can be decoded as a JSON representation of the plugin output data structure then it will do so. If not, it will treat the entire stdout string as the plugin's output.</p> <p>When stopping a raw plugin task, the stash server kills the spawned process without warning or signals.</p>"},{"location":"in-app-manual/plugins/externalplugins/#logging","title":"Logging","text":"<p>External plugins may log to the stash server by writing to stderr. By default, data written to stderr will be logged by stash at the <code>error</code> level. This default behaviour can be changed by setting the <code>errLog</code> field in the plugin configuration file.</p> <p>Plugins can log for specific levels or log progress by prefixing the output string with special control characters. See <code>pkg/plugin/common/log</code> for how this is done in go.</p>"},{"location":"in-app-manual/plugins/externalplugins/#plugin-configuration-file-format","title":"Plugin configuration file format","text":""},{"location":"in-app-manual/plugins/externalplugins/#exec","title":"exec","text":"<p>For external plugin tasks, the <code>exec</code> field is a list with the first element being the binary that will be executed, and the subsequent elements are the arguments passed. The execution process will search the path for the binary, then will attempt to find the program in the same directory as the plugin configuration file. The <code>exe</code> extension is not necessary on Windows systems. </p> <p>\u26a0\ufe0f Note: The plugin execution process sets the current working directory to that of the stash process.</p> <p>Arguments can include the plugin's directory with the special string <code>{pluginDir}</code>. </p> <p>For example, if the plugin executable <code>my_plugin</code> is placed in the <code>plugins</code> subdirectory and requires arguments <code>foo</code> and <code>bar</code>, then the <code>exec</code> part of the configuration would look like the following:</p> <pre><code>exec:\n  - my_plugin\n  - foo\n  - bar\n</code></pre> <p>Another example might use a python script to execute the plugin. Assuming the python script <code>foo.py</code> is placed in the same directory as the plugin config file, the <code>exec</code> fragment would look like the following:</p> <pre><code>exec:\n  - python\n  - {pluginDir}/foo.py\n</code></pre>"},{"location":"in-app-manual/plugins/externalplugins/#interface","title":"interface","text":"<p>For external plugin tasks, the <code>interface</code> field must be set to one of the following values: * <code>rpc</code> * <code>raw</code></p> <p>See the <code>Plugin interfaces</code> section above for details on these interface types.</p> <p>The <code>interface</code> field defaults to <code>raw</code> if not provided.</p>"},{"location":"in-app-manual/plugins/externalplugins/#errlog","title":"errLog","text":"<p>The <code>errLog</code> field tells stash what the default log level should be when the plugin outputs to stderr without encoding a log level. It defaults to the <code>error</code> level if no provided. This field is not necessary if the plugin outputs logging with the appropriate encoding. See the <code>Logging</code> section above for details.</p>"},{"location":"in-app-manual/plugins/externalplugins/#task-configuration","title":"Task configuration","text":"<p>In addition to the standard task configuration, external tasks may be configured with an optional <code>execArgs</code> field to add extra parameters to the execution arguments for the task.</p> <p>For example:</p> <pre><code>tasks:\n  - name: &lt;operation name&gt;\n    description: &lt;optional description&gt;\n    execArgs:\n      - &lt;arg to add to the exec line&gt;\n</code></pre>"},{"location":"in-app-manual/plugins/uipluginapi/","title":"UI plugin API","text":""},{"location":"in-app-manual/plugins/uipluginapi/#ui-plugin-api","title":"UI Plugin API","text":"<p>The <code>PluginApi</code> object is a global object in the <code>window</code> object.</p> <p><code>PluginApi</code> is considered experimental and is subject to change without notice. This documentation covers only the plugin-specific API. It does not necessarily cover the core UI API. Information on these methods should be referenced in the UI source code.</p> <p>An example using various aspects of <code>PluginApi</code> may be found in the source code under <code>pkg/plugin/examples/react-component</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#properties","title":"Properties","text":""},{"location":"in-app-manual/plugins/uipluginapi/#react","title":"<code>React</code>","text":"<p>An instance of the React library.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#reactdom","title":"<code>ReactDOM</code>","text":"<p>An instance of the ReactDOM library.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#gql","title":"<code>GQL</code>","text":"<p>This namespace contains the generated graphql client interface. This is a low-level interface. In many cases, <code>StashService</code> should be used instead.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#libraries","title":"<code>libraries</code>","text":"<p><code>libraries</code> provides access to the following UI libraries: - <code>ReactRouterDOM</code> - <code>Bootstrap</code> - <code>Apollo</code> - <code>Intl</code> - <code>FontAwesomeRegular</code> - <code>FontAwesomeSolid</code> - <code>FontAwesomeBrands</code> - <code>Mousetrap</code> - <code>MousetrapPause</code> - <code>ReactSelect</code></p>"},{"location":"in-app-manual/plugins/uipluginapi/#register","title":"<code>register</code>","text":"<p>This namespace contains methods used to register page routes and components.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapiregisterroute","title":"<code>PluginApi.register.route</code>","text":"<p>Registers a route in the React Router.</p> Parameter Type Description <code>path</code> <code>string</code> The path to register. This should generally use the <code>/plugin/</code> prefix. <code>component</code> <code>React.FC</code> A React function component that will be rendered when the route is loaded. <p>Returns <code>void</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapiregistercomponent","title":"<code>PluginApi.register.component</code>","text":"<p>Registers a component to be used by plugins. The component will be available in the <code>components</code> namespace.</p> Parameter Type Description <code>name</code> <code>string</code> The name of the component to register. This should be unique and should ideally be prefixed with <code>plugin-</code>. <code>component</code> <code>React.FC</code> A React function component. <p>Returns <code>void</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#components","title":"<code>components</code>","text":"<p>This namespace contains all of the components available to plugins. These include a selection of core components and components registered using <code>PluginApi.register.component</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#utils","title":"<code>utils</code>","text":"<p>This namespace provides access to the <code>NavUtils</code> , <code>StashService</code> and <code>InteractiveUtils</code> namespaces. It also provides access to the <code>loadComponents</code> method.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapiutilsloadcomponents","title":"<code>PluginApi.utils.loadComponents</code>","text":"<p>Due to code splitting, some components may not be loaded and available when a plugin page is rendered. <code>loadComponents</code> loads all of the components that a plugin page may require.</p> <p>In general, <code>PluginApi.hooks.useLoadComponents</code> hook should be used instead.</p> Parameter Type Description <code>components</code> <code>Promise[]</code> The list of components to load. These values should come from the <code>PluginApi.loadableComponents</code> namespace. <p>Returns a <code>Promise&lt;void&gt;</code> that resolves when all of the components have been loaded.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapiutilsinteractiveutils","title":"<code>PluginApi.utils.InteractiveUtils</code>","text":"<p>This namespace provides access to <code>interactiveClientProvider</code> and <code>getPlayer</code>  - <code>getPlayer</code> returns the current <code>videojs</code> player object  - <code>interactiveClientProvider</code> takes <code>IInteractiveClientProvider</code> which allows a developer to hook into the lifecycle of funscripts. </p><pre><code>  export interface IDeviceSettings {\n  connectionKey: string;\n  scriptOffset: number;\n  estimatedServerTimeOffset?: number;\n  useStashHostedFunscript?: boolean;\n  [key: string]: unknown;\n}\n\nexport interface IInteractiveClientProviderOptions {\n  handyKey: string;\n  scriptOffset: number;\n  defaultClientProvider?: IInteractiveClientProvider;\n  stashConfig?: GQL.ConfigDataFragment;\n}\nexport interface IInteractiveClientProvider {\n  (options: IInteractiveClientProviderOptions): IInteractiveClient;\n}\n\n/**\n * Interface that is used for InteractiveProvider\n */\nexport interface IInteractiveClient {\n  connect(): Promise&lt;void&gt;;\n  handyKey: string;\n  uploadScript: (funscriptPath: string, apiKey?: string) =&gt; Promise&lt;void&gt;;\n  sync(): Promise&lt;number&gt;;\n  configure(config: Partial&lt;IDeviceSettings&gt;): Promise&lt;void&gt;;\n  play(position: number): Promise&lt;void&gt;;\n  pause(): Promise&lt;void&gt;;\n  ensurePlaying(position: number): Promise&lt;void&gt;;\n  setLooping(looping: boolean): Promise&lt;void&gt;;\n  readonly connected: boolean;\n  readonly playing: boolean;\n}\n</code></pre><p></p>"},{"location":"in-app-manual/plugins/uipluginapi/#example","title":"Example","text":"<p>For instance say I wanted to add extra logging when <code>IInteractiveClient.connect()</code> is called. In my plugin you would install your own client provider as seen below</p> <pre><code>InteractiveUtils.interactiveClientProvider = (\n  opts\n) =&gt; {\n  if (!opts.defaultClientProvider) {\n    throw new Error('invalid setup');\n  }\n\n  const client = opts.defaultClientProvider(opts);\n  const connect = client.connect;\n  client.connect = async () =&gt; {\n      console.log('patching connect method');\n      return connect.call(client);\n    };\n\n  return client;\n};\n</code></pre>"},{"location":"in-app-manual/plugins/uipluginapi/#hooks","title":"<code>hooks</code>","text":"<p>This namespace provides access to the following core utility hooks: - <code>useGalleryLightbox</code> - <code>useLightbox</code> - <code>useSpriteInfo</code> - <code>useToast</code></p> <p>It also provides plugin-specific hooks.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapihooksuseloadcomponents","title":"<code>PluginApi.hooks.useLoadComponents</code>","text":"<p>This is a hook used to load components, using the <code>PluginApi.utils.loadComponents</code> method.</p> Parameter Type Description <code>components</code> <code>Promise[]</code> The list of components to load. These values should come from the <code>PluginApi.loadableComponents</code> namespace. <p>Returns a <code>boolean</code> which will be <code>true</code> if the components are loading.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#loadablecomponents","title":"<code>loadableComponents</code>","text":"<p>This namespace contains all of the components that may need to be loaded using the <code>loadComponents</code> method. Components are added to this namespace as needed. Please make a development request if a required component is not in this namespace.</p> <p>This component also includes coarse-grained entries for every lazily loaded import in the stock UI. If a component is not available in <code>components</code> when the page loads, it can be loaded using the coarse-grained entry. For example, <code>PerformerCard</code> can be loaded using <code>loadableComponents.Performers</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#patch","title":"<code>patch</code>","text":"<p>This namespace provides methods to patch components to change their behaviour.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapipatchbefore","title":"<code>PluginApi.patch.before</code>","text":"<p>Registers a before function. A before function is called prior to calling a component's render function. It accepts the same parameters as the component's render function, and is expected to return a list of new arguments that will be passed to the render.</p> Parameter Type Description <code>component</code> <code>string</code> The name of the component to patch. <code>fn</code> <code>Function</code> The before function. It accepts the same arguments as the component render function and is expected to return a list of arguments to pass to the render function. <p>Returns <code>void</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapipatchinstead","title":"<code>PluginApi.patch.instead</code>","text":"<p>Registers a replacement function for a component. The provided function will be called with the arguments passed to the original render function, plus the next render function as the last argument. Replacement functions will be called in the order that they are registered. If a replacement function does not call the next render function then the following replacement functions will not be called or applied.</p> Parameter Type Description <code>component</code> <code>string</code> The name of the component to patch. <code>fn</code> <code>Function</code> The replacement function. It accepts the same arguments as the original render function, plus the next render function, and is expected to return the replacement component. <p>Returns <code>void</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapipatchafter","title":"<code>PluginApi.patch.after</code>","text":"<p>Registers an after function. An after function is called after the render function of the component. It accepts the arguments passed to the original render function, plus the result of the original render function. It is expected to return the rendered component.</p> Parameter Type Description <code>component</code> <code>string</code> The name of the component to patch. <code>fn</code> <code>Function</code> The after function. It accepts the same arguments as the original render function, plus the result of the original render function, and is expected to return the rendered component. <p>Returns <code>void</code>.</p>"},{"location":"in-app-manual/plugins/uipluginapi/#patchable-components-and-functions","title":"Patchable components and functions","text":"<ul> <li><code>AlertModal</code></li> <li><code>App</code></li> <li><code>BackgroundImage</code></li> <li><code>BooleanSetting</code></li> <li><code>ChangeButtonSetting</code></li> <li><code>CompressedPerformerDetailsPanel</code></li> <li><code>ConstantSetting</code></li> <li><code>CountrySelect</code></li> <li><code>CustomFieldInput</code></li> <li><code>CustomFields</code></li> <li><code>DateInput</code></li> <li><code>DetailImage</code></li> <li><code>ExternalLinkButtons</code></li> <li><code>ExternalLinksButton</code></li> <li><code>FolderSelect</code></li> <li><code>FrontPage</code></li> <li><code>GalleryCard</code></li> <li><code>GalleryCard.Details</code></li> <li><code>GalleryCard.Image</code></li> <li><code>GalleryCard.Overlays</code></li> <li><code>GalleryCard.Popovers</code></li> <li><code>GalleryIDSelect</code></li> <li><code>GallerySelect</code></li> <li><code>GallerySelect.sort</code></li> <li><code>GroupIDSelect</code></li> <li><code>GroupSelect</code></li> <li><code>GroupSelect.sort</code></li> <li><code>HeaderImage</code></li> <li><code>HoverPopover</code></li> <li><code>Icon</code></li> <li><code>ImageDetailPanel</code></li> <li><code>ImageInput</code></li> <li><code>LightboxLink</code></li> <li><code>LoadingIndicator</code></li> <li><code>MainNavBar.MenuItems</code></li> <li><code>MainNavBar.UtilityItems</code></li> <li><code>ModalSetting</code></li> <li><code>NumberSetting</code></li> <li><code>Pagination</code></li> <li><code>PaginationIndex</code></li> <li><code>PerformerAppearsWithPanel</code></li> <li><code>PerformerCard</code></li> <li><code>PerformerCard.Details</code></li> <li><code>PerformerCard.Image</code></li> <li><code>PerformerCard.Overlays</code></li> <li><code>PerformerCard.Popovers</code></li> <li><code>PerformerCard.Title</code></li> <li><code>PerformerDetailsPanel</code></li> <li><code>PerformerDetailsPanel.DetailGroup</code></li> <li><code>PerformerGalleriesPanel</code></li> <li><code>PerformerGroupsPanel</code></li> <li><code>PerformerHeaderImage</code></li> <li><code>PerformerIDSelect</code></li> <li><code>PerformerImagesPanel</code></li> <li><code>PerformerPage</code></li> <li><code>PerformerScenesPanel</code></li> <li><code>PerformerSelect</code></li> <li><code>PerformerSelect.sort</code></li> <li><code>PluginRoutes</code></li> <li><code>PluginSettings</code></li> <li><code>RatingNumber</code></li> <li><code>RatingStars</code></li> <li><code>RatingSystem</code></li> <li><code>SceneCard</code></li> <li><code>SceneCard.Details</code></li> <li><code>SceneCard.Image</code></li> <li><code>SceneCard.Overlays</code></li> <li><code>SceneCard.Popovers</code></li> <li><code>SceneFileInfoPanel</code></li> <li><code>SceneIDSelect</code></li> <li><code>ScenePage</code></li> <li><code>ScenePage.TabContent</code></li> <li><code>ScenePage.Tabs</code></li> <li><code>ScenePlayer</code></li> <li><code>SceneSelect</code></li> <li><code>SceneSelect.sort</code></li> <li><code>SelectSetting</code></li> <li><code>Setting</code></li> <li><code>SettingGroup</code></li> <li><code>SettingModal</code></li> <li><code>StringListSetting</code></li> <li><code>StringSetting</code></li> <li><code>StudioIDSelect</code></li> <li><code>StudioSelect</code></li> <li><code>StudioSelect.sort</code></li> <li><code>SweatDrops</code></li> <li><code>TabTitleCounter</code></li> <li><code>TagCard</code></li> <li><code>TagCard.Details</code></li> <li><code>TagCard.Image</code></li> <li><code>TagCard.Overlays</code></li> <li><code>TagCard.Popovers</code></li> <li><code>TagCard.Title</code></li> <li><code>TagIDSelect</code></li> <li><code>TagLink</code></li> <li><code>TagSelect</code></li> <li><code>TagSelect.sort</code></li> <li><code>TruncatedText</code></li> </ul>"},{"location":"in-app-manual/plugins/uipluginapi/#pluginapievent","title":"<code>PluginApi.Event</code>","text":"<p>Allows plugins to listen for Stash's events.</p> <pre><code>PluginApi.Event.addEventListener(\"stash:location\", (e) =&gt; console.log(\"Page Changed\", e.detail.data.location.pathname))\n</code></pre>"},{"location":"in-app-manual/scraping/","title":"Metadata scraping","text":""},{"location":"in-app-manual/scraping/#metadata-scraping","title":"Metadata Scraping","text":"<p>Stash supports scraping of metadata from various external sources.</p>"},{"location":"in-app-manual/scraping/#scraper-types","title":"Scraper Types","text":"Type Description Fragment Uses existing metadata for an Item and match it to a result from a metadata source. Search/By Name Uses a provided query string to search a metadata source for a list of matches for the user to pick from. URL Extracts metadata from a given URL."},{"location":"in-app-manual/scraping/#supported-scrapers","title":"Supported Scrapers","text":"Fragment Search URL gallery \u2714\ufe0f \u2714\ufe0f image \u2714\ufe0f \u2714\ufe0f group \u2714\ufe0f performer \u2714\ufe0f \u2714\ufe0f scene \u2714\ufe0f \u2714\ufe0f \u2714\ufe0f"},{"location":"in-app-manual/scraping/#included-scrapers","title":"Included Scrapers","text":"<p>Stash provides the following built-in scrapers:</p> Scraper Description Freeones <code>search</code> Performer scraper for freeones.xxx. Auto Tag Scene <code>fragment</code> scraper that matches existing performers, studio and tags using the filename."},{"location":"in-app-manual/scraping/#managing-scrapers","title":"Managing Scrapers","text":"<p>Scrapers can be installed and managed from the <code>Settings &gt; Metadata Providers</code> page. </p> <p>Scrapers are installed using the <code>Available Scrapers</code> section. This section allows configuring sources from which to install scrapers. The <code>Community (stable)</code> source is configured by default. This source contains scrapers for the current stable version of stash.</p> <p>These are the scraper sources maintained by the stashapp organisation:</p> Name Source URL Recommended Local Path Notes Community (stable) <code>https://stashapp.github.io/CommunityScrapers/stable/index.yml</code> <code>stable</code> For the current stable version of stash. Community (develop) <code>https://stashapp.github.io/CommunityScrapers/develop/index.yml</code> <code>develop</code> For the develop version of stash. <p>Installed scrapers can be updated or uninstalled from the <code>Installed Scrapers</code> section.</p>"},{"location":"in-app-manual/scraping/#source-urls","title":"Source URLs","text":"<p>The source URL must return a yaml file containing all the available packages for the source. An example source yaml file looks like the following:</p> <pre><code>- id: &lt;package id&gt;\n  name: &lt;package name&gt;\n  version: &lt;version&gt;\n  date: &lt;date&gt;\n  requires:\n  - &lt;ids of packages required by this package (optional)&gt;\n  - ...\n  path: &lt;path to package zip file&gt;\n  sha256: &lt;sha256 of zip&gt;\n  metadata:\n    &lt;optional key/value pairs for extra information&gt;\n- ...\n</code></pre> <p>Path can be a relative path to the zip file or an external URL.</p>"},{"location":"in-app-manual/scraping/#adding-scrapers-manually","title":"Adding Scrapers manually","text":"<p>By default, Stash looks for scraper configurations in the <code>scrapers</code> sub-directory of the directory where the stash <code>config.yml</code> is read. This will either be the <code>$HOME/.stash</code> directory or the current working directory.</p> <p>Scrapers are added manually by placing yaml configuration files (format: <code>scrapername.yml</code>) in the <code>scrapers</code> directory.</p> <p>\u26a0\ufe0f Note: Some scrapers may require more than just the yaml file, consult the individual scraper documentation</p> <p>After the yaml files are added, removed or edited while stash is running, they can be reloaded going to <code>Settings &gt; Metadata Providers &gt; Scrapers</code> and clicking <code>Reload Scrapers</code>.</p>"},{"location":"in-app-manual/scraping/#using-scrapers","title":"Using Scrapers","text":""},{"location":"in-app-manual/scraping/#fragment-scraper","title":"Fragment Scraper","text":"<p>Click on the <code>Scrape With...</code> button in the <code>edit</code> tab of an item, then select the scraper you wish to use.</p>"},{"location":"in-app-manual/scraping/#search-scraper","title":"Search Scraper","text":"<p>Click on the \ud83d\udd0d button in the <code>edit</code> tab of an item. You will be presented with a search dialog with a pre-populated query to search for, after searching you will be presented with a list of results to pick from</p>"},{"location":"in-app-manual/scraping/#url-scraper","title":"URL Scraper","text":"<p>Enter the URL in the <code>edit</code> tab of an Item. If a scraper is installed that supports that url, then a button will appear to scrape the metadata.</p>"},{"location":"in-app-manual/scraping/#tagger-view","title":"Tagger View","text":"<p>The Tagger view is accessed from the scenes page. It allows the user to run scrapers on all items on the current page. The Tagger presents the user with potential matches for an item from a selected stash-box instance or metadata source if supported. The user needs to select the correct metadata information to save. </p> <p>When used in combination with stash-box, the user can optionally submit scene fingerprints to contribute to a stash-box instance. A scene fingerprint consists of any generated hashes (<code>phash</code>, <code>oshash</code>, <code>md5</code>) and the scene duration. Fingerprint submissions are associated with your stash-box account. Submitting fingerprints assists others in matching their files, because stash-box returns a count of matching user submitted fingerprints with every potential match.</p> Has Tagger Source Selection gallery group performer \u2714\ufe0f scene \u2714\ufe0f \u2714\ufe0f"},{"location":"in-app-manual/scraping/#identify-task","title":"Identify Task","text":"<p>This task iterates through your Scenes and attempts to identify the scene using a selection of scraping sources. This task can be found under <code>Settings -&gt; Tasks -&gt; \"Identify...\" (Button)</code>. For more information see the Tasks &gt; Identify page.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/","title":"Contributing scrapers","text":""},{"location":"in-app-manual/scraping/scraperdevelopment/#contributing-scrapers","title":"Contributing Scrapers","text":"<p>Scrapers can be contributed to the community by creating a PR in this repository.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#xpath-scraper-templates","title":"XPath scraper templates","text":"<p>The most basic XPath scraper templates are available on CommunityScrapers repository.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scraper-configuration-file-format","title":"Scraper configuration file format","text":"<pre><code>name: &lt;site&gt;\nperformerByName:\n  &lt;single scraper config&gt;\nperformerByFragment:\n  &lt;single scraper config&gt;\nperformerByURL:\n  &lt;multiple scraper URL configs&gt;\nsceneByName:\n  &lt;single scraper config&gt;\nsceneByQueryFragment:\n  &lt;single scraper config&gt;\nsceneByFragment:\n  &lt;single scraper config&gt;\nsceneByURL:\n  &lt;multiple scraper URL configs&gt;\ngroupByURL:\n  &lt;multiple scraper URL configs&gt;\ngalleryByFragment:\n  &lt;single scraper config&gt;\ngalleryByURL:\n  &lt;multiple scraper URL configs&gt;\nimageByFragment:\n  &lt;single scraper config&gt;\nimageByURL:\n  &lt;multiple scraper URL configs&gt;\n&lt;other configurations&gt;\n</code></pre> <p><code>name</code> is mandatory, all other top-level fields are optional. The inclusion of each top-level field determines what capabilities the scraper has.</p> <p>A scraper configuration in any of the top-level fields must at least have an <code>action</code> field. The other fields are required based on the value of the <code>action</code> field.</p> <p>The scraping types and their required fields are outlined in the following table:</p> Behavior Required configuration Scraper in <code>Scrape...</code> dropdown button in Performer Edit page Valid <code>performerByName</code> and <code>performerByFragment</code> configurations. Scrape performer from URL Valid <code>performerByURL</code> configuration with matching URL. Scraper in query dropdown button in Scene Edit page Valid <code>sceneByName</code> and <code>sceneByQueryFragment</code> configurations. Scraper in <code>Scrape...</code> dropdown button in Scene Edit page Valid <code>sceneByFragment</code> configuration. Scrape scene from URL Valid <code>sceneByURL</code> configuration with matching URL. Scrape group from URL Valid <code>groupByURL</code> configuration with matching URL. Note: <code>movieByURL</code> is also supported but is deprecated. Scraper in <code>Scrape...</code> dropdown button in Gallery Edit page Valid <code>galleryByFragment</code> configuration. Scrape gallery from URL Valid <code>galleryByURL</code> configuration with matching URL. <p>URL-based scraping accepts multiple scrape configurations, and each configuration requires a <code>url</code> field. stash iterates through these configurations, attempting to match the entered URL against the <code>url</code> fields in the configuration. It executes the first scraping configuration where the entered URL contains the value of the <code>url</code> field. </p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#actions","title":"Actions","text":""},{"location":"in-app-manual/scraping/scraperdevelopment/#script","title":"Script","text":"<p>Executes a script to perform the scrape. The <code>script</code> field is required for this action and accepts a list of string arguments. For example:</p> <pre><code>action: script\nscript:\n  - python\n  - iafdScrape.py\n  - query\n</code></pre> <p>If the script specifies the python executable, Stash will find the correct python executable for your system, either <code>python</code> or <code>python3</code>. So for example. this configuration could execute <code>python iafdScrape.py query</code> or <code>python3 iafdScrape.py query</code>. <code>python3</code> will be looked for first and if it's not found, we'll check for <code>python</code>. In the case neither are found, you will get an error.</p> <p>Stash sends data to the script process's <code>stdin</code> stream and expects the output to be streamed to the <code>stdout</code> stream. Any errors and progress messages should be output to <code>stderr</code>.</p> <p>The script is sent input and expects output based on the scraping type, as detailed in the following table:</p> Scrape type Input Output <code>performerByName</code> <code>{\"name\": \"&lt;performer query string&gt;\"}</code> Array of JSON-encoded performer fragments (including at least <code>name</code>) <code>performerByFragment</code> JSON-encoded performer fragment JSON-encoded performer fragment <code>performerByURL</code> <code>{\"url\": \"&lt;url&gt;\"}</code> JSON-encoded performer fragment <code>sceneByName</code> <code>{\"name\": \"&lt;scene query string&gt;\"}</code> Array of JSON-encoded scene fragments <code>sceneByQueryFragment</code>, <code>sceneByFragment</code> JSON-encoded scene fragment JSON-encoded scene fragment <code>sceneByURL</code> <code>{\"url\": \"&lt;url&gt;\"}</code> JSON-encoded scene fragment <code>groupByURL</code> <code>{\"url\": \"&lt;url&gt;\"}</code> JSON-encoded group fragment <code>galleryByFragment</code> JSON-encoded gallery fragment JSON-encoded gallery fragment <code>galleryByURL</code> <code>{\"url\": \"&lt;url&gt;\"}</code> JSON-encoded gallery fragment <code>imageByFragment</code> JSON-encoded image fragment JSON-encoded image fragment <code>imageByURL</code> <code>{\"url\": \"&lt;url&gt;\"}</code> JSON-encoded image fragment <p>For <code>performerByName</code>, only <code>name</code> is required in the returned performer fragments. One entire object is sent back to <code>performerByFragment</code> to scrape a specific performer, so the other fields may be included to assist in scraping a performer. For example, the <code>url</code> field may be filled in for the specific performer page, then <code>performerByFragment</code> can extract by using its value.</p> <p>Python example of a performer Scraper:</p> <pre><code>import json\nimport sys\nimport string\n\ndef readJSONInput():\n    input = sys.stdin.read()\n    return json.loads(input)\n\n\ndef searchPerformer(name):\n    # perform scraping here - using name for the query\n\n    # fill in the output\n    ret = []\n\n    # example shown for a single found performer \n    p = {}\n    p['name'] = \"some name\"\n    p['url'] = \"performer url\"\n    ret.append(p)\n\n    return ret\n\ndef scrapePerformer(input):\n    ret = []\n    # get the url from the input\n    url = input['url']\n    return scrapePerformerURL(url)\n\ndef debugPrint(t):\n    sys.stderr.write(t + \"\\n\")\n\ndef scrapePerformerURL(url):\n    debugPrint(\"Reading url...\")\n    debugPrint(\"Parsing html...\")\n\n    # parse html\n\n    # fill in performer details - single object\n    ret = {}\n\n    ret['name'] = \"fred\"\n    ret['aliases'] = \"freddy\"\n    ret['ethnicity'] = \"\"\n    # and so on\n\n    return ret\n\n# read the input \ni = readJSONInput()\n\nif sys.argv[1] == \"query\":\n    ret = searchPerformer(i['name'])\n    print(json.dumps(ret))\nelif sys.argv[1] == \"scrape\":\n    ret = scrapePerformer(i)\n    print(json.dumps(ret))\nelif sys.argv[1] == \"scrapeURL\":\n    ret = scrapePerformerURL(i['url'])\n    print(json.dumps(ret))\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scrapexpath","title":"scrapeXPath","text":"<p>This action scrapes a web page using an xpath configuration to parse. This action is not valid for <code>performerByFragment</code>.</p> <p>This action requires that the top-level <code>xPathScrapers</code> configuration is populated. The <code>scraper</code> field is required and must match the name of a scraper name configured in <code>xPathScrapers</code>. For example:</p> <pre><code>sceneByURL:\n- action: scrapeXPath\n  url: \n    - pornhub.com/view_video.php\n  scraper: sceneScraper\n</code></pre> <p>The above configuration requires that <code>sceneScraper</code> exists in the <code>xPathScrapers</code> configuration.</p> <p>XPath scraping configurations specify the mapping between object fields and an xpath selector. The xpath scraper scrapes the applicable URL and uses xpath to populate the object fields.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scrapejson","title":"scrapeJson","text":"<p>This action works in the same way as <code>scrapeXPath</code>, but uses a mapped json configuration to parse. It uses the top-level <code>jsonScrapers</code> configuration. This action is not valid for <code>performerByFragment</code>.</p> <p>JSON scraping configurations specify the mapping between object fields and a GJSON selector. The JSON scraper scrapes the applicable URL and uses GJSON to parse the returned JSON object and populate the object fields.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scrapexpath-and-scrapejson-use-with-performerbyname","title":"scrapeXPath and scrapeJson use with <code>performerByName</code>","text":"<p>For <code>performerByName</code>, the <code>queryURL</code> field must be present also. This field is used to perform a search query URL for performer names. The placeholder string sequence <code>{}</code> is replaced with the performer name search string. For the subsequent performer scrape to work, the <code>URL</code> field must be filled in with the URL of the performer page that matches a URL given in a <code>performerByURL</code> scraping configuration. For example:</p> <pre><code>name: Boobpedia\nperformerByName:\n  action: scrapeXPath\n  queryURL: http://www.boobpedia.com/wiki/index.php?title=Special%3ASearch&amp;search={}&amp;fulltext=Search\n  scraper: performerSearch\nperformerByURL:\n  - action: scrapeXPath\n    url: \n      - boobpedia.com/boobs/\n    scraper: performerScraper\nxPathScrapers:\n  performerSearch:\n    performer:\n      Name: # name element\n      URL: # URL element that matches the boobpedia.com/boobs/ URL above\n  performerScraper:\n    # ... performer scraper details ...\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scrapexpath-and-scrapejson-use-with-scenebyfragment-and-scenebyqueryfragment","title":"scrapeXPath and scrapeJson use with <code>sceneByFragment</code> and <code>sceneByQueryFragment</code>","text":"<p>For <code>sceneByFragment</code> and <code>sceneByQueryFragment</code>, the <code>queryURL</code> field must also be present. This field is used to build a query URL for scenes. For <code>sceneByFragment</code>, the <code>queryURL</code> field supports the following placeholder fields:</p> <ul> <li><code>{checksum}</code> - the MD5 checksum of the scene</li> <li><code>{oshash}</code> - the oshash of the scene</li> <li><code>{filename}</code> - the base filename of the scene</li> <li><code>{title}</code> - the title of the scene</li> <li><code>{url}</code> - the url of the scene</li> </ul> <p>These placeholder field values may be manipulated with regex replacements by adding a <code>queryURLReplace</code> section, containing a map of placeholder field to regex configuration which uses the same format as the <code>replace</code> post-process action covered below.</p> <p>For example:</p> <pre><code>sceneByFragment:\n  action: scrapeJson\n  scraper: sceneQueryScraper\n  queryURL: https://metadataapi.net/api/scenes?parse={filename}&amp;limit=1\n  queryURLReplace:\n    filename:\n      - regex: &lt;some regex&gt;\n        with: &lt;replacement&gt;\n</code></pre> <p>The above configuration would scrape from the value of <code>queryURL</code>, replacing <code>{filename}</code> with the base filename of the scene, after it has been manipulated by the regex replacements.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scrapexpath-and-scrapejson-use-with-sceneperformergallerygroupbyurl","title":"scrapeXPath and scrapeJson use with <code>&lt;scene|performer|gallery|group&gt;ByURL</code>","text":"<p>For <code>sceneByURL</code>, <code>performerByURL</code>, <code>galleryByURL</code> the <code>queryURL</code> can also be present if we want to use <code>queryURLReplace</code>. The functionality is the same as <code>sceneByFragment</code>, the only placeholder field available though is the <code>url</code>:</p> <ul> <li><code>{url}</code> - the url of the scene/performer/gallery</li> </ul> <pre><code>sceneByURL:\n  - action: scrapeJson\n    url:\n      - metartnetwork.com\n    scraper: sceneScraper\n    queryURL: \"{url}\"\n    queryURLReplace:\n      url:\n        - regex: '^(?:.+\\.)?([^.]+)\\.com/.+movie/(\\d+)/(\\w+)/?$'\n          with: https://www.$1.com/api/movie?name=$3&amp;date=$2\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#stash","title":"Stash","text":"<p>A different stash server can be configured as a scraping source. This action applies only to <code>performerByName</code>, <code>performerByFragment</code>, <code>sceneByName</code>, <code>sceneByQueryFragment</code> and <code>sceneByFragment</code>, types. This action requires that the top-level <code>stashServer</code> field is configured.</p> <ul> <li><code>stashServer</code> contains a single <code>url</code> field for the remote stash server. </li> <li>The username and password can be embedded in this string using <code>username:password@host</code>. </li> <li>Alternatively, the <code>apiKey</code> field can be used to authenticate with the remote stash server.</li> </ul> <p>An example stash scrape configuration is below:</p> <pre><code>name: stash\nperformerByName:\n  action: stash\nperformerByFragment:\n  action: stash\nsceneByFragment:\n  action: stash\nsceneByName:\n  action: stash\nsceneByQueryFragment:\n  action: stash\nstashServer:\n  apiKey: &lt;api key&gt;\n  url: http://stashserver.com:9999\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#xpath-and-json-scrapers-configuration","title":"Xpath and JSON scrapers configuration","text":"<p>The top-level <code>xPathScrapers</code> field contains xpath scraping configurations, freely named. These are referenced in the <code>scraper</code> field for <code>scrapeXPath</code> scrapers. </p> <p>Likewise, the top-level <code>jsonScrapers</code> field contains json scraping configurations.</p> <p>Collectively, these configurations are known as mapped scraping configurations. </p> <p>A mapped scraping configuration may contain a <code>common</code> field, and must contain <code>performer</code>, <code>scene</code>, <code>group</code> or <code>gallery</code> depending on the scraping type it is configured for. </p> <p>Within the <code>performer</code>/<code>scene</code>/<code>group</code>/<code>gallery</code> field are key/value pairs corresponding to the golang fields on the performer/scene object. These fields are case-sensitive. </p> <p>The values of these may be either a simple selector value, which tells the system where to get the value of the field from, or a more advanced configuration (see below). For example, for an xpath configuration:</p> <pre><code>performer:\n  Name: //h1[@itemprop=\"name\"]\n</code></pre> <p>This will set the <code>Name</code> attribute of the returned performer to the text content of the element that matches <code>&lt;h1 itemprop=\"name\"&gt;...</code>.</p> <p>For a json configuration:</p> <pre><code>performer:\n  Name: data.name\n</code></pre> <p>The value may also be a sub-object. If it is a sub-object, then the selector must be set to the <code>selector</code> key of the sub-object. For example, using the same xpath as above:</p> <pre><code>performer:\n  Name: \n    selector: //h1[@itemprop=\"name\"]\n    postProcess:\n      # post-processing config values\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#fixed-attribute-values","title":"Fixed attribute values","text":"<p>Alternatively, an attribute value may be set to a fixed value, rather than scraping it from the webpage. This can be done by replacing <code>selector</code> with <code>fixed</code>. For example:</p> <pre><code>performer:\n  Gender: \n    fixed: Female\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#common-fragments","title":"Common fragments","text":"<p>The <code>common</code> field is used to configure selector fragments that can be referenced in the selector strings. These are key-value pairs where the key is the string to reference the fragment, and the value is the string that the fragment will be replaced with. For example:</p> <pre><code>common:\n  $infoPiece: //div[@class=\"infoPiece\"]/span\nperformer:\n  Measurements: $infoPiece[text() = 'Measurements:']/../span[@class=\"smallInfo\"]\n</code></pre> <p>The <code>Measurements</code> xpath string will replace <code>$infoPiece</code> with <code>//div[@class=\"infoPiece\"]/span</code>, resulting in: <code>//div[@class=\"infoPiece\"]/span[text() = 'Measurements:']/../span[@class=\"smallInfo\"]</code>.</p> <p>\u26a0\ufe0f Note: Recursive common fragments are not supported. Referencing a common fragment within another common fragment will cause an error. For example: </p><pre><code>common:\n  $info: //div[@class=\"info\"]\n  # Referencing $info in $models will cause an error\n  $models: $info/a[@class=\"model\"]\nscene:\n  Title: $info/h1\n  Performers:\n    Name: $models\n    URL: $models/@href\n</code></pre><p></p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#post-processing-options","title":"Post-processing options","text":"<p>Post-processing operations are contained in the <code>postProcess</code> key. Post-processing operations are performed in the order they are specified. The following post-processing operations are available:</p> <ul> <li><code>javascript</code>: accepts a javascript code block, that must return a string value. The input string is declared in the <code>value</code> variable. If an error occurs while compiling or running the script, then the original value is returned. Example: <pre><code>performer:\n  Name:\n    selector: //div[@class=\"example element\"]\n    postProcess:\n      - javascript: |\n          // capitalise the first letter\n          if (value &amp;&amp; value.length) {\n            return value[0].toUpperCase() + value.substring(1)\n          }\n</code></pre></li> </ul> <p>We use <code>goja</code> javascript engine which is missing a few built-in methods and may not be consistent with other modern javascript implementations.</p> <ul> <li><code>feetToCm</code>: converts a string containing feet and inches numbers into centimeters. Looks for up to two separate integers and interprets the first as the number of feet, and the second as the number of inches. The numbers can be separated by any non-numeric character including the <code>.</code> character. It does not handle decimal numbers. For example <code>6.3</code> and <code>6ft3.3</code> would both be interpreted as 6 feet, 3 inches before converting into centimeters.</li> <li><code>lbToKg</code>: converts a string containing lbs to kg.</li> <li> <p><code>map</code>: contains a map of input values to output values. Where a value matches one of the input values, it is replaced with the matching output value. If no value is matched, then value is unmodified. Example: </p><pre><code>performer:\n  Gender:\n    selector: //div[@class=\"example element\"]\n    postProcess:\n      - map:\n          F: Female\n          M: Male\n  Height:\n    selector: //span[@id=\"height\"]\n    postProcess:\n      - feetToCm: true\n  Weight:\n    selector: //span[@id=\"weight\"]\n    postProcess:\n      - lbToKg: true\n</code></pre> Gets the contents of the selected div element, and sets the returned value to:<p></p> <ul> <li><code>Female</code> if the scraped value is <code>F</code>;</li> <li><code>Male</code> if the scraped value is <code>M</code>.</li> </ul> <p>Height and weight are extracted from the selected spans and converted to <code>cm</code> and <code>kg</code>.</p> </li> <li> <p><code>parseDate</code>: if present, the value is the date format using go's reference date (2006-01-02). For example, if an example date was <code>14-Mar-2003</code>, then the date format would be <code>02-Jan-2006</code>. See the time.Parse documentation for details. When present, the scraper will convert the input string into a date, then convert it to the string format used by stash (<code>YYYY-MM-DD</code>). Strings \"Today\", \"Yesterday\" are matched (case insensitive) and converted by the scraper so you don't need to edit/replace them.  Unix timestamps (example: 1660169451) can also be parsed by selecting <code>unix</code> as the date format. Example: </p><pre><code>Date:\n  selector: //div[@class=\"value epoch\"]/text()\n  postProcess:\n    - parseDate: unix\n</code></pre><p></p> </li> <li> <p><code>subtractDays</code>: if set to <code>true</code> it subtracts the value in days from the current date and returns the resulting date in stash's date format. Example: </p><pre><code>Date:\n  selector: //strong[contains(text(),\"Added:\")]/following-sibling::text()\n  postProcess:\n    - replace:\n        - regex: (\\d+)\\sdays\\sago.+\n          with: $1\n    - subtractDays: true\n</code></pre><p></p> </li> <li> <p><code>replace</code>: contains an array of sub-objects. Each sub-object must have a <code>regex</code> and <code>with</code> field. The <code>regex</code> field is the regex pattern to replace, and <code>with</code> is the string to replace it with. <code>$</code> is used to reference capture groups - <code>$1</code> is the first capture group, <code>$2</code> the second and so on. Replacements are performed in order of the array. Example: </p><pre><code>CareerLength: \n  selector: $infoPiece[text() = 'Career Start and End:']/../span[@class=\"smallInfo\"]\n    postProcess:\n      - replace:\n          - regex: \\s+to\\s+\n            with: \"-\"\n</code></pre> Replaces <code>2001 to 2003</code> with <code>2001-2003</code>.<p></p> </li> <li> <p><code>subScraper</code>: if present, the sub-scraper will be executed after all other post-processes are complete and before parseDate. It then takes the value and performs an http request, using the value as the URL. Within the <code>subScraper</code> config is a nested scraping configuration. This allows you to traverse to other webpages to get the attribute value you are after. For more info and examples have a look at #370, #606</p> </li> </ul> <p>Additionally, there are a number of fixed post-processing fields that are specified at the attribute level (not in <code>postProcess</code>) that are performed after the <code>postProcess</code> operations:</p> <ul> <li><code>concat</code>: if an xpath matches multiple elements, and <code>concat</code> is present, then all of the elements will be concatenated together</li> <li><code>split</code>: the inverse of <code>concat</code>. Splits a string to more elements using the separator given. For more info and examples have a look at PR #579 Example: <pre><code>Tags:\n  Name:\n    selector: //span[@class=\"list_attributes\"]\n    split: \",\"\n</code></pre> Splits a comma separated list of tags located in the span and returns the tags.</li> </ul> <p>For backwards compatibility, <code>replace</code>, <code>subscraper</code> and <code>parseDate</code> are also allowed as keys for the attribute.</p> <p>Post-processing on attribute post-process is done in the following order: <code>concat</code>, <code>replace</code>, <code>subscraper</code>, <code>parseDate</code> and then <code>split</code>.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#xpath-resources","title":"XPath resources:","text":"<ul> <li>Test XPaths in Firefox: https://addons.mozilla.org/en-US/firefox/addon/try-xpath/</li> <li>XPath cheatsheet: https://devhints.io/xpath</li> </ul>"},{"location":"in-app-manual/scraping/scraperdevelopment/#gjson-resources","title":"GJSON resources:","text":"<ul> <li>GJSON Path Syntax: https://github.com/tidwall/gjson/blob/master/SYNTAX.md</li> </ul>"},{"location":"in-app-manual/scraping/scraperdevelopment/#debugging-support","title":"Debugging support","text":"<p>To print the received html/json from a scraper request to the log file, add the following to your scraper yml file: </p><pre><code>debug:\n  printHTML: true\n</code></pre><p></p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#cdp-support","title":"CDP support","text":"<p>Some websites deliver content that cannot be scraped using the raw html file alone. These websites use javascript to dynamically load the content. As such, direct xpath scraping will not work on these websites. There is an option to use Chrome DevTools Protocol to load the webpage using an instance of Chrome, then scrape the result.</p> <p>Chrome CDP support can be enabled for a specific scraping configuration by adding the following to the root of the yml configuration: </p><pre><code>driver:\n  useCDP: true\n</code></pre><p></p> <p>Optionally, you can add a <code>sleep</code> value under the <code>driver</code> section. This specifies the amount of time (in seconds) that the scraper should wait after loading the website to perform the scrape. This is needed as some sites need more time for loading scripts to finish. If unset, this value defaults to 2 seconds.</p> <p>When <code>useCDP</code> is set to true, stash will execute or connect to an instance of Chrome. The behavior is dictated by the <code>Chrome CDP path</code> setting in the user configuration. If left empty, stash will attempt to find the Chrome executable in the path environment, and will fail if it cannot find one. </p> <p><code>Chrome CDP path</code> can be set to a path to the chrome executable, or an http(s) address to remote chrome instance (for example: <code>http://localhost:9222/json/version</code>). As remote instance a docker container can also be used with the <code>chromedp/headless-shell</code> image being highly recommended.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#cdp-click-support","title":"CDP Click support","text":"<p>When using CDP you can use  the <code>clicks</code> part of the <code>driver</code> section to do Mouse Clicks on elements you need to collapse or toggle. Each click element has an <code>xpath</code> value that holds the XPath for the button/element you need to click and an optional <code>sleep</code> value that is the time in seconds to wait for after clicking. If the <code>sleep</code> value is not set it defaults to <code>2</code> seconds.</p> <p>A demo scraper using <code>clicks</code> follows.</p> <pre><code>name: clickDemo # demo only for a single URL\nsceneByURL:\n  - action: scrapeXPath\n    url:\n      - https://getbootstrap.com/docs/4.3/components/collapse/\n    scraper: sceneScraper\n\nxPathScrapers:\n  sceneScraper:\n    scene:\n      Title: //head/title\n      Details: # shows the id/s of the visible div/s for the Multiple targets example of the page\n        selector: //div[@class=\"bd-example\"]//div[@class=\"multi-collapse collapse show\"]/@id\n        concat: \"\\n\\n\"\n\ndriver:\n  useCDP: true\n  sleep: 1\n  clicks: # demo usage toggle on off multiple times\n    - xpath: //a[@href=\"#multiCollapseExample1\"] # toggle on first element\n    - xpath: //button[@data-target=\"#multiCollapseExample2\"] # toggle on second element\n      sleep: 4\n    - xpath: //a[@href=\"#multiCollapseExample1\"] # toggle off fist element\n      sleep: 1\n    - xpath: //button[@data-target=\"#multiCollapseExample2\"] # toggle off second element\n    - xpath: //button[@data-target=\"#multiCollapseExample2\"] # toggle on second element\n</code></pre> <p>\u26a0\ufe0f Note: each <code>click</code> adds an extra delay of <code>clicks sleep</code> seconds, so the above adds <code>2+4+1+2+2=11</code> seconds to the loading time of the page.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#cookie-support","title":"Cookie support","text":"<p>In some websites the use of cookies is needed to bypass a welcoming message or some other kind of protection. Stash supports the setting of cookies for the direct xpath scraper and the CDP based one. Due to implementation issues the usage varies a bit.</p> <p>To use the cookie functionality a <code>cookies</code> sub section needs to be added to the <code>driver</code> section. Each cookie element can consist of a <code>CookieURL</code> and a number of <code>Cookies</code>.</p> <ul> <li> <p><code>CookieURL</code> is only needed if you are using the direct / native scraper method. It is the request url that we expect from the site we scrape. It must be in the same domain as the cookies we try to set otherwise all cookies in the same group will fail to set. If the <code>CookieURL</code> is not a valid URL then again the cookies of that group will fail.</p> </li> <li> <p><code>Cookies</code> are the actual cookies we set. When using CDP that's the only part required. They have  <code>Name</code>, <code>Value</code>, <code>Domain</code>, <code>Path</code> values.</p> </li> </ul> <p>In the following example we use cookies for a site using the direct / native xpath scraper. We expect requests to come from <code>https://www.example.com</code> and <code>https://api.somewhere.com</code> that look for a <code>_warning</code> and a <code>_warn</code> cookie. A <code>_test2</code> cookie is also set just as a demo.</p> <pre><code>driver:\n  cookies:\n    - CookieURL: \"https://www.example.com\"\n      Cookies:\n        - Name: \"_warning\"\n          Domain: \".example.com\"\n          Value: \"true\"\n          Path: \"/\"\n        - Name: \"_test2\"\n          Value: \"123412\"\n          Domain: \".example.com\"\n          Path: \"/\"\n    - CookieURL: \"https://api.somewhere.com\"\n      Cookies:\n        - Name: \"_warn\"\n          Value: \"123\"\n          Domain: \".somewhere.com\"\n</code></pre> <p>The same functionality when using CDP would look like this:</p> <pre><code>driver:\n  useCDP: true\n  cookies:\n    - Cookies:\n        - Name: \"_warning\"\n          Domain: \".example.com\"\n          Value: \"true\"\n          Path: \"/\"\n        - Name: \"_test2\"\n          Value: \"123412\"\n          Domain: \".example.com\"\n          Path: \"/\"\n    - Cookies:\n        - Name: \"_warn\"\n          Value: \"123\"\n          Domain: \".somewhere.com\"\n</code></pre> <p>For some sites, the value of the cookie itself doesn't actually matter. In these cases, we can use the <code>ValueRandom</code> property instead of <code>Value</code>. Unlike <code>Value</code>, <code>ValueRandom</code> requires an integer value greater than <code>0</code> where the value indicates how long the cookie string should be.</p> <p>In the following example, we will adapt the previous cookies to use <code>ValueRandom</code> instead. We set the <code>_test2</code> cookie to randomly generate a value with a length of 6 characters and the <code>_warn</code> cookie to a length of 3.</p> <pre><code>driver:\n  cookies:\n    - CookieURL: \"https://www.example.com\"\n      Cookies:\n        - Name: \"_warning\"\n          Domain: \".example.com\"\n          Value: \"true\"\n          Path: \"/\"\n        - Name: \"_test2\"\n          ValueRandom: 6\n          Domain: \".example.com\"\n          Path: \"/\"\n    - CookieURL: \"https://api.somewhere.com\"\n      Cookies:\n        - Name: \"_warn\"\n          ValueRandom: 3\n          Domain: \".somewhere.com\"\n</code></pre> <p>When developing a scraper you can have a look at the cookies set by a site by adding</p> <ul> <li> <p>a <code>CookieURL</code> if you use the direct xpath scraper</p> </li> <li> <p>a <code>Domain</code> if you use the CDP scraper</p> </li> </ul> <p>and having a look at the log / console in debug mode.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#headers","title":"Headers","text":"<p>Sending request headers is possible when using a scraper. Headers can be set in the <code>driver</code> section and are supported for plain, CDP enabled and JSON scrapers. They consist of a Key and a Value. If the Key is empty or not defined then the header is ignored.</p> <pre><code>driver:\n  headers:\n    - Key: User-Agent\n      Value: My Stash Scraper\n    - Key: Authorization\n      Value: Bearer ds3sdfcFdfY17p4qBkTVF03zscUU2glSjWF17bZyoe8\n</code></pre> <ul> <li>headers are set after stash's <code>User-Agent</code> configuration option is applied. This means setting a <code>User-Agent</code> header from the scraper overrides the one in the configuration settings.</li> </ul>"},{"location":"in-app-manual/scraping/scraperdevelopment/#xpath-scraper-example","title":"XPath scraper example","text":"<p>A performer and scene xpath scraper is shown as an example below:</p> <pre><code>name: Pornhub\nperformerByURL:\n  - action: scrapeXPath\n    url: \n      - pornhub.com\n    scraper: performerScraper\nsceneByURL:\n  - action: scrapeXPath\n    url: \n      - pornhub.com/view_video.php\n    scraper: sceneScraper\nxPathScrapers:\n  performerScraper:\n    common:\n      $infoPiece: //div[@class=\"infoPiece\"]/span\n    performer:\n      Name: //h1[@itemprop=\"name\"]\n      Birthdate: \n        selector: //span[@itemprop=\"birthDate\"]\n        parseDate: Jan 2, 2006\n      Twitter: //span[text() = 'Twitter']/../@href\n      Instagram: //span[text() = 'Instagram']/../@href\n      Measurements: $infoPiece[text() = 'Measurements:']/../span[@class=\"smallInfo\"]\n      Height: \n        selector: $infoPiece[text() = 'Height:']/../span[@class=\"smallInfo\"]\n        postProcess:\n          - replace: \n              - regex: .*\\((\\d+) cm\\)\n                with: $1\n      Ethnicity: $infoPiece[text() = 'Ethnicity:']/../span[@class=\"smallInfo\"]\n      FakeTits: $infoPiece[text() = 'Fake Boobs:']/../span[@class=\"smallInfo\"]\n      Piercings: $infoPiece[text() = 'Piercings:']/../span[@class=\"smallInfo\"]\n      Tattoos: $infoPiece[text() = 'Tattoos:']/../span[@class=\"smallInfo\"]\n      CareerLength: \n        selector: $infoPiece[text() = 'Career Start and End:']/../span[@class=\"smallInfo\"]\n        postProcess:\n          - replace:\n            - regex: \\s+to\\s+\n              with: \"-\"\n  sceneScraper:\n    common:\n      $performer: //div[@class=\"pornstarsWrapper\"]/a[@data-mxptype=\"Pornstar\"]\n      $studio: //div[@data-type=\"channel\"]/a\n    scene:\n      Title: //div[@id=\"main-container\"]/@data-video-title\n      Tags: \n        Name: //div[@class=\"categoriesWrapper\"]//a[not(@class=\"add-btn-small \")]\n      Performers:\n        Name: $performer/@data-mxptext\n        URL: $performer/@href\n      Studio:\n        Name: $studio\n        URL: $studio/@href    \n</code></pre> <p>See also #333 for more examples.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#json-scraper-example","title":"JSON scraper example","text":"<p>A performer and scene scraper for ThePornDB is shown below:</p> <pre><code>name: ThePornDB\nperformerByName:\n  action: scrapeJson\n  queryURL: https://api.metadataapi.net/performers?q={}\n  scraper: performerSearch\nperformerByURL:\n  - action: scrapeJson\n    url:\n      - https://api.metadataapi.net/performers/\n    scraper: performerScraper\nsceneByURL:\n  - action: scrapeJson\n    url:\n      - https://api.metadataapi.net/scenes/\n    scraper: sceneScraper\nsceneByFragment:\n  action: scrapeJson\n  queryURL: https://api.metadataapi.net/scenes?parse={filename}&amp;hash={oshash}&amp;limit=1\n  scraper: sceneQueryScraper\n  queryURLReplace:\n    filename:\n      - regex: \"[^a-zA-Z\\\\d\\\\-._~]\" # clean filename so that it can construct a valid url\n        with: \".\" # \"%20\"\n      - regex: HEVC\n        with:\n      - regex: x265\n        with:\n      - regex: \\.+\n        with: \".\"\njsonScrapers:\n  performerSearch:\n    performer:\n      Name: data.#.name\n      URL:\n        selector: data.#.id\n        postProcess:\n          - replace:\n              - regex: ^\n                with: https://api.metadataapi.net/performers/\n\n  performerScraper:\n    common:\n      $extras: data.extras\n    performer:\n      Name: data.name\n      Gender: $extras.gender\n      Birthdate: $extras.birthday\n      Ethnicity: $extras.ethnicity\n      Height:\n        selector: $extras.height\n        postProcess:\n          - replace:\n              - regex: cm\n                with:\n      Measurements: $extras.measurements\n      Tattoos: $extras.tattoos\n      Piercings: $extras.piercings\n      Aliases: data.aliases\n      Image: data.image\n\n  sceneScraper:\n    common:\n      $performers: data.performers\n    scene:\n      Title: data.title\n      Details: data.description\n      Date: data.date\n      URL: data.url\n      Image: data.background.small\n      Performers:\n        Name: data.performers.#.name\n      Studio:\n        Name: data.site.name\n      Tags:\n        Name: data.tags.#.tag\n\n  sceneQueryScraper:\n    common:\n      $data: data.0\n      $performers: data.0.performers\n    scene:\n      Title: $data.title\n      Details: $data.description\n      Date: $data.date\n      URL: $data.url\n      Image: $data.background.small\n      Performers:\n        Name: $data.performers.#.name\n      Studio:\n        Name: $data.site.name\n      Tags:\n        Name: $data.tags.#.tag\ndriver:\n  headers:\n    - Key: User-Agent\n      Value: Stash JSON Scraper\n    - Key: Authorization\n      Value: Bearer lPdwFdfY17p4qBkTVF03zscUU2glSjdf17bZyoe  # use an actual API Key here\n# Last Updated April 7, 2021\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#object-fields","title":"Object fields","text":""},{"location":"in-app-manual/scraping/scraperdevelopment/#gallery","title":"Gallery","text":"<pre><code>Code\nDate\nDetails\nPerformers (see Performer fields)\nPhotographer\nRating\nStudio (see Studio Fields)\nTags (see Tag fields)\nTitle\nURLs\n</code></pre> <p>Important: <code>Title</code> field is required. </p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#group","title":"Group","text":"<pre><code>Aliases\nBackImage\nDate\nDirector\nDuration\nFrontImage\nName\nRating\nStudio (see Studio Fields)\nSynopsis\nTags (see Tag fields)\nURLs\n</code></pre> <p>Important: <code>Name</code> field is required. </p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#image","title":"Image","text":"<pre><code>Code\nDate\nDetails\nPerformers (see Performer fields)\nPhotographer\nRating\nStudio (see Studio Fields)\nTags (see Tag fields)\nTitle\nURLs\n</code></pre>"},{"location":"in-app-manual/scraping/scraperdevelopment/#performer","title":"Performer","text":"<pre><code>Aliases\nBirthdate\nCareerLength\nCircumcised\nCountry\nDeathDate\nDetails\nDisambiguation\nEthnicity\nEyeColor\nFakeTits\nGender\nHairColor\nHeight\nMeasurements\nName\nPenisLength\nPiercings\nTags (see Tag fields)\nTattoos\nURLs\nWeight\n</code></pre> <p>Important: <code>Name</code> field is required. </p> <p>Note:  - <code>Gender</code> must be one of <code>male</code>, <code>female</code>, <code>transgender_male</code>, <code>transgender_female</code>, <code>intersex</code>, <code>non_binary</code> (case insensitive).</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#scene","title":"Scene","text":"<pre><code>Code\nDate\nDetails\nDirector\nGroups (see Group Fields)\nImage\nPerformers (see Performer fields)\nStudio (see Studio Fields)\nTags (see Tag fields)\nTitle\nURLs\n</code></pre> <p>Important: <code>Title</code> field is required only if fileless.</p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#studio","title":"Studio","text":"<pre><code>Name\nURL\n</code></pre> <p>Important: <code>Name</code> field is required. </p>"},{"location":"in-app-manual/scraping/scraperdevelopment/#tag","title":"Tag","text":"<pre><code>Name\n</code></pre> <p>Important: <code>Name</code> field is required. </p>"},{"location":"in-app-manual/tasks/","title":"Tasks","text":""},{"location":"in-app-manual/tasks/#tasks","title":"Tasks","text":"<p>This page allows you to direct the stash server to perform a variety of tasks.</p>"},{"location":"in-app-manual/tasks/#scanning","title":"Scanning","text":"<p>The scan function walks through the stash directories you have configured for new and moved files. </p> <p>Stash currently identifies files by performing a quick file hash. This means that if the file is renamed for moved elsewhere within your configured stash directories, then the scan will detect this and update its database accordingly.</p> <p>Stash currently ignores duplicate files. If two files contain identical content, only the first one it comes across is used.</p> <p>The scan task accepts the following options:</p> Option Description Generate scene covers Generates scene covers for video files. Generate previews Generates video previews (mp4) which play when hovering over a scene. Generate animated image previews* Accessible in Advanced Mode - Also generate animated (webp) previews, only required when Scene/Marker Wall Preview Type is set to Animated Image. When browsing they use less CPU than the video previews, but are generated in addition to them and are larger files. Generate scrubber sprites The set of images displayed below the video player for easy navigation. Generate perceptual hashes Generates perceptual hashes for scene deduplication and identification. Generate thumbnails for images Generates thumbnails for image files. Generate previews for image clips Generates a gif/looping video as thumbnail for image clips/gifs. Rescan By default, Stash will only rescan existing files if the file's modified date has been updated since its previous scan. Stash will rescan files in the path when this option is enabled, regardless of the file modification time. Only required Stash needs to recalculate video/image metadata, or to rescan gallery zips."},{"location":"in-app-manual/tasks/#auto-tagging","title":"Auto Tagging","text":"<p>See the Auto Tagging page.</p>"},{"location":"in-app-manual/tasks/#scene-filename-parser","title":"Scene Filename Parser","text":"<p>See the Scene Filename Parser page.</p>"},{"location":"in-app-manual/tasks/#generated-content","title":"Generated Content","text":"<p>The scanning function automatically generates a screenshot of each scene. The generated content provides the following:</p> <ul> <li>Video or image previews that are played when mousing over the scene card</li> <li>Perceptual hashes - helps match against StashDB, and feeds the duplicate finder</li> <li>Sprites (scene stills for parts of each scene) that are shown in the scene scrubber</li> <li>Marker video previews that are shown in the markers page</li> <li>Transcoded versions of scenes. See below</li> <li>Image thumbnails of galleries</li> </ul> <p>The generate task accepts the following options:</p> Option Description Scene covers Generates scene covers for video files. Previews Generates video previews (mp4) which play when hovering over a scene. Animated image previews Accessible in Advanced Mode - Generates animated previews (webp). Only required if the Preview Type is set to Animated Image. Requires Generate previews to be enabled. Scene Scrubber Sprites The set of images displayed below the video player for easy navigation. Markers Previews Generates 20 second video previews (mp4) which begin at the marker timecode. Marker Animated Image Previews Accessible in Advanced Mode - Also generate animated (webp) previews, only required when Scene/Marker Wall Preview Type is set to Animated Image. When browsing they use less CPU than the video previews, but are generated in addition to them and are larger files. Marker Screenshots Generates static JPG images for markers. Only required if Preview Type is set to Static Image. Requires Marker Previews to be enabled. Transcodes Accessible in Advanced Mode - MP4 conversions of unsupported video formats. Allows direct streaming instead of live transcoding. Perceptual hashes (for deduplication) Generates perceptual hashes for scene deduplication and identification. Generate heatmaps and speeds for interactive scenes Generates heatmaps and speeds for interactive scenes. Image Clip Previews Generates a gif/looping video as thumbnail for image clips/gifs. Overwrite existing generated files By default, where a generated file exists, it is not regenerated. When this flag is enabled, then the generated files are regenerated."},{"location":"in-app-manual/tasks/#transcodes","title":"Transcodes","text":"<p>Web browsers support a limited number of video and audio codecs and containers. Stash will directly stream video files where the browser supports the codecs and container. Originally, stash did not support viewing scene videos where the browser did not support the codecs/container, and generating transcodes was a way of viewing these files.</p> <p>Stash has since implemented live transcoding, so transcodes are essentially unnecessary now. Further, transcodes use up a significant amount of disk space and are not guaranteed to be lossless.</p>"},{"location":"in-app-manual/tasks/#image-gallery-thumbnails","title":"Image gallery thumbnails","text":"<p>These are generated when the gallery is first viewed, so generating them beforehand is not necessary.</p>"},{"location":"in-app-manual/tasks/#cleaning","title":"Cleaning","text":"<p>This task will walk through your configured media directories and remove any scene from the database that can no longer be found. It will also remove generated files for scenes that subsequently no longer exist.</p> <p>Care should be taken with this task, especially where the configured media directories may be inaccessible due to network issues.</p>"},{"location":"in-app-manual/tasks/#exporting-and-importing","title":"Exporting and Importing","text":"<p>The import and export tasks read and write JSON files to the configured metadata directory. Import from file will merge your database with a file.</p> <p>\u26a0\ufe0f Note: The full import task wipes the current database completely before importing.</p> <p>See the JSON Specification page for details on the exported JSON format.</p>"},{"location":"in-app-manual/tasks/autotagging/","title":"Auto tagging","text":""},{"location":"in-app-manual/tasks/autotagging/#auto-tagging","title":"Auto Tagging","text":"<p>When media filepaths or filenames contain a Performer, Studio, or Tag name, it is assigned those Performers, Studios, and Tags. It will only tag based on Performer, Studio, and Tag names that exist in your database.</p> <p>When the Performer/Studio/Tag name has multiple words, the search will include paths/filenames where the Performer/Studio/Tag name is separated with <code>.</code>, <code>-</code>, <code>_</code>, and whitespace characters.</p> <p>For example, auto tagging for performer <code>Jane Doe</code> will match the following filenames:</p> <ul> <li><code>Jane.Doe.1.mp4</code></li> <li><code>Jane_Doe.2.mp4</code></li> <li><code>Jane-Doe.3.mp4</code></li> <li><code>Jane Doe.4.mp4</code></li> </ul> <p>Matching is case insensitive, and should only match exact wording within word boundaries. For example, the tag <code>Jane Doe</code> will not match <code>Maryjane-Doe</code> or <code>Jane-Doen</code>, but will match <code>Mary-Jane-Doe</code>, <code>Jane-Doe_n</code>, and <code>[OF]jane doe</code>.</p> <p>Auto tagging for specific Performers, Studios, and Tags can be performed from the individual Performer/Studio/Tag page.</p> <p>Note: Performer autotagging does not currently match on performer aliases.</p>"},{"location":"in-app-manual/tasks/identify/","title":"Identify","text":""},{"location":"in-app-manual/tasks/identify/#identify","title":"Identify","text":"<p>This task iterates through your Scenes and attempts to identify the scene using a selection of scraping sources.</p> <p>This task accepts one or more scraper sources. Valid scraper sources for the Identify task are stash-box instances, and scene scrapers which support scraping via Scene Fragment. The order of the sources may be rearranged.</p> <p>For each Scene, the Identify task iterates through the scraper sources, in the order provided, and tries to identify the scene using each source. If a result is found in a source, then the Scene is updated, and no further sources are checked for that scene.</p>"},{"location":"in-app-manual/tasks/identify/#options","title":"Options","text":"<p>The following options can be set:</p> Option Description Include male performers If false, then male performers will not be created or set on scenes. Set cover images If false, then scene cover images will not be modified. Set organised flag If true, the organised flag is set to true when a scene is organised. Skip matches that have more than one result If this is not enabled and more than one result is returned, one will be randomly chosen to match Tag skipped matches with If the above option is set and a scene is skipped, this will add the tag so that you can filter for it in the Scene Tagger view and choose the correct match by hand Skip single name performers with no disambiguation If this is not enabled, performers that are often generic like Samantha or Olga will be matched Tag skipped performers with If the above options is set and a performer is skipped, this will add the tag so that you can filter for in it the Scene Tagger view and choose how you want to handle those performers <p>Field specific options may be set as well. Each field may have a Strategy. The behaviour for each strategy value is as follows:</p> Strategy Description Ignore Not set. Overwrite Overwrite existing value. Merge (default) For multi-value fields, adds to existing values. For single-value fields, only sets if not already set. <p>For Studio, Performers and Tags, an option is also available to Create Missing objects. This is enabled by default. When true, if a Studio/Performer/Tag is included during the identification process and does not exist in the system, then it will be created.</p> <p>Default Options are applied to all sources unless overridden in specific source options. </p> <p>The result of the identification process for each scene is output to the log.</p>"},{"location":"in-app-manual/tasks/jsonspec/","title":"Import/export JSON specification","text":""},{"location":"in-app-manual/tasks/jsonspec/#importexport-json-specification","title":"Import/Export JSON Specification","text":"<p>The metadata given to Stash can be exported into the JSON format. This structure can be modified, or replicated by other means. The resulting data can then be imported again, giving the possibility for automatic scraping of all kinds. The format of this metadata bulk is a folder structure, containing the following folders:</p> <ul> <li><code>files</code></li> <li><code>galleries</code></li> <li><code>images</code></li> <li><code>performers</code></li> <li><code>scenes</code></li> <li><code>studios</code></li> <li><code>groups</code></li> </ul>"},{"location":"in-app-manual/tasks/jsonspec/#file-naming","title":"File naming","text":"<p>When exported, files are named with different formats depending on the object type:</p> Type Format Files/Folders <code>&lt;path depth in hex, two character width&gt;.&lt;basename&gt;.&lt;hash&gt;.json</code> Galleries <code>&lt;first zip filename&gt;.&lt;path hash&gt;.json</code> or <code>&lt;folder basename&gt;.&lt;path hash&gt;.json</code> or <code>&lt;title&gt;.json</code> Images <code>&lt;title or first file basename&gt;.&lt;hash&gt;.json</code> Performers <code>&lt;name&gt;.json</code> Scenes <code>&lt;title or first file basename&gt;.&lt;hash&gt;.json</code> Studios <code>&lt;name&gt;.json</code> Groups <code>&lt;name&gt;.json</code> <p>Note that the file naming is not significant when importing. All json files will be read from the subdirectories.</p>"},{"location":"in-app-manual/tasks/jsonspec/#content-of-the-json-files","title":"Content of the json files","text":"<p>In the following, the values of the according jsons will be shown. If the value should be a number, it is written with after comma values (like <code>29.98</code> or <code>50.0</code>), but still as a string. The meaning from most of them should be obvious due to the previous explanation or from the possible values stash offers when editing, otherwise a short comment will be added.</p> <p>The json values are given as strings, if not stated otherwise. Every new line will stand for a new value in the json. If the value is a list of objects, the values of that object will be shown indented.  </p> <p>If a value is empty in any file, it can be left out of the file entirely.  Many files have an <code>created_at</code> and <code>updated_at</code>, both are kept in the following format: </p><pre><code>YYYY-MM-DDThh:mm:ssTZD  \n</code></pre> Example: <pre><code>\"created_at\": \"2019-05-03T21:36:58+01:00\"\n</code></pre><p></p>"},{"location":"in-app-manual/tasks/jsonspec/#performer","title":"Performer","text":"<pre><code>name  \nurl  \ntwitter  \ninstagram  \nbirthdate  \ndeath_date  \nethnicity  \ncountry  \nhair_color  \neye_color  \nheight  \nweight  \nmeasurements  \nfake_tits  \ncareer_length  \ntattoos  \npiercings  \nimage (base64 encoding of the image file)  \ncreated_at  \nupdated_at\nrating (integer)\ndetails\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#studio","title":"Studio","text":"<pre><code>name  \nurl  \nimage (base64 encoding of the image file)  \ncreated_at  \nupdated_at\nrating (integer)  \ndetails  \n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#scene","title":"Scene","text":"<pre><code>title  \nstudio  \nurl  \ndate  \nrating (integer)  \ndetails  \nperformers (list of strings, performers name)  \ntags (list of strings)  \nmarkers     \n  title  \n  seconds  \n  primary_tag  \n  tags (list of strings)  \n  created_at  \n  updated_at  \nfile (not a list, but a single object)  \n  size (in bytes, no after comma values)  \n  duration (in seconds)  \n  video_codec (example value: h264)  \n  audio_codec (example value: aac)  \n  width (integer, in pixel)  \n  height (integer, in pixel)  \n  framerate  \n  bitrate (integer, in Bit)  \ncreated_at  \nupdated_at  \n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#image","title":"Image","text":"<pre><code>title  \nstudio  \nrating (integer)  \nperformers (list of strings, performers name)  \ntags (list of strings)  \nfiles (list of path strings)\ngalleries\n  zip_files (list of path strings)\n  folder_path\n  title (for user-created gallery)\ncreated_at  \nupdated_at  \n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#gallery","title":"Gallery","text":"<pre><code>title  \nstudio  \nurl  \ndate  \nrating (integer)  \ndetails  \nperformers (list of strings, performers name)  \ntags (list of strings)  \nzip_files (list of path strings)\nfolder_path   \ncreated_at  \nupdated_at  \n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#files","title":"Files","text":""},{"location":"in-app-manual/tasks/jsonspec/#folder","title":"Folder","text":"<pre><code>zip_file (path to containing zip file)\nmod_time\ntype (= folder)\npath\ncreated_at\nupdated_at\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#video-file","title":"Video file","text":"<pre><code>zip_file (path to containing zip file)\nmod_time\ntype (= video)\npath\nfingerprints\n  type\n  fingerprint\nsize\nformat\nwidth\nheight\nduration\nvideo_codec\naudio_codec\nframe\nbitrate\ninteractive (bool)\ninteractive_speed (integer)\ncreated_at\nupdated_at\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#image-file","title":"Image file","text":"<pre><code>zip_file (path to containing zip file)\nmod_time\ntype (= image)\npath\nfingerprints\n  type\n  fingerprint\nsize\nformat\nwidth\nheight\ncreated_at\nupdated_at\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#other-files","title":"Other files","text":"<pre><code>zip_file (path to containing zip file)\nmod_time\ntype (= file)\npath\nfingerprints\n  type\n  fingerprint\nsize\ncreated_at\nupdated_at\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#in-json-format","title":"In JSON format","text":"<p>For those preferring the json-format, defined here, the following format may be more interesting:</p>"},{"location":"in-app-manual/tasks/jsonspec/#performerjson","title":"performer.json","text":"<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"https://docs.stashapp.cc/in-app-manual/tasks/jsonspec#performerjson\",\n  \"title\": \"performer\",\n  \"description\": \"A json file representing a performer. The file is named by a MD5 Code.\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": {\n      \"description\": \"Name of the performer\",\n      \"type\": \"string\"\n    },\n    \"url\": {\n      \"description\": \"URL to website of the performer\",\n      \"type\": \"string\"\n    },\n    \"twitter\": {\n      \"description\": \"Twitter name of the performer\",\n      \"type\": \"string\"\n    },\n    \"instagram\": {\n      \"description\": \"Instagram name of the performer\",\n      \"type\": \"string\"\n    },\n    \"birthdate\": {\n      \"description\": \"Birthdate of the performer. Format is YYYY-MM-DD\",\n      \"type\": \"string\"\n    },\n    \"death_date\": {\n      \"description\": \"Death date of the performer. Format is YYYY-MM-DD\",\n      \"type\": \"string\"\n    },\n    \"ethnicity\": {\n      \"description\": \"Ethnicity of the Performer. Possible values are black, white, asian or hispanic\",\n      \"type\": \"string\"\n    },\n    \"country\": {\n      \"description\": \"Country of the performer\",\n      \"type\": \"string\"\n    },\n    \"hair_color\": {\n      \"description\": \"Hair color of the performer\",\n      \"type\": \"string\"\n    },\n    \"eye_color\": {\n      \"description\": \"Eye color of the performer\",\n      \"type\": \"string\"\n    },\n    \"height\": {\n      \"description\": \"Height of the performer in centimeters\",\n      \"type\": \"string\"\n    },\n    \"weight\": {\n      \"description\": \"Weight of the performer in kilograms\",\n      \"type\": \"string\"\n    },\n    \"measurements\": {\n      \"description\": \"Measurements of the performer\",\n      \"type\": \"string\"\n    },\n    \"fake_tits\": {\n      \"description\": \"Whether performer has fake tits. Possible are Yes or No\",\n      \"type\": \"string\"\n    },\n    \"career_length\": {\n      \"description\": \"The time the performer has been in business. In the format YYYY-YYYY\",\n      \"type\": \"string\"\n    },\n    \"tattoos\": {\n      \"description\": \"Giving a description of Tattoos of the performer if any\",\n      \"type\": \"string\"\n    },\n    \"piercings\": {\n      \"description\": \"Giving a description of Piercings of the performer if any\",\n      \"type\": \"string\"\n    },\n    \"image\": {\n      \"description\": \"Image of the performer, parsed into base64\",\n      \"type\": \"string\"\n    },\n    \"created_at\": {\n      \"description\": \"The time this performers data was added to the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    },\n    \"updated_at\": {\n      \"description\": \"The time this performers data was last changed in the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    },\n    \"details\": {\n      \"description\": \"Description of the performer\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\"name\", \"ethnicity\", \"image\", \"created_at\", \"updated_at\"]\n}\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#studiojson","title":"studio.json","text":"<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"https://docs.stashapp.cc/in-app-manual/tasks/jsonspec#studiojson\",\n  \"title\": \"studio\",\n  \"description\": \"A json file representing a studio. The file is named by a MD5 Code.\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"name\": {\n      \"description\": \"Name of the studio\",\n      \"type\": \"string\"\n    },\n    \"url\": {\n      \"description\": \"URL to the studios websites\",\n      \"type\": \"string\"\n    },\n    \"image\": {\n      \"description\": \"Logo of the studio, parsed into base64\",\n      \"type\": \"string\"\n    },\n    \"created_at\": {\n      \"description\": \"The time this studios data was added to the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    },\n    \"updated_at\": {\n      \"description\": \"The time this studios data was last changed in the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    },\n    \"details\": {\n      \"description\": \"Description of the studio\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\"name\", \"image\", \"created_at\", \"updated_at\"]\n}\n</code></pre>"},{"location":"in-app-manual/tasks/jsonspec/#scenejson","title":"scene.json","text":"<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"https://docs.stashapp.cc/in-app-manual/tasks/jsonspec#scenejson\",\n  \"title\": \"scene\",\n  \"description\": \"A json file representing a scene. The file is named by the MD5 Code of the file its data is referring to.\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"title\": {\n      \"description\": \"Title of the scene\",\n      \"type\": \"string\"\n    },\n    \"studio\": {\n      \"description\": \"The name of the studio that produced that scene\",\n      \"type\": \"string\"\n    },\n    \"url\": {\n      \"description\": \"The url to the scenes original source\",\n      \"type\": \"string\"\n    },\n    \"date\": {\n      \"description\": \"The release date of the scene. Its given in the format YYYY-MM-DD\",\n      \"type\": \"string\"\n    },\n    \"rating\": {\n      \"description\": \"The scenes Rating. Its given in stars, from 1 to 5\",\n      \"type\": \"integer\"\n    },\n    \"details\": {\n      \"description\": \"A description of the scene, containing things like the story arc\",\n      \"type\": \"string\"\n    },\n    \"performers\": {\n      \"description\": \"A list of names of the performers in this gallery\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"tags\": {\n      \"description\": \"A list of the tags associated with this scene\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"markers\": {\n      \"description\": \"Markers mark certain events in the scene, most often the change of the position. They are attributed with their own tags.\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"title\": {\n            \"description\": \"Searchable name of the marker\",\n            \"type\": \"string\"\n          },\n          \"seconds\": {\n            \"description\": \"At what second the marker is set. It is given with after comma values, such as 10.0 or 17.5\",\n            \"type\": \"string\"\n          },\n          \"primary_tag\": {\n            \"description\": \"A tag identifying this marker. Multiple markers from the same scene with the same primary tag are concatenated, showing them as similar in nature\",\n            \"type\": \"string\"\n          },\n          \"tags\": {\n            \"description\": \"A list of the tags associated with this marker\",\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            },\n            \"minItems\": 1,\n            \"uniqueItems\": true\n          },\n          \"created_at\": {\n            \"description\": \"The time this marker was added to the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n            \"type\": \"string\"\n          },\n          \"updated_at\": {\n            \"description\": \"The time this marker was updated the last time. Format is YYYY-MM-DDThh:mm:ssTZD\",\n            \"type\": \"string\"\n          }\n\n        },\n        \"required\": [\"seconds\", \"primary_tag\", \"created_at\", \"updated_at\"]\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"files\": {\n      \"description\": \"A list of paths of the files for this scene\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"created_at\": {\n      \"description\": \"The time this studios data was added to the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    },\n    \"updated_at\": {\n      \"description\": \"The time this studios data was last changed in the database. Format is YYYY-MM-DDThh:mm:ssTZD\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\"files\", \"created_at\", \"updated_at\"]\n}\n</code></pre>"},{"location":"in-app-manual/tasks/scenefilenameparser/","title":"Scene filename parser","text":""},{"location":"in-app-manual/tasks/scenefilenameparser/#scene-filename-parser","title":"Scene Filename Parser","text":"<p>This tool parses the scene filenames in your library and allows setting the metadata from those filenames.</p>"},{"location":"in-app-manual/tasks/scenefilenameparser/#parser-options","title":"Parser Options","text":"<p>To use this tool, a filename pattern must be entered. The pattern accepts the following fields:</p> Field Remark <code>title</code> Text captured within is set as the title of the scene. <code>ext</code> Matches the end of the filename. It is not captured. Does not include the last <code>.</code> character. <code>d</code> Matches delimiter characters (<code>-_.</code>). Not captured. <code>i</code> Matches any ignored word entered in the <code>Ignored words</code> field. Ignored words are entered as space-delimited words. Not captured. Use this to match release artifacts like <code>DVDRip</code> or release groups. <code>date</code> Matches <code>yyyy-mm-dd</code> and sets the date of the scene. <code>rating</code> Matches a single digit and sets the rating of the scene. <code>performer</code> Sets the scene performer, based on the text captured. <code>tag</code> Sets the scene tag, based on the text captured. <code>studio</code> Sets the studio performer, based on the text captured. <code>{}</code> Matches any characters. Not captured. <p>\u26a0\ufe0f Note: <code>performer</code>, <code>tag</code> and <code>studio</code> fields will only match against Performers/Tags/Studios that already exist in the system.</p> <p>The <code>performer</code>/<code>tag</code>/<code>studio</code> fields will remove any delimiter characters (<code>.-_</code>) before querying. Name matching is case-insensitive.</p> <p>The following partial date fields are also supported. The date will only be set on the scene if a date string can be built using the partial date components:</p> Field Remark <code>yyyy</code> Four digit year <code>yy</code> Two digit year. Assumes the first two digits are <code>20</code> <code>mm</code> Two digit month <code>mmm</code> Three letter month, such as <code>Jan</code> (case-insensitive) <code>dd</code> Two digit date <p>The following full date fields are supported, using the same partial date rules as above:</p> <ul> <li><code>yyyymmdd</code></li> <li><code>yymmdd</code></li> <li><code>ddmmyyyy</code></li> <li><code>ddmmyy</code></li> <li><code>mmddyyyy</code></li> <li><code>mmddyy</code></li> </ul> <p>All of these fields are available from the <code>Add Field</code> button.</p> <p>Title generation also has the following options:</p> Option Remark Whitespace characters These characters are replaced with whitespace (defaults to <code>._</code>, to handle filenames like <code>three.word.title.avi</code> Capitalize title capitalises the first letter of each word <p>The fields to display can be customised with the <code>Display Fields</code> drop-down section. By default, any field with new/different values will be displayed.</p>"},{"location":"in-app-manual/tasks/scenefilenameparser/#applying-the-results","title":"Applying the results","text":"<p>Once the options are correct, click on the <code>Find</code> button. The system will search for scenes that have filenames that match the given pattern.</p> <p>The results are presented in a table showing the existing and generated values of the discovered fields, along with a checkbox to determine whether or not the field will be set on each scene. These fields can also be edited manually.</p> <p>The <code>Apply</code> button updates the scenes based on the set fields.</p> <p>\u26a0\ufe0f Note: results are paged and the <code>Apply</code> button only applies to scenes on the current page.</p>"},{"location":"installation/","title":"Installation","text":"<p>Stash offers native binaries for the following platforms:</p> <ul> <li>Windows</li> <li>macOS</li> <li>Linux</li> <li>FreeBSD</li> <li>Docker</li> </ul> <p>All official binaries can be downloaded from our GitHub release page. Latest version is available here.</p> <p>Official Docker image is hosted on Docker Hub. Latest version can be pulled from <code>stashapp/stash:latest</code>.</p>"},{"location":"installation/docker/","title":"Docker","text":"<p>Info</p> <p>Before starting make sure your system has Docker installed. You can follow the instructions on how to install Docker from Docker Docs.</p> <p>Info</p> <p>Official Stash image is located at <code>stashapp/stash</code>.</p> <p>Note</p> <p>Stash README on Docker installation is available here. </p>"},{"location":"installation/docker/#using-docker-compose","title":"Using Docker Compose","text":""},{"location":"installation/docker/#install","title":"Install","text":"<ol> <li>Download and save <code>docker-compose.yml</code> file from our GitHub.</li> <li>Modify the <code>docker-compose.yml</code> file to your preferences. </li> <li>Open terminal in the same directory as saved <code>docker-compose.yml</code> or <code>cd</code> to that directory.</li> <li>Run <code>docker-compose up -d</code>.</li> <li>Installing this way will bound Stash to port 9999. </li> <li>If everything went well Stash will be available at http://localhost:9999 locally or on your network http://YOUR-LOCAL-IP:9999.</li> </ol>"},{"location":"installation/docker/#update","title":"Update","text":"Warning <p>If you are upgrading from older than v0.20 version make sure to re-download the <code>docker-compose.yml</code> file from our GitHub as new volume was added. Alternatively you can edit the <code>docker-compose.yml</code> to manually include new volume <code>- ./blobs:/blobs</code>.</p> <ol> <li>Go to the directory where <code>docker-compose.yml</code> is saved.</li> <li>Run <code>docker-compose pull</code>. Pulls the new image.</li> <li>Run <code>docker-compose down</code>. Removes old container.</li> <li>Run <code>docker-compose up -d</code>. Creates and starts the new container. </li> <li>Make sure the mount points and settings are the same as in previous <code>docker-compose.yml</code> file. </li> </ol>"},{"location":"installation/docker/#remove","title":"Remove","text":"<ol> <li>Go to the directory where <code>docker-compose.yml</code> is saved.</li> <li>Run <code>docker container kill</code>. Force stops the container.</li> <li>Run <code>docker container rm</code>. Removes the container.</li> <li>Delete <code>docker-compose.yml</code> file.</li> </ol>"},{"location":"installation/freenas-truenas/","title":"FreeNAS/TrueNAS","text":""},{"location":"installation/freenas-truenas/#truenas-scale","title":"TrueNAS Scale","text":"<p>Info</p> <p>The following step by step was tested using TrueNAS Scale Cobia (23.10.1.3).</p>"},{"location":"installation/freenas-truenas/#installation","title":"Installation","text":"<p>To install the stashapp, we will use the TrueCharts app database. To install, we'll follow the official documentation at https://truecharts.org/manual/SCALE/guides/getting-started/</p> <ol> <li>Go to Apps page from the top level SCALE menu</li> <li>Click Discover Apps button on the Apps page</li> <li>Click Manage Catalogs link on the Discover Apps page</li> <li>Click Add Catalog</li> <li>After reading the iXsystems notice, click Continue and enter the required information: Name: truecharts Repository: https://github.com/truecharts/catalog Preferred Trains: enterprise, stable and operators (type each one manually) Branch: main</li> <li>Click Save and allow SCALE to refresh its catalog with TrueCharts (this may take a few minutes)</li> </ol> <p>After the update is complete, use the search bar to search for \"stash\". When found, click Install.</p>"},{"location":"installation/freenas-truenas/#options","title":"Options","text":"<p>The installation window will contain several customizable options, but the most important one is the storage option. Search for \"Additional App Storage\" on the page and click \"Add\".</p> <p>In \"Type of Storage\", select \"Host Path\" if the desired folder is a Dataset. \"Host Path\" should be where your content will be. \"Mount Path\" is the name that appears in the stash for the selection. You can put anything here, like /stash-content for example. After that, click Install.</p> <p>Installation will take a few minutes. After the stash appears as \"Running\", click \"Open\" on the right and continue with the stash configuration. When entering the folder that contains its contents, remember to search for the same name you entered previously. In the case of this guide, the name was /stash-content.</p>"},{"location":"installation/freenas-truenas/#truenas-core","title":"TrueNAS Core","text":"<p>Info</p> <p>We are now offering pre-compiled FreeBSD binary. You can grab it from release page.</p> <p>Warning</p> <p>The install guide below was reported as outdated.</p>"},{"location":"installation/freenas-truenas/#caveats-and-assumptions","title":"Caveats and assumptions","text":"<ul> <li>The method documented here has only been given cursory testing, so there may be compatibility problems.</li> <li>This method assumes that Stash will be run within a previously created iocage jail - the process to create and configure the jail is not included here.</li> <li>If the jail is in NAT mode, ensure that port 9999 is forwarded to your TrueNAS host.</li> <li>The alternative to this method is to compile from source, which is a more involved process and not documented here</li> </ul>"},{"location":"installation/freenas-truenas/#linux-compatibility","title":"Linux compatibility","text":"<p>In order for the <code>stash-linux</code> binary to work in a FreeBSD system, Linux compatibility must be enabled both in the system and the jail. To enable Linux compatibility:</p> <ol> <li>navigate to <code>System -&gt; Tunables</code> in the TrueNAS Web UI</li> <li>click <code>Add</code> and enter the following:<ul> <li>Variable: <code>linux_enable</code></li> <li>Value: <code>YES</code></li> <li>Type: <code>rc.conf</code></li> </ul> </li> <li>Click submit.</li> <li>In a shell in your iocage jail, edit <code>/etc/rc.conf</code> to add: <pre><code>enable_linux=\"YES\"\n</code></pre></li> <li>Reboot the system.</li> </ol>"},{"location":"installation/freenas-truenas/#install-ffmpegffprobe","title":"Install ffmpeg/ffprobe","text":"<p>Go into your iocage jail and install <code>ffmpeg</code> </p><pre><code>pkg install ffmpeg\n</code></pre><p></p>"},{"location":"installation/freenas-truenas/#create-user-and-group","title":"Create user and group","text":"<p>It is recommended to not run services as root. Adjust this step to your system. in this example the user <code>stash</code> will be created and set to run the service.</p> <pre><code>pw useradd -n stash -u 1069 -d /nonexistent -s /usr/sbin/nologin\n</code></pre>"},{"location":"installation/freenas-truenas/#download-stash-linux","title":"Download stash-linux","text":"<p>Choose where you would like to store the binary, in this example <code>/usr/local/bin</code> is selected as this is where the ffmpeg binaries also reside. Check github for latest release. Also remember to fix permissions and ownership </p><pre><code>cd /usr/local/bin\nfetch https://github.com/stashapp/stash/releases/download/v0.22.1/stash-linux\nchown stash:stash stash-linux\nchmod +x stash-linux\n</code></pre><p></p>"},{"location":"installation/freenas-truenas/#create-configuration-directory","title":"Create configuration directory","text":"<p>stash needs a directory for its config file, database and more. Remember to change ownership and permission for the folder you select. The script we will look at in the next step has this path as the default: </p><pre><code>mkdir /usr/local/etc/stash\nchown stash:stash /usr/local/etc/stash\n</code></pre><p></p>"},{"location":"installation/freenas-truenas/#rcd-startup-script","title":"rc.d startup script","text":"<p>In order for stash to run as a daemon in the background, and also start at boot, you need a rc.d script. </p><pre><code>mkdir /usr/local/etc/rc.d\nee /usr/local/etc/rc.d/stash\n</code></pre> Enter the following in the editor: <pre><code>#!/bin/sh\n\n# PROVIDE: stash\n# REQUIRE: DAEMON\n# KEYWORD: shutdown\n\n\n. /etc/rc.subr\n\nname=stash\nrcvar=stash_enable\n\nload_rc_config $name\n\n: ${stash_enable:=\"NO\"}\n: ${stash_user:=\"stash\"}\n: ${stash_group:=\"stash\"}\n: ${stash_config_dir:=\"/usr/local/etc/stash/config.yml\"}\n: ${stash_exec_bin:=\"/usr/local/bin/stash-linux\"}\n\n#daemon\npidfile=\"/var/run/${name}.pid\"\ncommand=\"/usr/sbin/daemon\"\ncommand_args=\"-f -P ${pidfile} ${stash_exec_bin} --config ${stash_config_dir}\"\nstart_precmd=\"stash_precmd\"\n\nstash_precmd() {\n    install -o ${stash_user} -g ${stash_group} /dev/null ${pidfile}\n}\n\nrun_rc_command $1\n</code></pre> To save, press <code>ESC + Enter</code> and confirm with <code>a</code> and make it executable with <code>chmod +x /usr/local/etc/rc.d/stash</code><p></p>"},{"location":"installation/freenas-truenas/#enable-the-service-at-boot","title":"Enable the service at boot","text":"<p>If you want Stash to run when you start the jail, run the following command: </p><pre><code>sysrc \"stash_enable=YES\"\n</code></pre> And to start the service, reboot the jail or run this command: <pre><code>service stash start\n</code></pre> Stash is now available at http://jail-IP:9999/ <p></p> <p>During setup you can leave all the paths for config, database and etc empty to use the default. They will then be stored in the config-folder we created earlier so you can easily backup the folder. Only add your media content. </p>"},{"location":"installation/freenas-truenas/#optional-steps","title":"Optional steps","text":"<p>You can change the location where stash stores the configuration files and database. Please note that the path needs to end with <code>config.yml</code> even if it does not exist yet. Stash will create it for you. Remember to fix ownership and permissions of the location you choose. </p><pre><code>sysrc \"stash_config_dir=path/to/location/config.yml\"\n</code></pre><p></p> <p>You can change the user and group that Stash runs as. Remember that the config_dir needs to be owned by the user that Stash runs as, aswell as the stash-linux binary </p><pre><code>sysrc \"stash_user=usernamegoeshere\"\nsysrc \"stash_group=groupnamegoeshere\"\n</code></pre><p></p> <p>Its also possible to change the location of the stash-linux binary ``` sysrc \"stash_exec_bin=/path/to/stash-linux\"</p>"},{"location":"installation/linux/","title":"Linux","text":"<p>Info</p> <p>It is recommended that you install <code>ffmpeg</code> from your distribution's package manager. In case you don't, Stash will prompt you to download a copy during setup. </p> <p>Note</p> <p>Stash offers different binaries for different architectures. You can find your processor architecture by running a simple command <code>uname -p</code> in a terminal. Replace <code>&lt;binary-name&gt;</code> in the following tutorial accordingly.</p> <p><code>stash-linux</code> = amd64  (x86_64) <code>stash-linux-arm32v6</code> = arm32v6 (armel) <code>stash-linux-arm32v7</code> = arm32v7 (armhf) <code>stash-linux-arm64v8</code> = arm64v8 (arm64)  </p>"},{"location":"installation/linux/#install","title":"Install","text":"<ol> <li>Download latest <code>&lt;binary-name&gt;</code> binary from GitHub repository depending on your architecture. </li> <li>Run <code>./&lt;binary-name&gt;</code> from the terminal.</li> <li>If you have trouble, try running <code>chmod u+x &lt;binary-name&gt;</code> to make the file executable.</li> <li>If everything went well, it should open a browser tab http://localhost:9999 to get started.</li> </ol>"},{"location":"installation/linux/#update","title":"Update","text":"<ol> <li>Stop Stash server. Either by closing the terminal window or by stopping the process from task manager. </li> <li>Download latest <code>&lt;binary-name&gt;</code> binary from GitHub repository.</li> <li>Delete old <code>&lt;binary-name&gt;</code> binary and replace it with the newly downloaded one. </li> <li>Run <code>./&lt;binary-name&gt;</code> from the terminal.</li> <li>If you have trouble, try running <code>chmod u+x &lt;binary-name&gt;</code> to make the file executable.</li> <li>If everything went well, it should open a browser tab http://localhost:9999 to get started.</li> <li>You might be asked to perform a database migration depending on the changes included in the new release. Follow the steps. </li> <li>Automatic backup will be performed before the migration. </li> <li>If any issues arise during the migration your database will be automatically restored from the backup.</li> <li>You should be good to go. </li> </ol>"},{"location":"installation/linux/#remove","title":"Remove","text":"<ol> <li>Stop Stash server.</li> <li>Delete <code>&lt;binary-name&gt;</code> binary file.</li> <li>Delete <code>$HOME/.stash</code> folder.</li> </ol>"},{"location":"installation/macos/","title":"macOS","text":"<p>On macOS, Stash can be run as either a packaged app (<code>Stash.app</code>) or as a command-line app (<code>stash-macos</code>). Both are universal apps, and will therefore run natively on both Apple silicon and Intel-based Macs.</p>"},{"location":"installation/macos/#packaged-app","title":"Packaged app","text":"<p>Note</p> <p>The packaged app is recommended for most users.</p> <p>It supports desktop notifications, displays a menu bar icon, and does not need to be launched from the terminal.</p> <p>However, due to app restrictions, it only supports setting up in <code>$HOME/.stash</code>. If you would like to use a different folder, then you will need to use the command-line app.</p>"},{"location":"installation/macos/#install","title":"Install","text":"<ol> <li>Download the latest <code>Stash.app.zip</code> from GitHub repository.</li> <li>Open <code>Stash.app.zip</code> archive and drag the <code>Stash</code> app to your Applications folder.</li> <li>Open the <code>Stash</code> app.</li> <li>If everything went well, it should open a browser tab http://localhost:9999 to get started.</li> </ol>"},{"location":"installation/macos/#update","title":"Update","text":"<ol> <li>Stop Stash server. Either via icon in the menu bar or by stopping the process from Activity Monitor. </li> <li>Download latest <code>Stash.app.zip</code> from GitHub repository.</li> <li>Delete old <code>Stash</code> app. </li> <li>Open newly downloaded <code>Stash.app.zip</code> archive and drag the <code>Stash</code> app to your Applications folder. </li> <li>Open the <code>Stash</code> app.</li> <li>If everything went well, it should open a browser tab http://localhost:9999 to get started.</li> <li>You might be asked to perform a database migration depending on the changes included in the new release. Follow the steps. <ul> <li>Automatic backup will be performed before the migration. </li> <li>If any issues arise during the migration your database will be automatically restored from the backup.</li> </ul> </li> <li>You should be good to go. </li> </ol>"},{"location":"installation/macos/#remove","title":"Remove","text":"<ol> <li>Stop Stash server.</li> <li>Delete <code>Stash</code> app.</li> <li>Delete <code>$HOME/.stash</code>.</li> </ol>"},{"location":"installation/macos/#command-line-app","title":"Command-line app","text":"<p>Note</p> <p>The command-line app is only recommended for users who are familiar with the terminal, or for those who do not want to set up in <code>$HOME/.stash</code>.</p> <p>It does not support desktop notifications and does not display a menu bar icon. It must be launched from the terminal.</p>"},{"location":"installation/macos/#install_1","title":"Install","text":"<ol> <li>Download latest <code>stash-macos</code> binary from GitHub repository.</li> <li> <p>Run <code>./stash-macos</code> from the terminal.</p> <p>If you have trouble, try running <code>chmod u+x stash-macos</code> to make the file executable.</p> </li> <li> <p>If everything went well, it should open a browser tab http://localhost:9999 to get started.</p> </li> </ol>"},{"location":"installation/macos/#update_1","title":"Update","text":"<ol> <li>Stop Stash server. Either by closing the terminal window or by stopping the process from Activity Monitor. </li> <li>Download latest <code>stash-macos</code> binary from GitHub repository.</li> <li>Delete old <code>stash-macos</code> binary and replace it with the newly downloaded one. </li> <li> <p>Run <code>./stash-macos</code> from the terminal.</p> <p>If you have trouble, try running <code>chmod u+x stash-macos</code> to make the file executable.</p> </li> <li> <p>If everything went well, it should open a browser tab http://localhost:9999 to get started.</p> </li> <li>You might be asked to perform a database migration depending on the changes included in the new release. Follow the steps. <ul> <li>Automatic backup will be performed before the migration. </li> <li>If any issues arise during the migration your database will be automatically restored from the backup.</li> </ul> </li> <li>You should be good to go. </li> </ol>"},{"location":"installation/macos/#remove_1","title":"Remove","text":"<ol> <li>Stop Stash server.</li> <li>Delete <code>stash-macos</code>.</li> <li>Delete <code>$HOME/.stash</code>.</li> </ol>"},{"location":"installation/synology/","title":"Synology","text":"<p>Info</p> <p>Written by Muldec.</p>"},{"location":"installation/synology/#foreword","title":"Foreword","text":"<p>Synology devices comes in two categories: those who support containerization through Docker, and those who don't. To see in which category you stand, refer to the \"Applied Models\" section of the Docker Package page.</p> <p>Now, follow the installation instructions based on whether you can use Docker or you cannot use Docker.</p>"},{"location":"installation/synology/#to-install-stash-with-docker","title":"To install Stash with Docker","text":"<p>Note</p> <p>Running Stash without Docker is possible even if your NAS is Docker ready. It offers more control on your Stash instance startup. As an example, it allows you to store your porn collection in an Encrypted Shared Folder, and only run Stash when the Encrypted folder is Mounted (Decrypted).</p> <ul> <li>Make sure the Docker app is installed and running correctly.</li> <li>Search the registry for stash and install.</li> <li>Create a stash image with the following set up in 'Advanced Settings':</li> </ul>"},{"location":"installation/synology/#volume-settings-section","title":"\"Volume Settings\" section","text":"File/Folder Mount Path Description docker/Stash/generated /generated Thumbnails, clips, etc docker/Stash/metadata /metadata Database docker/Stash/config /root/.stash Configuration Files docker/Stash/cache /cache Cache Files docker/Stash/blobs /blobs Binary data for scene covers, performer images, etc (where your porn lives) /data Location of your porn"},{"location":"installation/synology/#environment-section","title":"\"Environment\" section","text":"<p>(These will need to be the same as the Volumes you created in the \"Volume\" tab.)</p> variable Value PATH (keep as is) STASH_CACHE /cache STASH_METADATA /metadata STASH_GENERATED /generated STASH_STASH /data"},{"location":"installation/synology/#port-settings-section","title":"\"Port Settings\" section","text":"<p>You will need to set a default port in the \"Port\" section, otherwise Docker will assign a different port every time Stash is launched. Leave the container port as-is.</p>"},{"location":"installation/synology/#network-section","title":"\"Network\" section","text":"<p>Select the \"host\" network rather than \"bridge\".</p> <p>(Thanks to backer Herelam80 for these instructions)</p>"},{"location":"installation/synology/#to-install-stash-without-docker","title":"To install Stash without Docker","text":"<p>Warning</p> <p>This method uses SSH to run command lines on the NAS. If you are unfamiliar with SSH or linux command lines, I suggest you not to go further, as making a mistake in the SSH session can really screw your NAS.</p> <p>This is intended to work on DSM 7.0 and later. It will not work on any version prior to 7.0.</p>"},{"location":"installation/synology/#install-prerequisites","title":"Install Prerequisites","text":"<p>In DSM, navigate to <code>Package Center &gt; Settings</code>. In the <code>Package Sources</code> tab, click <code>Add</code>, type SynoCommunity as Name and https://packages.synocommunity.com/ as Location and then press <code>OK</code> to validate.</p> <p>Go back to the Package Center and look for <code>Python 3.11</code> in the Community tab. Click on <code>Install</code> and agree to the Third-Party Package warning.</p> <p>Then look for <code>Ffmpeg 6</code> in the Community tab. Click on <code>Install</code> and agree to the Third-Party Package warning.</p>"},{"location":"installation/synology/#enable-ssh","title":"Enable SSH","text":"<p>In DSM, navigate to <code>Control Panel &gt; Connectivity &gt; Terminal &amp; SNMP</code> and check the <code>Enable SSH service</code> box.</p>"},{"location":"installation/synology/#create-a-user-that-will-run-stash","title":"Create a user that will run stash","text":"<ol> <li>In DSM, navigate to <code>Control Panel &gt; File Sharing &gt; User &amp; Group</code></li> <li>Click on the <code>Create</code> button</li> <li>Give it a name (eg stash) and a Password (you will need it later)</li> <li>Click <code>Next</code> until you are on the \"Join groups\" screen</li> <li>Assign the user to the \"administrators\" group (this will be removed later, but is required by Synology to be able to use SSH (I know, it's stupid) and complete the installation properly)</li> <li>Click <code>Next</code> until you are on the \"Assign shared folders permissions\" screen</li> <li>Assign the Read/Write permission to your porn folder (the write permission is needed to allow the deletion of clips from the stash app)</li> <li>Click <code>Next</code> until you are on the \"Assign application permissions\" screen</li> <li>Check <code>Deny</code> for all applications</li> <li>Click <code>Next</code> until you can click on <code>Done</code></li> </ol>"},{"location":"installation/synology/#connect-to-your-nas","title":"Connect to your NAS","text":"<p>In your terminal, connect to your NAS using the newly created account that is part of the administrators group.</p> <pre><code>ssh stash@your_nas_hostname\n</code></pre>"},{"location":"installation/synology/#link-ffprobe-ffmpeg","title":"Link ffprobe &amp; ffmpeg","text":"<p>ffmpeg has been installed earlier, but is missing a link to ffprobe (also installed) and the new version of ffmpeg. Run the following command.</p> <pre><code>sudo ln -s /var/packages/ffmpeg6/target/bin/ffprobe /usr/local/bin/ffprobe\nsudo ln -s /var/packages/ffmpeg6/target/bin/ffmpeg /usr/local/bin/ffmpeg\n</code></pre>"},{"location":"installation/synology/#download-stash","title":"Download Stash","text":"<p>Download the lastest version of Stash and its checksum from GitHub</p> <pre><code># find what architecture your Synology is running on\nuname -m\n\n# depending on the architecture, you'll have to download the right version of stash\n\n# x86_64\nwget https://github.com/stashapp/stash/releases/latest/download/stash-linux\n# armv6l\nwget https://github.com/stashapp/stash/releases/latest/download/stash-linux-arm32v6\n# armv7l\nwget https://github.com/stashapp/stash/releases/latest/download/stash-linux-arm32v7\n# aarch64\nwget https://github.com/stashapp/stash/releases/latest/download/stash-linux-arm64v8\n\n# Download the CHECKSUM\nwget https://github.com/stashapp/stash/releases/latest/download/CHECKSUMS_SHA1\n\n# Perform the checksum validation\nsha1sum -c --ignore-missing CHECKSUMS_SHA1\n\n# you should see a line that says `stash-linux: OK`\n# if not, something went wrong during the download\n\n# Clean up the now unnecessary file\nrm CHECKSUMS_SHA1\n</code></pre> <p>Danger</p> <p>DO NOT run stash yet or it will generate a bunch of files/folders where we don't want them.</p>"},{"location":"installation/synology/#python","title":"Python","text":"<p>Prepare a Python environment (for scrapers and plugins)</p> <pre><code>python3.11 -m ensurepip --Update\npython3.11 -m venv stash-env\nsource stash-env/bin/activate\npip3 install pipreqs\n</code></pre>"},{"location":"installation/synology/#configure-your-nas-to-run-stash","title":"Configure your NAS to run Stash","text":"<p>Create a profile file</p> <pre><code>echo 'PATH=/usr/local/bin:$PATH' &gt; .profile\necho 'source stash-env/bin/activate' &gt;&gt; .profile\n</code></pre> <p>Create the service file by running <code>cat &gt; stash.service</code>, copy/pasting the following, and hitting CTRL+D when it's done to save the file (hit again if you are not back to the prompt):</p> <pre><code>[Unit]\nDescription=Run Stash at startup\nAfter=network.target\n\n[Service]\nWorkingDirectory=/var/services/homes/stash\nType=simple\nUser=stash\nExecStart=/bin/bash -c -l '\\\n   exec ./stash-linux'\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <p>Note</p> <p>Change the <code>ExecStart</code> line by providing the exact name of the stash executable that you downloaded previously.</p> <p>Start and activate the service</p> <pre><code>sudo systemctl enable \"$(pwd)/stash.service\"\nsudo systemctl start stash.service\n</code></pre>"},{"location":"installation/synology/#verify-that-it-is-working","title":"Verify that it is working","text":"<p>You can now access to stash by navigating to your NAS url on port 9999: <code>http://nas-hostname:9999</code></p>"},{"location":"installation/synology/#installing-scrapers-and-plugins","title":"Installing Scrapers and Plugins","text":"<p>Whenever you install a new Python scraper or plugin, do the following from the stash user home directory:</p> <pre><code>pipreqs .stash/.\npip3 install -r .stash/requirements.txt\n</code></pre> <p>Note</p> <p>Using pipreqs allows to scan all scrapers and plugins installed and find dependencies that they require. You can do the same thing without <code>pipreqs</code> by going into each individual directory and run <code>pip3 install -r requirements.txt</code></p>"},{"location":"installation/synology/#remove-stash-user-from-administrator-group","title":"Remove stash user from administrator group","text":"<ol> <li>Go back to DSM, navigate to <code>Control Panel &gt; File Sharing &gt; User &amp; Group</code></li> <li>Click on the stash user and then on <code>Edit</code></li> <li>In the <code>User Groups</code> tab, uncheck \"administrators\" and click on <code>Save</code></li> </ol>"},{"location":"installation/unraid/","title":"Unraid","text":"<p>Info</p> <p>Unraid app is maintained by a 3rd party. For Unraid specific support you can go to support thread by CorneliousJD.</p> <p>Note</p> <p>For users that want to try the development branch of Stash you can change the repository to <code>stashapp/stash:development</code>.</p>"},{"location":"installation/unraid/#install","title":"Install","text":"<ol> <li>Open Unraid and go to the <code>Apps</code> tab.</li> <li>Enable apps (if disabled) and search for <code>Stash</code>.</li> <li>You can modify paths to your preference.</li> <li>Go to Docker tab and enable autostart for <code>Stash</code>.</li> </ol>"},{"location":"installation/unraid/#optional-nvidia-runtime","title":"Optional NVIDIA runtime","text":"<p>Info</p> <p><code>binarygeek119/stash-cuda:latest</code> repository is not maintained by Stash core team. </p> <ol> <li> <p>First off you need the unraid Nvidia plugin for this to work. On Unraid go to apps and do a search for <code>nvidia driver</code> and install, this will take some time to install. When the dialog is done it is still installing in the background. When it has finshed you will get a popup saying it is safe to reboot now.</p> <p>Warning</p> <p>Do not restart Unraid server until the plugin is done installing itself!</p> </li> <li> <p>After getting the popup, reboot your server. After it back online you may continue to the next steps.</p> </li> <li>To begin modifing start by going into edit mode by right click on stash icon on Unraid dashboard or in Docker tab.</li> <li>In edit mode go to the top and click on basic view to switch to advaced view.</li> </ol> <p> </p>"},{"location":"installation/unraid/#container-configuration","title":"Container configuration","text":"<p>Now we can change some thing to have Stash work with a Nvidia GPU.</p> <ol> <li>Under Repository change the default Repository from <code>stashapp/stash:development</code> to <code>binarygeek119/stash-cuda:latest</code>. </li> <li>Add the following under Extra Parameters: <code>--runtime=nvidia</code>. </li> <li>Go down to the bottom of the page and click on  <code>Add another Path, Port, Variable, Label or Device</code>. </li> <li>Change <code>path</code> to <code>Variable</code> and add the following:  <ul> <li><code>Name:</code> enter <code>NVIDIA_DRIVER_CAPABILITIES</code> </li> <li><code>Key:</code> enter <code>NVIDIA_DRIVER_CAPABILITIES</code> </li> <li><code>Value:</code> enter <code>all</code>   and click save. </li> </ul> </li> <li>Go down to the bottom of the page and click on  <code>Add another Path, Port, Variable, Label or Device</code>. </li> <li>Change <code>path</code> to <code>Variable</code> and add the following:<ul> <li><code>Name:</code> enter <code>NVIDIA_VISIBLE_DEVICES</code></li> <li><code>Key:</code> enter <code>NVIDIA_VISIBLE_DEVICES</code></li> <li><code>Value:</code> enter <code>GPU-xxxx-xxxx-xxx-xxxx-xxxx-xxx-xxxxxxxxxxxx</code> </li> </ul> </li> </ol>"},{"location":"installation/unraid/#locating-gpuid","title":"Locating GPUID","text":"<p>Where <code>GPU-xxxx-xxxx-xxx-xxxx-xxxx-xxx-xxxxxxxxxxxx</code> you must enter your own GPUID. To find it do the folowing:</p> <ul> <li>On a new Unraid page click on settings.</li> <li>Go down to the bottom and click Nvidia Driver plugin.</li> <li>Copy the key and paste it under <code>Variable</code> called <code>Value</code>.</li> </ul> <p></p> <ol> <li>Click on save.</li> <li>Now click on apply and let the Docker download the new Nvidia version of Stash.</li> <li>Enjoy and use as before.</li> </ol>"},{"location":"installation/windows/","title":"Windows","text":"<p>Note</p> <p>Some Windows 11 versions might open Stash via Terminal instead of going to notification area. You can bypass that by running the program as administrator or use a shortcut to run it via conhost.exe. As a result of running as administrator Stash might fail to detect your Python installtion in PATH, so you need point it the correct way yourself after installation. In  Settings &gt; System and under Applications Paths header set Python Executable Path.</p>"},{"location":"installation/windows/#install","title":"Install","text":"<ol> <li>Download latest <code>stash-win.exe</code> binary from GitHub repository.</li> <li> <p>Run the executable (typically <code>stash-win.exe</code>). </p> <p>Running the executable might present a security prompt since the binary isn't signed yet. Just click more info and then the <code>run anyway</code> button.</p> </li> <li> <p>If everything went well, it should open a browser tab http://localhost:9999 to get started.</p> </li> <li>The program will show an icon in your notification area. You can access some quick links or quit the server from there.</li> </ol>"},{"location":"installation/windows/#update","title":"Update","text":"<ol> <li>Stop Stash server. Either via icon in the notification area or by stopping the process from Task Manager. </li> <li>Download latest <code>stash-win.exe</code> binary from GitHub repository.</li> <li>Delete old <code>stash-win.exe</code> binary and replace it with the newly downloaded one. </li> <li> <p>Run the executable (typically <code>stash-win.exe</code>). </p> <p>Running the executable might present a security prompt since the binary isn't signed yet. Just click more info and then the <code>run anyway</code> button.</p> </li> <li> <p>If everything went well, it should open a browser tab http://localhost:9999 to get started.</p> </li> <li>You might be asked to perform a database migration depending on the changes included in the new release. Follow the steps. <ul> <li>Automatic backup will be performed before the migration. </li> <li>If any issues arise during the migration your database will be automatically restored from the backup.</li> </ul> </li> <li>You should be good to go. </li> </ol>"},{"location":"installation/windows/#remove","title":"Remove","text":"<ol> <li>Stop Stash server.</li> <li>Delete the <code>stash-win.exe</code> binary file.</li> <li>Delete <code>%userprofile%/.stash</code> folder.</li> </ol>"},{"location":"integrations/","title":"Integrations","text":"<p>Info</p> <p>Integrations are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Integrations are ways to integrate Stash into other programs.</p> <p>To install follow the provided install instructions.</p>"},{"location":"integrations/list/","title":"Browse integrations","text":"stash-git-index <p>Exhaustive list of git repositories related to Stash Google Sheets document.</p> Integration no longer works <p>If you found that integration is no longer working you can try contacting the author directly or create an issue on their Git platform. You can also create a GitHub issue on Stash-Docs for it to be removed from the list.</p>"},{"location":"integrations/list/#jellyfinpluginstash","title":"Jellyfin.Plugin.Stash","text":"DescriptionAuthorScreenshots <p>Pulls data from your Stash using the filename to query on.</p> <p>DirtyRacer1337</p>"},{"location":"integrations/list/#pluginvideostash","title":"plugin.video.stash","text":"DescriptionAuthorScreenshots <p>plugin.video.stash is an add-on for the Kodi home theater center software to incorporate Stash, an organizer for your porn.</p> <p>gitgiggety</p>"},{"location":"integrations/list/#stashplexagentbundle","title":"StashPlexAgent.bundle","text":"DescriptionAuthorScreenshots <p>A very simplistic Plex agent to pull metadata from Stash.</p> <p>Darklyter</p>"},{"location":"metadata-sources/","title":"Metadata sources","text":"<p>There are several ways to get metadata into Stash.</p> <p>You can configure your metadata sources under  Settings &gt; Metadata Providers. See sections below for more details. </p> <ul> <li>stash-box instances - more automatic, crowdsourced metadata</li> <li>Scrapers - more individual, can be used for different databases, official studios</li> </ul>"},{"location":"metadata-sources/list/","title":"Browse scrapers","text":""},{"location":"metadata-sources/scrapers/","title":"Scrapers","text":"<p>Scrapers are the way to retrieve information from websites for your scenes/groups/galleries/performers. Using scrapers wisely, you can avoid typing information manually and repetitively. They can help you quickly establish links between groups/scenes and performers/studios, add relative tags, then download covers/posters for easy recognition. It's a great feature to organize your video or image collections.</p>"},{"location":"metadata-sources/scrapers/#managing-scrapers","title":"Managing scrapers","text":"<p>Scrapers can be installed and managed from the  Settings &gt; Metadata Providers page.</p> <p>Scrapers are installed using the Available Scrapers section. The Community (stable) source is configured by default.</p> <p>Installed plugins can be updated or uninstalled from the Installed Scrapers section.</p>"},{"location":"metadata-sources/scrapers/#adding-sources","title":"Adding sources","text":"<p>Anyone can create their own source index for scrapers. To add a new source go to  Settings &gt; Metadata Providers page and under Available Scrapers click Add Source.</p>"},{"location":"metadata-sources/scrapers/#installing-scrapers-manually","title":"Installing scrapers manually","text":"<p>By default, Stash looks for scrapers configurations in the scrapers sub-directory of the directory where the stash <code>config.yml</code> is read. This will either be the <code>%USERPROFILE%\\.stash\\scrapers</code> on Windows or <code>/root/.stash/scrapers</code> on Unix systems (Mac, Linux, etc.) or the current working directory.</p> <p>Scrapers are added by adding configuration yaml files (format: <code>scraperName.yml</code>) to the <code>scrapers</code> directory.</p> <p>Loaded scrapers can be viewed in the  Settings &gt; Metadata Providers page. After scrapers are added, removed or edited while Stash is running, they can be reloaded by clicking  Reload scrapers button.</p> <p>CommunityScrapers repository is the source for community maintained scrapers.</p>"},{"location":"metadata-sources/scrapers/#scraper-types","title":"Scraper types","text":""},{"location":"metadata-sources/scrapers/#by-searching-type","title":"By searching type","text":""},{"location":"metadata-sources/scrapers/#fragment","title":"Fragment","text":"<p>This kind of scrapers will fetch the metadata from a website, by using existing data from Stash, like a scene's file name, performer's name...etc. Fragment scrapers will get all the data Stash knows about that scene/performer/gallery, so it's quite flexible when fetching information.</p>"},{"location":"metadata-sources/scrapers/#search-by-name","title":"Search by name","text":"<p>A Search-By-Name scraper will get only \"name\" input from a scene or performer, then it will search a website with that name, and return a list of results.</p> <p>Scrapers includes: Babepedia.yml, FreeonesCommunity.yml, IAFD.yml</p>"},{"location":"metadata-sources/scrapers/#search-by-url","title":"Search by URL","text":"<p>Most scrapers fetch metadata from a given URL, either by using XPath, JSON, or scripts. For this kind of scrapers you need to know the URL for that scene/performer/gallery/group so they can extract information from it.</p> <p>Scrapers includes: All other scrapers.</p>"},{"location":"metadata-sources/scrapers/#by-implementation","title":"By implementation","text":""},{"location":"metadata-sources/scrapers/#xpath-and-json-scrapers","title":"XPath and JSON scrapers","text":"<p>This is the most common type of scrapers, which use either XPath parser to pin-point the information and retrieve them, or send out JSON requests to get the information. xpathScraper and jsonScraper can be mixed in the same .yml file.</p>"},{"location":"metadata-sources/scrapers/#cdp-scrapers","title":"CDP scrapers","text":"<p>This type of scrapers is mostly the same as XPath/JSON scrapers, except it will launch a headless Chrome browser to retrieve the information from websites. It can also get cookies, simulate a mouse click and other actions. These scrapers have <code>useCDP: true</code> setting in them.</p>"},{"location":"metadata-sources/scrapers/#python-ruby-scrapers","title":"Python / Ruby scrapers","text":"<p>This type of scrapers will launch Python, Ruby to retrieve information from websites. Script scrapers are powerful, versatile and cross-platform. So they usually can do much more than regular scrapers. To install this kind of scrapers, you need to copy not only the .yml file, but also all the script files like .py, .rb that associated with it.</p>"},{"location":"metadata-sources/scrapers/#more-details","title":"More details","text":"<p>You can view the detailed information about scrapers here or CommunityScrapers README.</p>"},{"location":"metadata-sources/scrapers/#create-your-own","title":"Create your own","text":"<p>To create your own scraper, there is detailed information about that as well. Best way to start is to read the simple ones and understand how xpath works. The XPath Cheetsheet is quite useful in creating a .yml file. In Firefox you can use xpath search in \"Web Developer Tools (F12)\". The \"search HTML\" bar actually accepts xpath searches. You can use it to verify your xpath queries.</p>"},{"location":"metadata-sources/scrapers/#contribution","title":"Contribution","text":"<p>The Scraper community always welcome new members. If you create a nice scraper and find it stable and useful, you can share it via the GitHub repository. Create a pull request, and let the mod review your work. The mods are busy, so it will probably take a few days, or a couple of weeks, but it will be a great feeling once your contribution is accepted by the community.</p>"},{"location":"metadata-sources/stash-box-instances/","title":"stash-box instances","text":""},{"location":"metadata-sources/stash-box-instances/#fansdb","title":"FansDB","text":"<p>FansDB is a community-driven metadata database focused on adult content platforms (OnlyFans, Fansly, ManyVids, etc.) where the independent creators are the primary focus.</p> <p> Website |  Guidelines |  Discord |  Endpoint <code>https://fansdb.cc/graphql</code> |  Join</p>"},{"location":"metadata-sources/stash-box-instances/#javstash","title":"JAVStash","text":"<p>JAVStash is a metadata database focused on Japanese Adult Video (JAV) content and their original metadata in Japanese. Primarily driven by automated scrapers.</p> <p> Website |  Discord |  Endpoint <code>https://javstash.org/graphql</code> |  Join<sup>1</sup></p>"},{"location":"metadata-sources/stash-box-instances/#pmv-stash","title":"PMV Stash","text":"<p>PMV Stash is a community-driven metadata database focused on remixed pornographic art such as Porn Music Videos (PMV), Cock Hero (CH), Hypno Vids, Compilations.</p> <p> Website |  Guidelines |  Discord |  Endpoint <code>https://pmvstash.org/graphql</code> |  Join</p>"},{"location":"metadata-sources/stash-box-instances/#stashdb","title":"StashDB","text":"<p>StashDB is a community-driven metadata database focused on digital scenes of all orientations.</p> <p> Website |  Guidelines |  Community forum |  Discord |  Endpoint <code>https://stashdb.org/graphql</code> |  Join</p>"},{"location":"metadata-sources/stash-box-instances/#theporndb","title":"ThePornDB<sup>2</sup>","text":"<p>ThePornDB is a metadata database focused on digital scenes and movies. Driven by automated scrapers.</p> <p> Website |  Discord |  Endpoint <code>https://theporndb.net/graphql</code><sup>3</sup> |  Join<sup>4</sup></p> <ol> <li> <p>Link leads to a private Discord server. If you are getting that the link is invalid, make sure to join the private Discord server first!\u00a0\u21a9</p> </li> <li> <p>Uses proprietary implemetation of stash-box API.\u00a0\u21a9</p> </li> <li> <p>Has a different endpoint for movies and JAV. For movies use <code>https://theporndb.net/graphql?type=Movie</code>, for JAV use <code>https://theporndb.net/graphql?type=JAV</code>.\u00a0\u21a9</p> </li> <li> <p>Requires registration to access the site.\u00a0\u21a9</p> </li> </ol>"},{"location":"networking/authentication-required-when-accessing-stash-from-the-internet/","title":"Protecting against accidental exposure to the internet","text":""},{"location":"networking/authentication-required-when-accessing-stash-from-the-internet/#protecting-against-accidental-exposure-to-the-internet","title":"Protecting against accidental exposure to the internet","text":"<p>Stash data is considered private, and Stash is not designed to be publicly exposed, except to trusted confidants. Stash has a built-in protection against accidentally exposing itself publicly outside of your network. If Stash receives a request from the public internet, and you do not have a password enabled, Stash will reject the request and stop handling requests to protect your privacy.</p> <p>This often happens when you use the port-forwarding feature of your router or install Stash on a publicly accessible server, such as a VPS. When you do this, anybody in the world can access your Stash instance, so we enforce a password requirement. If your Stash instance has shutdown due to an insecure configuration, it will not handle requests again until you tell it that you have fixed the problem. After setting up either authentication, firewall, or removing your port forwarding rules, you can edit <code>.stash/config/config.yml</code> and remove the key <code>security_tripwire_accessed_from_public_internet</code>.</p>"},{"location":"networking/authentication-required-when-accessing-stash-from-the-internet/#alternative-and-safe-methods-to-access-your-stash","title":"Alternative and safe methods to access your Stash","text":"<p>You may use several methods to safely access Stash from outside of your home network. In the most basic, you can enable authentication in Stash, and re-enable port forwarding. You can also use a VPN solution that allows you to securely access your home network, such as Tailscale, Zerotier, Wireguard, or others.</p>"},{"location":"networking/authentication-required-when-accessing-stash-from-the-internet/#using-an-external-authentication-provider","title":"Using an external authentication provider","text":"<p>If you are an advanced user, and have secured your Stash instance behind an authwall provided by a reverse proxy or hosting solution, you may continue to use that. You simply have to edit <code>.stash/config/config.yml</code> and set <code>dangerous_allow_public_without_auth</code> to <code>true</code>. If you have already tripped the security feature, you will also have to remove the <code>security_tripwire_accessed_from_public_internet</code> key in order to allow Stash to serve requests.</p>"},{"location":"plugins/","title":"Plugins","text":"<p>Info</p> <p>Plugins are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Plugins adds further features that Stash doesn't itself provide.</p>"},{"location":"plugins/#managing-plugins","title":"Managing plugins","text":"<p>Plugins can be installed and managed from the  Settings &gt; Plugins page.</p> <p>Plugins are installed using the Available Plugins section. The Community (stable) source is configured by default.</p> <p>Installed plugins can be updated or uninstalled from the Installed Plugins section.</p>"},{"location":"plugins/#adding-sources","title":"Adding sources","text":"<p>Anyone can create their own source index for plugins. To add a new source go to  Settings &gt; Plugins page and under Available Plugins click Add Source.</p>"},{"location":"plugins/#installing-plugins-manually","title":"Installing plugins manually","text":"<p>By default, Stash looks for plugin configurations in the plugins sub-directory of the directory where the stash <code>config.yml</code> is read. This will either be the <code>%USERPROFILE%\\.stash\\plugins</code> on Windows or <code>/root/.stash/plugins</code> on Unix systems (Mac, Linux, etc.) or the current working directory.</p> <p>Plugins are added by adding configuration yaml files (format: <code>pluginName.yml</code>) to the <code>plugins</code> directory.</p> <p>Loaded plugins can be viewed in the  Settings &gt; Plugins page. After plugins are added, removed or edited while Stash is running, they can be reloaded by clicking  Reload plugins button.</p>"},{"location":"plugins/list/","title":"Browse plugins","text":""},{"location":"plugins/list/#browse-plugins","title":"Browse plugins","text":""},{"location":"plugins/list/#sources","title":"Sources","text":"<ol> <li>https://7djx1qp.github.io/stash-plugins/main/index.yml</li> <li>https://blackstar3000.github.io/stash-plugins-blackstar/main/index.yml</li> <li>https://carrotwaxr.github.io/stash-plugins/stable/index.yml</li> <li>https://ceequester.github.io/CommunityScripts/stable/index.yml</li> <li>https://coderdudeo.github.io/CoderDudeo-Stash-Plugins/index.yml</li> <li>https://f4bio.github.io/stash-plugins/main/index.yml</li> <li>https://feederbox826.github.io/plugins/main/index.yml</li> <li>https://feederbox826.github.io/stashlist/main/index.yml</li> <li>https://jsmthy.github.io/stash-plugins/main/index.yml</li> <li>https://lurking987.github.io/stash-plugins/main/index.yml</li> <li>https://minasukihikimuna.github.io/MidnightRider-Stash/index.yml</li> <li>https://raw.githubusercontent.com/d0t-d0t-d0t/stash-repo/refs/heads/dist/index.yml</li> <li>https://rosa-umineko.github.io/CommunityScripts/stable/index.yml</li> <li>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml</li> <li>https://serechops.github.io/Serechops-Stash/index.yml</li> <li>https://sneakyninja256.github.io/stash-plugins/stable/index.yml</li> <li>https://spaceyuck.github.io/stash-plugins/index.yml</li> <li>https://stash-of-awesomeness.github.io/stash-plugins/main/index.yml</li> <li>https://stashapp.github.io/CommunityScripts/stable/index.yml</li> <li>https://stg-annon.github.io/StashScripts/stable/index.yml</li> <li>https://tetrax-10.github.io/stash-stuffs/index.yml</li> <li>https://valkyr-js.github.io/stash-plugins/index.yml</li> <li>https://voidimproper.github.io/stash-plugins/main/index.yml</li> <li>https://w0lfiew0lf.github.io/StashApp-Tools/index.yml</li> <li>https://withoutpants.github.io/stash-plugin-prototypes/main/index.yml</li> <li>https://xiosensei.github.io/Xio-Stash/index.yml</li> </ol>"},{"location":"plugins/list/#all-plugins","title":"All plugins","text":""},{"location":"plugins/list/#add-images-to-tags","title":"Add Images to Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Auto add images to tags using first found image from Google API. Requires modifying the .py file to provide your own API key and CSE ID</p> <pre><code>https://rosa-umineko.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>rosa-umineko</p>"},{"location":"plugins/list/#addtional-files-deleter","title":"Addtional Files Deleter","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Deletes addtional files assosiated with an image or scene object. Which will usually have identical PHashes for scenes or Checksum for images. Unless is a scene manually merged. Apply ignore tag to scene/image object for plugin to bypass.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>elkorol</p>"},{"location":"plugins/list/#adulttime-interactive-downloader","title":"Adulttime Interactive Downloader","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Download Interactive Files for Adulttime Scenes</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>tooliload</p>"},{"location":"plugins/list/#ai-tagger","title":"AI Tagger","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Tag videos and Images with Locally hosted AI using Skier's Free and Patreon AI models</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>skier233</p>"},{"location":"plugins/list/#audio-transcodes","title":"audio-transcodes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Generate a transcode video from an audio file</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#audioplayer","title":"AudioPlayer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add an audio-only toggle button and support for audio files in the Stash player through hls transcoder.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>d0t-d0t-d0t</p>"},{"location":"plugins/list/#audioplayerlite","title":"AudioPlayerLite","text":"DescriptionSource URLREADMEAuthorScreenshots <p>This plugin identifies files with no video codec and plays them as audio.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>d0t-d0t-d0t</p>"},{"location":"plugins/list/#audiotab","title":"audioTab","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an audio tab to the menu bar</p> <pre><code>https://sneakyninja256.github.io/stash-plugins/stable/index.yml\n</code></pre> <p>View README</p> <p>sneakyninja256</p> <p> </p>"},{"location":"plugins/list/#auto-select-updatable-plugins-and-scrapers","title":"Auto Select Updatable Plugins and Scrapers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Auto selects updatable Plugins and Scrapers when Check for Updates is clicked</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>No README available</p> <p>tetrax-10</p> <p> </p>"},{"location":"plugins/list/#auto-update-plugins-and-scrapers","title":"Auto Update Plugins and Scrapers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Automatically updates Plugins and Scrappers on website Startup</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>No README available</p> <p>tetrax-10</p>"},{"location":"plugins/list/#autovr","title":"autovr","text":"DescriptionSource URLREADMEAuthorScreenshots <p>automatically toggle VR mode</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#average-rating","title":"Average Rating","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds average rating to performers and studios</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#babepedia-gallery-scraper","title":"BabePedia Gallery Scraper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Scans your Performer Gallery for any BabePedia URLs and scrapes the related galleries for that performer.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#backup-plugins","title":"Backup Plugins","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Creates a backup of the 'plugins' directory.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#bulk-image-scrape","title":"Bulk Image Scrape","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Apply an image scraper to all images</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>NotMyMainUser</p>"},{"location":"plugins/list/#bulk-import-performers","title":"Bulk Import Performers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Bulk Import Performers based on names from a text file.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#categorize-tags-based-on-parent","title":"Categorize Tags Based On Parent","text":"DescriptionSource URLREADMEAuthorScreenshots <p>colors the tag background image based on the heighest parent and sorts tag with the same heighest parent together</p> <pre><code>https://xiosensei.github.io/Xio-Stash/index.yml\n</code></pre> <p>No README available</p> <p>xiosensei</p>"},{"location":"plugins/list/#choose-your-own-adventure-player-backer","title":"Choose Your Own Adventure Player (Backer)","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Plugin to adapt Choose Your Own Adventure Games to the VideoJS player.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>cj12312021</p>"},{"location":"plugins/list/#cjs-card-tweaks","title":"CJ's Card Tweaks.","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Provides various tweaks for the Stash Cards.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>cj12312021</p> <p> </p>"},{"location":"plugins/list/#cleanupui","title":"CleanupUI","text":"DescriptionSource URLREADMEAuthorScreenshots <p>UI plugin to hide features you don't want</p> <pre><code>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>S3L3CT3DLoves</p>"},{"location":"plugins/list/#colorcodedtags","title":"ColorCodedTags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Changes the colors of tag labels based on naming convention.</p> <pre><code>https://coderdudeo.github.io/CoderDudeo-Stash-Plugins/index.yml\n</code></pre> <p>View README</p> <p>coderdudeo</p>"},{"location":"plugins/list/#comic-info-extractor","title":"Comic Info Extractor","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Extract the metadata from cbz with the Comicrack standard (ComicInfo.xml)</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>yoshnopa</p>"},{"location":"plugins/list/#communityscriptsuilibrary","title":"CommunityScriptsUILibrary","text":"DescriptionSource URLREADMEAuthorScreenshots <p>CommunityScripts UI helper library</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>No Author</p>"},{"location":"plugins/list/#completethestash","title":"CompleteTheStash","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Finds missing scenes for selected performers and creates missing scene metadata to another missing Stash instance. You can use either StashDB or TPDB or both as a source for missing scenes.</p> <pre><code>https://minasukihikimuna.github.io/MidnightRider-Stash/index.yml\n</code></pre> <p>No README available</p> <p>MinasukiHikimuna</p>"},{"location":"plugins/list/#cuptag","title":"cuptag","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Tag performers with cup sizes</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#default-data-for-path","title":"Default Data For Path","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds configured Tags, Performers and/or Studio to all newly scanned Scenes, Images and Galleries.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>TheSinfulKing</p>"},{"location":"plugins/list/#discord-presence","title":"Discord Presence","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Sets currently playing scene data as your Discord status. See README for prerequisites and config options (blue hyperlink next to enable/disable button)</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>NotForMyCV</p>"},{"location":"plugins/list/#display-tag-image-with-tag","title":"Display Tag Image With Tag","text":"DescriptionSource URLREADMEAuthorScreenshots <p>any page in stash that has clickable tag, instead of showing the tag name only, show the image of the tag above it.</p> <pre><code>https://xiosensei.github.io/Xio-Stash/index.yml\n</code></pre> <p>No README available</p> <p>xiosensei</p>"},{"location":"plugins/list/#dupe-marker-detector","title":"Dupe Marker Detector","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Finds and marks duplicate markers</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>feederbox826</p>"},{"location":"plugins/list/#dupfilemanager","title":"DupFileManager","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Manages duplicate files.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>David-Maisonave</p>"},{"location":"plugins/list/#duplicate-scene-marker-cleaner","title":"Duplicate Scene Marker Cleaner","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Automatically detects and removes duplicate scene markers based on scene ID, seconds, and title upon scene updates or via manual trigger.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#e621_tagger","title":"e621_tagger","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Finding images and videos on e621 and tagging them.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#easytag","title":"EasyTag","text":"DescriptionSource URLREADMEAuthorScreenshots <p>UI plugin to add shortcuts for commonly used tags</p> <pre><code>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>S3L3CT3DLoves</p>"},{"location":"plugins/list/#edit-unorganized","title":"edit-unorganized","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Default to edit tab on unorganized scenes</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#embedded-scene-player","title":"Embedded Scene Player","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Detects embed URLs for file-less scenes and shows them in the scene player.</p> <pre><code>https://withoutpants.github.io/stash-plugin-prototypes/main/index.yml\n</code></pre> <p>View README</p> <p>WithoutPants</p> <p> </p>"},{"location":"plugins/list/#extended-stats","title":"Extended Stats","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds new stats to the stats page</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p>"},{"location":"plugins/list/#external-links-enhanced","title":"External Links Enhanced","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds additional icons for external links.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>QxxxGit</p>"},{"location":"plugins/list/#extra-performer-info","title":"Extra Performer Info","text":"DescriptionSource URLREADMEAuthorScreenshots <p>add award info from wikidata</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#fast-tagger","title":"Fast Tagger","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Fast tagging without searching for tags</p> <pre><code>https://spaceyuck.github.io/stash-plugins/index.yml\n</code></pre> <p>View README</p> <p>No Author</p>"},{"location":"plugins/list/#filemonitor","title":"FileMonitor","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Monitors the Stash library folders, and updates Stash if any changes occurs in the Stash library paths.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>David-Maisonave</p> <p> </p>"},{"location":"plugins/list/#filename-parser","title":"Filename parser","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Parses filename into studio, date, performers and title</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>gitgiggety</p>"},{"location":"plugins/list/#filepath-copy","title":"filepath-copy","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Copy file path to clipboard when selected</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#find-file-errors","title":"Find File Errors","text":"DescriptionSource URLREADMEAuthorScreenshots <p>find files that stash has previously errored on from the log file</p> <pre><code>https://stg-annon.github.io/StashScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>stg-annon</p>"},{"location":"plugins/list/#find-marker-for-tag-images","title":"Find Marker For Tag Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Script to update tag images based on a randomly matched scene marker.</p> <pre><code>https://lurking987.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#find-marker-tag-images","title":"Find Marker Tag Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Script to update tag images based on scene markers</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#fix-the-stash","title":"Fix The Stash","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Provides easy data fixes.</p> <pre><code>https://minasukihikimuna.github.io/MidnightRider-Stash/index.yml\n</code></pre> <p>No README available</p> <p>MinasukiHikimuna</p>"},{"location":"plugins/list/#foldersort","title":"folderSort","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Organise your PMV folder(s) based on Stash info</p> <pre><code>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>S3L3CT3DLoves</p>"},{"location":"plugins/list/#fontawesome-js","title":"fontawesome-js","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Use fontawesome icons from React libraries</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#funscript-markers","title":"Funscript Markers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Create markers if there is a funscript with \"chapters\" included in the metadata of the script</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#gallery-date-parser","title":"Gallery Date Parser","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Find date in path or filename and add it to the gallery</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>HijackHornet</p>"},{"location":"plugins/list/#gallery-linker","title":"Gallery Linker","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Links image galleries to related scenes and performers based on file patterns, dates, and metadata.</p> <pre><code>https://voidimproper.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#glassy-branding","title":"Glassy - Branding","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#hashthestash","title":"HashTheStash","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Calculates additional fingerprints for scenes.</p> <pre><code>https://minasukihikimuna.github.io/MidnightRider-Stash/index.yml\n</code></pre> <p>No README available</p> <p>MinasukiHikimuna</p>"},{"location":"plugins/list/#hot-cards","title":"Hot Cards","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds custom styling to card elements that match a Tag ID or a Rating Threshold.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>HandyRandyx</p>"},{"location":"plugins/list/#hover-cards","title":"Hover Cards","text":"DescriptionSource URLREADMEAuthorScreenshots <pre><code>https://valkyr-js.github.io/stash-plugins/index.yml\n</code></pre> <p>No README available</p> <p>Valkyr-JS</p>"},{"location":"plugins/list/#image-date-from-metadata","title":"Image Date From Metadata","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Find date in image or clip metadata</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#image2scene","title":"image2Scene","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add a mechanism to link images to scenes in the Image Edit Panel.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#imagegallerynavigation","title":"imageGalleryNavigation","text":"DescriptionSource URLREADMEAuthorScreenshots <p>This plugin adds features for navigating between images within a Gallery from the Image details page.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#lightbox-visual-novel","title":"Lightbox Visual Novel","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Display the image description with Typewriter effect on the footer.</p> <pre><code>https://w0lfiew0lf.github.io/StashApp-Tools/index.yml\n</code></pre> <p>No README available</p> <p>W0lfieW0lf</p> <p> </p>"},{"location":"plugins/list/#local-visage","title":"Local Visage","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Local Performer Recognition plugin using DeepFace</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#log-console","title":"log-console","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Display log messages in the web browser console</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#log-toast","title":"log-toast","text":"DescriptionSource URLREADMEAuthorScreenshots <p>display log messages as toasts</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p> <p> </p>"},{"location":"plugins/list/#marker-delete-button","title":"Marker Delete Button","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a delete button to entries on the Markers page and on the Scene page.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>WeedLordVegeta420</p>"},{"location":"plugins/list/#markergen","title":"markergen","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Generate markers on save</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#mcmetadata","title":"mcMetadata","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Generates metadata for use with other media servers like Emby and Jellyfin, and optionally organizes/renames your tagged scenes.</p> <pre><code>https://carrotwaxr.github.io/stash-plugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>carrotwaxr</p>"},{"location":"plugins/list/#misc-tags","title":"Misc Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add extra tags for VR and other ues</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#movie-duration-from-scenes","title":"Movie Duration from Scenes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>More accurately reflect your movie's duration with the sum of durations of its scenes.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy","title":"Movie-Fy","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Movie-Fy meta-package</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy-bulk-movie-scraper","title":"Movie-Fy Bulk Movie Scraper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Update your movie metadata in bulk.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy-check-and-update-scene-titles","title":"Movie-Fy Check and Update Scene Titles","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Check and update titles for scenes in the Movie studio</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy-create-movie-studio","title":"Movie-Fy Create Movie Studio","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Creates a new Movie Studio to be used with Mass_Movie_Create</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy-scene-studio-bulk-update","title":"Movie-Fy Scene Studio Bulk Update","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Bulk update scene studios based on movie studios.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#movie-fy-update-movie-scene-covers","title":"Movie-Fy Update Movie Scene Covers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Update scene cover images with movie cover images.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#nfosceneparser","title":"nfoSceneParser","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Fills scene data from NFO or filename pattern</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Gykes</p>"},{"location":"plugins/list/#organizer-on-update","title":"Organizer On Update","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Organize your tags based on a template.</p> <pre><code>https://f4bio.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>f4bio</p>"},{"location":"plugins/list/#overlay-info","title":"overlay-info","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds more information to scene card overlay</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#path-parser","title":"Path Parser","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Updates scene info based on the file path.</p> <pre><code>https://ceequester.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Ceequester</p>"},{"location":"plugins/list/#path-parser_1","title":"Path Parser","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Updates scene info based on the file path.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>ImJustMatt</p>"},{"location":"plugins/list/#performer-body-calculator","title":"Performer Body Calculator","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Tags performers based on existing metadata, with tags matching the performers body type</p> <pre><code>https://stg-annon.github.io/StashScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>stg-annon</p>"},{"location":"plugins/list/#performer-details-extended","title":"Performer Details Extended","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Displays additional metadata on performer pages, such as their most regular scene partners, top studio, and total play duration. Requires Stash v0.27.0 or higher.</p> <pre><code>https://valkyr-js.github.io/stash-plugins/index.yml\n</code></pre> <p>View README</p> <p>Valkyr-JS</p>"},{"location":"plugins/list/#performer-gallery-scraper-plugin","title":"Performer Gallery Scraper Plugin","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A plugin to scrape galleries from porngals4.com for specific performers and create zip archives.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#performer-scene-compare","title":"Performer Scene Compare","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Compares local performer scenes with StashDB and updates the local database.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#performer-stashbox-url-to-id","title":"Performer Stashbox Url to ID","text":"DescriptionSource URLREADMEAuthorScreenshots <p>If the performer has a url for another stashbox add it as an id to the performer</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#performer-age","title":"performer-age","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Tag performers with age tags</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#phash-duplicate-tagger","title":"PHash Duplicate Tagger","text":"DescriptionSource URLREADMEAuthorScreenshots <p>PHash Duplicate Tagger (PDT) Will tag scenes based on duplicate PHashes for easier/safer removal.</p> <pre><code>https://stg-annon.github.io/StashScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>stg-annon</p>"},{"location":"plugins/list/#play-video-if-preview-not-found","title":"Play Video If Preview Not Found","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Plays video on scene card hover if preview is not found</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>No README available</p> <p>tetrax-10</p> <p> </p>"},{"location":"plugins/list/#plex-sync","title":"Plex Sync","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Refresh Plex metadata when scene updated in Stash. Requires the StashPlexAgent.bundle agent.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#public-ip","title":"Public IP","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Query ident.me to check my current IP (ensure VPN is working)</p> <pre><code>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>S3L3CT3DLoves</p>"},{"location":"plugins/list/#python-tools-installer","title":"Python Tools Installer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Download stashapp-tools for DockerEnv</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>tooliload</p>"},{"location":"plugins/list/#pythondepmanager","title":"PythonDepManager","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Manage Python dependencies for CommunityScripts</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#quick-sentiment","title":"Quick Sentiment","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds favourite and watch later overlays to scene cards</p> <pre><code>https://withoutpants.github.io/stash-plugin-prototypes/main/index.yml\n</code></pre> <p>View README</p> <p>WithoutPants</p> <p> </p>"},{"location":"plugins/list/#quickrating","title":"QuickRating","text":"DescriptionSource URLREADMEAuthorScreenshots <p>More rating UI options (only enable one)</p> <pre><code>https://s3l3ct3dloves.github.io/stashPlugins/stable/index.yml\n</code></pre> <p>No README available</p> <p>S3L3CT3DLoves</p>"},{"location":"plugins/list/#randombutton","title":"RandomButton","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a button to quickly jump to a random scene, image, performer, studio, group, tag, or gallery, both on overview and internal entity pages.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#randomize-performer-images","title":"Randomize Performer Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>display random images of performer when visiting a performer page. check README.md for set up.</p> <pre><code>https://xiosensei.github.io/Xio-Stash/index.yml\n</code></pre> <p>No README available</p> <p>xiosensei</p>"},{"location":"plugins/list/#randomize-performer-images-using-gallery","title":"Randomize Performer Images Using Gallery","text":"DescriptionSource URLREADMEAuthorScreenshots <p>display random images of performer when visiting a performer page. check README.md for set up.</p> <pre><code>https://xiosensei.github.io/Xio-Stash/index.yml\n</code></pre> <p>No README available</p> <p>xiosensei</p>"},{"location":"plugins/list/#rebrand","title":"Rebrand","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a name override of your choice in Stash</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#rename-file-on-update","title":"Rename File on Update","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Renames files when they are updated in Stash.</p> <pre><code>https://stash-of-awesomeness.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>stash-of-awesomeness</p>"},{"location":"plugins/list/#renamefile","title":"RenameFile","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Renames video (scene) file names when the user edits the [Title] field located in the scene [Edit] tab.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>David-Maisonave</p>"},{"location":"plugins/list/#renamer","title":"Renamer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Renames scene files based on scene details and updates associated scenes with a \"Renamed\" tag.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#renamer-dev","title":"Renamer-Dev","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Renames scene files based on scene details and updates associated scenes with a \"Renamed\" tag.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#renameronupdate","title":"renamerOnUpdate","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Rename/move filename based on a template.</p> <pre><code>https://f4bio.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>f4bio</p>"},{"location":"plugins/list/#renameronupdatedevelop","title":"renamerOnUpdateDevelop","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Rename/move filename based on a template.</p> <pre><code>https://f4bio.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>f4bio</p>"},{"location":"plugins/list/#replace-thumbnails-with-high-res-images","title":"Replace Thumbnails With High-Res Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Replaces thumbnails with original high res images</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>No README available</p> <p>tetrax-10</p>"},{"location":"plugins/list/#scene-cover-cropper","title":"Scene Cover Cropper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Crop Scene Cover Images</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#scene-marker-tags-to-scene","title":"Scene Marker Tags to Scene","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds primary tag of Scene Marker to the Scene on marker create/update.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>WithoutPants</p>"},{"location":"plugins/list/#scene-page-remember-states","title":"Scene Page Remember States","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Uses local storage to remember the state of the scene page detail panel nav bar and activate it on page load. Remembers collapse state of the divider.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>elkorol</p>"},{"location":"plugins/list/#scenehub","title":"SceneHub","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Collects the latest scenes from popular network sites and displays them all in one page.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#serechopsscenecard","title":"SerechopsSceneCard","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom scene card via the Plugin API.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#set-performers-from-tags","title":"Set Performers From Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Automatically sets performers in scenes and images based on tags.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>Torrafox</p>"},{"location":"plugins/list/#set-scene-cover","title":"Set Scene Cover","text":"DescriptionSource URLREADMEAuthorScreenshots <p>searches Stash for Scenes with a cover image in the same folder and sets the cover image in stash to that image</p> <pre><code>https://rosa-umineko.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>rosa-umineko</p>"},{"location":"plugins/list/#set-scene-cover_1","title":"Set Scene Cover","text":"DescriptionSource URLREADMEAuthorScreenshots <p>searches Stash for Scenes with a cover image in the same folder and sets the cover image in stash to that image</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>stg-annon</p>"},{"location":"plugins/list/#shelve","title":"shelve","text":"DescriptionSource URLREADMEAuthorScreenshots <p>[EXPERIMENTAL - use at own risk] Moves files based on object metadata</p> <pre><code>https://withoutpants.github.io/stash-plugin-prototypes/main/index.yml\n</code></pre> <p>View README</p> <p>WithoutPants</p>"},{"location":"plugins/list/#shelve-ui","title":"shelve-ui","text":"DescriptionSource URLREADMEAuthorScreenshots <p>UI for renaming files in bulk based on metadata.</p> <pre><code>https://withoutpants.github.io/stash-plugin-prototypes/main/index.yml\n</code></pre> <p>View README</p> <p>WithoutPants</p>"},{"location":"plugins/list/#skip-intro","title":"skip-intro","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Skips static duration intros</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#stash-accessibility","title":"Stash Accessibility","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an Accessibility button in the top right navbar that offers various accessibility features.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-ai","title":"Stash AI","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add Tags or Markers to a video using AI</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>cc1234475</p>"},{"location":"plugins/list/#stash-batch-create-all","title":"Stash Batch Create All","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a 'Create All' button to the scene tagger view. It will target all 'Create' buttons and add new tags as well.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-batch-query-edit","title":"Stash Batch Query Edit","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Batch modify scene tagger search query</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-batch-result-toggle","title":"Stash Batch Result Toggle","text":"DescriptionSource URLREADMEAuthorScreenshots <p>In Scene Tagger, adds button to toggle all stashdb scene match result fields. Saves clicks when you only want to save a few metadata fields. Instead of turning off every field, you batch toggle them off, then toggle on the ones you want</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-batch-save","title":"Stash Batch Save","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a batch save button to scenes tagger</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-batch-search","title":"Stash Batch Search","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a batch search button to scenes and performers tagger</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-disable-all","title":"Stash Disable All","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Disables all UI configs and plugins. Saves the current config to a JSON file so that it can be restored to original state.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#stash-download-scenes","title":"Stash Download Scenes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>An easy method to directly download the stream of any Stash scene.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-dynamic-groups","title":"Stash Dynamic Groups","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Designate dynamic groups that can be populated simply by assigning a tag.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-enable-all","title":"Stash Enable All","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Restores the UI to its original state via a saved JSON config.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#stash-fps-overlay","title":"Stash FPS Overlay","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an FPS overlay on the scene cards.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-ingest","title":"Stash Ingest","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Moves identified scenes from the \".StashIngest\" folder to the root \"Scenes\" folder.</p> <pre><code>https://jsmthy.github.io/stash-plugins/main/index.yml\n</code></pre> <p>View README</p> <p>jsmthy</p>"},{"location":"plugins/list/#stash-jellyfin-exporter","title":"Stash Jellyfin Exporter","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Restructures your Stash library to be Jellyfin compliant to better serve and populate metadata within your Jellyfin server.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-markdown","title":"Stash Markdown","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds markdown parsing to tag description fields</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-markers-autoscroll","title":"Stash Markers Autoscroll","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Automatically scrolls markers page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-matched-performer-scrape","title":"Stash Matched Performer Scrape","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Scrapes performers in bulk from ThePornDB and StashDB on exact name matches only.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-mergers","title":"Stash Mergers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A plugin for selectively merging data between performers in Stash.</p> <pre><code>https://valkyr-js.github.io/stash-plugins/index.yml\n</code></pre> <p>View README</p> <p>Valkyr-JS</p> <p> </p>"},{"location":"plugins/list/#stash-new-performer-filter-button","title":"Stash New Performer Filter Button","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a customizable button to the performers page. Links to a new performers filter by default.</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-new-scenes-filter-button","title":"Stash New Scenes Filter Button","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a filter button to the scenes page in Stash.</p> <pre><code>https://blackstar3000.github.io/stash-plugins-blackstar/main/index.yml\n</code></pre> <p>No README available</p> <p>blackstar3000</p>"},{"location":"plugins/list/#stash-notes","title":"Stash Notes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a button to the navigation bar which opens a small window for writing notes to your browser's local storage.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>QxxxGit</p>"},{"location":"plugins/list/#stash-open-media-player","title":"Stash Open Media Player","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Open scene filepath links in an external media player</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p>"},{"location":"plugins/list/#stash-performer-audit-task-button","title":"Stash Performer Audit Task Button","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a button to the performers page to run the audit plugin task</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-performer-custom-fields","title":"Stash Performer Custom Fields","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds custom fields to performers that are stored in performer details as JSON.</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-performer-favicons","title":"Stash Performer Favicons","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds the performer URL favicons as a new line item in the performer details.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-performer-image-cropper","title":"Stash Performer Image Cropper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an image cropper to performer page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-performer-image-extractor","title":"Stash Performer Image Extractor","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Extracts all performers from your localdb to a local directory for easy editing.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-performer-markers-tab","title":"Stash Performer Markers Tab","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a Markers link to performer pages</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-performer-tagger-additions","title":"Stash Performer Tagger Additions","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds performer birthdate and url to tagger view. Makes clicking performer name open stash profile in new tab instead of current tab.</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-performer-url-searchbox","title":"Stash Performer URL Searchbox","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a search by performer url textbox to the performers page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-reels","title":"Stash Reels","text":"DescriptionSource URLREADMEAuthorScreenshots <p>TikTok for Stash.</p> <pre><code>https://valkyr-js.github.io/stash-plugins/index.yml\n</code></pre> <p>View README</p> <p>Valkyr-JS</p>"},{"location":"plugins/list/#stash-right-click-galleries","title":"Stash Right Click Galleries","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the gallery cards to perform various quick tasks related to galleries.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-images","title":"Stash Right Click Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the image cards to perform various quick tasks related to images.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-performer-merge","title":"Stash Right Click Performer Merge","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the  to perform various quick tasks related to settings.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-performers","title":"Stash Right Click Performers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the performer cards to perform various quick tasks related to performers.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-scenes","title":"Stash Right Click Scenes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the scene cards to perform various quick tasks related to scenes.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-settings","title":"Stash Right Click Settings","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the settings icon to perform various quick tasks related to settings.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-suite","title":"Stash Right Click Suite","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Meta-package installer for the Stash Right-Click Suite tools.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-right-click-tags","title":"Stash Right Click Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom right-click menu to the tag cards to perform various quick tasks related to tags.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-scene-file-size","title":"Stash Scene File Size","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Display file size on scene cards.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-scene-specs-overlay","title":"Stash Scene Specs Overlay","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Hides all the scene specs overlay within the scene card and reveals them on hover.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-scene-tagger-additions","title":"Stash Scene Tagger Additions","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds scene duration and filepath to tagger view.</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-scene-tagger-colorizer","title":"Stash Scene Tagger Colorizer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Colorize scene tagger match results to show matching and mismatching scene data.</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-scene-tagger-draft-submit","title":"Stash Scene Tagger Draft Submit","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds button to Scene Tagger to submit draft to stashdb</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-set-stashbox-favorite-performers","title":"Stash Set Stashbox Favorite Performers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Set Stashbox favorite performers according to stash favorites</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-stashbox-scene-count","title":"Stash Stashbox Scene Count","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds stashbox scene counts to performers and studios</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-stashid-icon","title":"Stash StashID Icon","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds checkmark icon to performer and studio cards that have a stashid</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-stashid-input","title":"Stash StashID Input","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds input for entering new stash id to performer details page and studio page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-stats","title":"Stash Stats","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds stats to stats page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-studio-logo-wall-view","title":"Stash Studio Logo Wall View","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds the studio logo on the scene cards in Wall view.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-tag-custom-colors","title":"Stash Tag Custom Colors","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom button in the navbar to stylize tag chips based on CSS snippets, regex patterns, or basic color-coding.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-tag-image-cropper","title":"Stash Tag Image Cropper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an image cropper to tag page</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-timestamps","title":"Stash TimeStamps","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Create timestamps from pre-existing markers within the scene's details.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-toggle-scene-sprites","title":"Stash Toggle Scene Sprites","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Toggles scene sprites to replace static preview image of all scenes on the current index page.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-ui-plugin-example","title":"Stash UI Plugin Example","text":"DescriptionSource URLREADMEAuthorScreenshots <p>An attempt to simplify the process of building UI plugins.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stash-video-player-ab-loop-time-input","title":"Stash Video Player AB Loop Time Input","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Replaces the video player AB loop start and end buttons with time inputs</p> <pre><code>https://7djx1qp.github.io/stash-plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>7dJx1qP</p> <p> </p>"},{"location":"plugins/list/#stash-omnisearch","title":"stash-omnisearch","text":"DescriptionSource URLREADMEAuthorScreenshots <p>search all the things on stash</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#stash-open","title":"stash-open","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Opens media files in local media player</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#stash-s6-helper","title":"stash-s6 helper","text":"DescriptionSource URLREADMEAuthorScreenshots <p>stash-s6 helper plugin</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#stashannotate","title":"stashAnnotate","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Allows users to create a custom annotation and highlight field on images similar to popular Booru sites.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stashappandroidtv-companion","title":"StashAppAndroidTV Companion","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A companion plugin for StashAppAndroidTV</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>damontecres</p>"},{"location":"plugins/list/#stashaudioplayer","title":"StashAudioPlayer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add an audio-only toggle button and support for audio files in the Stash player through hls transcoder.</p> <pre><code>https://raw.githubusercontent.com/d0t-d0t-d0t/stash-repo/refs/heads/dist/index.yml\n</code></pre> <p>View README</p> <p>d0t-d0t-d0t</p>"},{"location":"plugins/list/#stashaudioplayerlite","title":"StashAudioPlayerLite","text":"DescriptionSource URLREADMEAuthorScreenshots <p>This plugin identifies files with no video codec and plays them as audio.</p> <pre><code>https://raw.githubusercontent.com/d0t-d0t-d0t/stash-repo/refs/heads/dist/index.yml\n</code></pre> <p>No README available</p> <p>d0t-d0t-d0t</p>"},{"location":"plugins/list/#stashdb-performer-gallery","title":"stashdb performer gallery","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Automatically download performer images from stashdb or other stash-boxes. Add the [Stashbox Performer Gallery] tag to a performer and it will create a gallery of images from that stash-box database. Apply the tag [Set Profile Image] to an image to set it as the profile image of that performer. Note you will need to configure the download path and add this as a path under settings &gt; library</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#stashdb-tag-import","title":"StashDB Tag Import","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Import StashDB's list of Tags for your Stash.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stashdb-fullimg","title":"stashdb-fullimg","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Download full-size images from StashDB</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#stashdisable","title":"stashDisable","text":"DescriptionSource URLREADMEAuthorScreenshots <p>stashDisable meta-package</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"plugins/list/#stashlist-sync","title":"stashlist-sync","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Sync stashIDs to stashlist history</p> <pre><code>https://feederbox826.github.io/stashlist/main/index.yml\n</code></pre> <p>View README</p> <p>feederbox826</p>"},{"location":"plugins/list/#stashnewperformerscenes","title":"stashNewPerformerScenes","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a custom icon in the performer card should they have a new scene released within the specified date range from the navbar button.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#stashnotifications","title":"StashNotifications","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Receive notifications about plugin and scraper changes.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>QxxxGit</p>"},{"location":"plugins/list/#stashtagperformerimage","title":"stashTagPerformerImage","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Checks parent directory of image on Image.Update.Post and compares to any existing performers in the db. Updates that image with the related performer.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#studio-background-shadow","title":"Studio background shadow","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add drop shadows to studio icons for visibility</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p> <p> </p>"},{"location":"plugins/list/#studio-top-performer","title":"Studio Top Performer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds a Queen icon with the top performer listed in the studio cards as determined by most scenes starred in from that particular studio.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>No README available</p> <p>serechops</p>"},{"location":"plugins/list/#tag-graph","title":"Tag Graph","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Interactive tag graph with vis.js, to view go to http://localhost:9999/plugin/tagGraph/assets/graph/</p> <pre><code>https://stg-annon.github.io/StashScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>stg-annon</p>"},{"location":"plugins/list/#tag-images-from-performer-tags","title":"Tag Images From Performer Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>tags images with performer tags.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#tag-scenes-from-performer-tags","title":"Tag Scenes From Performer Tags","text":"DescriptionSource URLREADMEAuthorScreenshots <p>tags scenes with performer tags.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Dankonite</p>"},{"location":"plugins/list/#tag-text-to-emoji","title":"Tag Text to Emoji","text":"DescriptionSource URLREADMEAuthorScreenshots <p>changes text to emoji if you are using common tags from stashdb</p> <pre><code>https://xiosensei.github.io/Xio-Stash/index.yml\n</code></pre> <p>No README available</p> <p>xiosensei</p>"},{"location":"plugins/list/#tag-color-regex","title":"tag-color-regex","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Colors tags based on regex</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#tag-filter","title":"tag-filter","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Filter out and hide meta-tags</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p> <p> </p>"},{"location":"plugins/list/#tag-import","title":"tag-import","text":"DescriptionSource URLREADMEAuthorScreenshots <p>feederbox opinionated tag import</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#tag-link","title":"tag-link","text":"DescriptionSource URLREADMEAuthorScreenshots <p>link local tags to stashDB</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#tag-video","title":"tag-video","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add &lt;video&gt; support to tag images</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#tagcopypaste","title":"tagCopyPaste","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds Copy/Paste buttons to Tags field.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#tagger-img-res","title":"tagger-img-res","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds resolutions to all tagger images</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#tetrax-userscript-library","title":"Tetrax Userscript Library","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Utility library for Tetrax userscripts</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>No README available</p> <p>tetrax-10</p>"},{"location":"plugins/list/#the-porn-db-markers","title":"The Porn DB Markers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Sync Markers from The Porn DB aka theporndb.net</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#theme-switch","title":"Theme Switch","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Theme and CSS script manager located in main menu bar top right.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>elkorol</p> <p> </p>"},{"location":"plugins/list/#thumbnail-previews","title":"Thumbnail Previews","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Displays preview videos on thumbnail cards.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#timestamp-trade","title":"Timestamp Trade","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Sync Markers with timestamp.trade, a new database for sharing markers.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>Tweeticoats</p>"},{"location":"plugins/list/#titlefromfilename","title":"titleFromFilename","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Set a scene's title from it's filename</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>bnkai</p>"},{"location":"plugins/list/#titleobserver","title":"titleobserver","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds an event listener for title changes</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#useragent","title":"useragent","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Programatically set scraper User-Agent</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#valkyr-scene-cards","title":"Valkyr Scene Cards","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A customisable rework of the scene card component for Stash.</p> <pre><code>https://valkyr-js.github.io/stash-plugins/index.yml\n</code></pre> <p>View README</p> <p>Valkyr-JS</p> <p> </p>"},{"location":"plugins/list/#video-banner","title":"Video Banner","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Displays random generated preview videos in the detail page banner.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"plugins/list/#video-chapter-markers","title":"Video Chapter Markers","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Create markers from chapter information embedded in video files</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>View README</p> <p>qxzg</p>"},{"location":"plugins/list/#videoscrollwheel","title":"VideoScrollWheel","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds functionality to change volume/time in scene video player by hovering over left/right side of player and scrolling with mouse scrollwheel. Scroll while hovering on left side to adjust volume, scroll on right side to skip forward/back.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>WeedLordVegeta420</p>"},{"location":"plugins/list/#vjs-mmb-fullscreen","title":"vjs-mmb-fullscreen","text":"DescriptionSource URLREADMEAuthorScreenshots <p>VideoJS middle mouse button fullscreen</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#vjs-shortcut","title":"vjs-shortcut","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Add YouTube keyboard shortcuts to VideoJS</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#vjs-vr-zoom","title":"vjs-vr-zoom","text":"DescriptionSource URLREADMEAuthorScreenshots <p>VideoJS VR zoom controls</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"plugins/list/#watched-video-icon","title":"Watched Video Icon","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds icon and css class to watched videos</p> <pre><code>https://feederbox826.github.io/plugins/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p> <p> </p>"},{"location":"scripts/","title":"Scripts","text":"<p>Info</p> <p>Scripts are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Scripts are standalone programs that can interact with Stash either through GraphQL queries, custom Javascript or by directly editing Stash database or external files.</p> <p>To install a script follow the script's install instructions.</p>"},{"location":"scripts/list/","title":"Browse scripts","text":"stash-git-index <p>Exhaustive list of git repositories related to Stash Google Sheets document.</p> Script no longer works <p>If you found that script is no longer working you can try contacting the author directly or create an issue on their Git platform. You can also create a GitHub issue on Stash-Docs for it to be removed from the list.</p>"},{"location":"scripts/list/#addmarkerono","title":"AddMarkerOnO","text":"DescriptionAuthorScreenshots <p>Will auto-generate a marker when the SceneAddO event is trigger</p> <p>rosa-umineko</p>"},{"location":"scripts/list/#blurrycardbackground","title":"blurryCardBackground","text":"DescriptionAuthorScreenshots <p>Add blurry background to scene/movie/gallery/image/studio.</p> <p>philpw99</p> <p></p>"},{"location":"scripts/list/#filenameperformerstocsv","title":"FilenamePerformersToCSV","text":"DescriptionAuthorScreenshots <p>Parse performer names from your media filenames into CSV files for batch import into Stash!</p> <p>ALonelyJuicebox</p> <p></p>"},{"location":"scripts/list/#get-profilepictures","title":"Get-ProfilePictures","text":"DescriptionAuthorScreenshots <p>Get-ProfilePictures</p> <p>MinasukiHikimuna</p>"},{"location":"scripts/list/#kodi-helper","title":"Kodi helper","text":"DescriptionAuthorScreenshots <p>Generates nfo and strm for use with Kodi.</p> <p>WithoutPants</p>"},{"location":"scripts/list/#ofmetadatatostash","title":"OFMetadataToStash","text":"DescriptionAuthorScreenshots <p>OnlyFans metadata import tool for Stash, written in Powershell.</p> <ul> <li>Simple to use with a straightforward command line based UI!</li> <li>Script can auto-associate scenes/images with the appropriate OnlyFans performer(s) and studio, in batch!</li> <li>Built-in utility for completely scrubbing and sanitizing OnlyFans metadata databases</li> </ul> <p>ALonelyJuicebox</p> <p> </p>"},{"location":"scripts/list/#plex-to-stash-ratings","title":"plex-to-stash-ratings","text":"DescriptionAuthorScreenshots <p>Transfer scene rating and view count from Plex to Stash.</p> <p>oikmeg</p>"},{"location":"scripts/list/#pwplayerjs-scene-card-quick-player","title":"pwPlayer.js - Scene Card Quick Player","text":"DescriptionAuthorScreenshots <p>This Javascript will create a \"Play\" button in each scene card. You can click on it and the video for that scene will be played right away. Click on the video again, then you are back to the scene list.</p> <p>philpw99</p> <p></p>"},{"location":"scripts/list/#sqlite-renamer-for-stash","title":"SQLITE Renamer for Stash","text":"DescriptionAuthorScreenshots <p>Using metadata from your database (SQLITE) to rename your file.</p> <p>Belleyy</p>"},{"location":"scripts/list/#stash-watcher","title":"Stash Watcher","text":"DescriptionAuthorScreenshots <p>Stash Watcher is a service that watches your Stash library directories for changes and then triggers a Metadata Scan when new files are added to those directories. It then waits a period of time before triggering another scan to keep Stash from constantly scanning if you're making many changes. Note that updates are watched during that window; the update is merely delayed.</p> <p>DuctTape42</p>"},{"location":"scripts/list/#stashapp-tag-importer","title":"stashapp-tag-importer","text":"DescriptionAuthorScreenshots <p>Creates tags and aliases, resolves tag conflicts, and updates tag titles and descriptions from Stashbox (StashDB) to your local Stash instance. It can be run periodically to perform a one way sync to keep your Stash instance up to date with Stashbox (StashDB).</p> <p>soundchaser128</p>"},{"location":"scripts/list/#stashgalleryupdate","title":"StashGalleryUpdate","text":"DescriptionAuthorScreenshots <p>Dumb little script to match and update Stash galleries from scenes</p> <p>Darklyter</p>"},{"location":"scripts/list/#stashstudiosync","title":"StashStudioSync","text":"DescriptionAuthorScreenshots <p>An easy way to query a stashbox GQL endpoint and import any unknown studio IDs.</p> <p>Stash-KennyG</p>"},{"location":"scripts/list/#stashtagskins","title":"StashTagSkins","text":"DescriptionAuthorScreenshots <p>Used to quickly apply and change themes of tags for Stash.</p> <p>Stash-KennyG</p> <p> </p>"},{"location":"scripts/list/#stashvideohashernode","title":"StashVideohasherNode","text":"DescriptionAuthorScreenshots <p>This is a very simple script that can be run on multiple systems to process a large Stash import of scenes. Instead of running cover and phash generation tasks on the Stash server itself, this script will allow you to do the same thing on as many computers as you would like, with all of the nodes contributing back to the Stash server.</p> <p>Darklyter</p>"},{"location":"themes/","title":"Themes","text":"<p>Info</p> <p>Themes are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Stash supports CSS themes to adjust the look-and-feel of the interface. There are several that have been created by the maintainers and users.</p> <p>Themes can be installed either via plugin or as Custom CSS.</p>"},{"location":"themes/#installing-via-plugin","title":"Installing via plugin","text":"<p>Plugins can be installed and managed from the  Settings &gt; Plugins page.</p> <p>Plugins are installed using the Available Plugins section. The Community (stable) source is configured by default that has several themes.</p> <p>Installed plugins can be updated or uninstalled from the Installed Plugins section.</p>"},{"location":"themes/#adding-sources","title":"Adding sources","text":"<p>Anyone can create their own source index for plugins. To add a new source go to  Settings &gt; Plugins page and under Available Plugins click Add Source.</p>"},{"location":"themes/#installing-via-custom-css","title":"Installing via Custom CSS","text":"<ol> <li>Find a theme from the list and copy the content of .css file.</li> <li>In Stash, go to  Settings &gt; Interface and scroll down to Custom CSS heading. </li> <li>Make sure Custom CSS enabled is checked.</li> <li>Click on Edit under Custom CSS and then paste the CSS code into the text box.</li> <li>You will need to force-reload Shift+F5 in order to see the theme.</li> </ol>"},{"location":"themes/custom-css-snippets/","title":"Custom CSS snippets","text":"<p>Custom CSS allows you to modify Stash stock stylesheets.</p> <p>The following is a list of some useful CSS snippets. You may use them by copying-and-pasting them into the Custom CSS editor found in the  Settings &gt; Interface panel or by navigating to <code>localhost:9999/settings?tab=interface</code></p> <p>Warning</p> <ul> <li>Future releases of Stash may break these CSS tweaks. </li> <li>CSS tweaks may not appear without flushing the Stash browser cache first on Chrome.</li> </ul>"},{"location":"themes/custom-css-snippets/#scenes","title":"Scenes","text":""},{"location":"themes/custom-css-snippets/#fit-more-thumbnails-on-each-row","title":"Fit more thumbnails on each row","text":"DescriptionAuthorScreenshotsCSS code <p>Reduce left and right padding on Scene and Performer grid pages allowing for more thumbnails on each row.</p> <pre><code>/* [Scenes tab] Fit more thumbnails on each row */\n\n.grid { padding: 0px !important; }\n</code></pre>"},{"location":"themes/custom-css-snippets/#allow-for-longer-string-when-displaying-studio-as-text-on-scene-thumbnails","title":"Allow for longer string when displaying \"Studio as Text\" on scene thumbnails","text":"DescriptionAuthorScreenshotsCSS code <p>Allow for longer string when displaying \"Studio as Text\" on scene thumbnails.</p> <pre><code>/* [Scenes tab] Allow for longer string when displaying \"Studio as Text\" on scene thumbnails */\n\n.scene-studio-overlay {\n    font-weight: 600 !important;\n    opacity: 1 !important;\n    width: 60% !important;\n    text-overflow: ellipsis !important;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-scene-specs-resolution-duration-from-scene-card","title":"Hide scene specs (resolution, duration) from scene card","text":"DescriptionAuthorScreenshotsCSS code <p>Hide scene specs (resolution, duration) from scene card.</p> <pre><code>/* [Scenes tab] Hide scene specs (resolution, duration) from scene card */\n\n.scene-specs-overlay {\ndisplay: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-studio-logotext-from-scene-card","title":"Hide studio logo/text from scene card","text":"DescriptionAuthorScreenshotsCSS code <p>Hide studio logo/text from scene card.</p> <pre><code>/* [Scenes tab] Hide studio logo/text from scene card */\n\n.scene-studio-overlay {\ndisplay: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#make-the-list-of-tags-take-up-less-width","title":"Make the list of tags take up less width","text":"DescriptionAuthorScreenshotsCSS code <p>Make the list of tags take up less width.</p> <pre><code>/* [Scenes tab] Make the list of tags take up less width */\n\n.bs-popover-bottom {\nmax-width: 500px\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#swap-studio-and-resolutionduration-positions","title":"Swap studio and resolution/duration positions","text":"DescriptionAuthorScreenshotsCSS code <p>Swap studio and resolution/duration positions.</p> <pre><code>/* [Scenes tab] Swap studio and resolution/duration positions */\n\n.scene-studio-overlay {\nbottom: 1rem;\nright: 0.7rem;\nheight: inherit;\ntop: inherit;\n}\n\n.scene-specs-overlay {\nright: 0.7rem;\ntop: 0.7rem;\nbottom: inherit;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#adjust-the-mouse-over-behaviour-in-wall-mode","title":"Adjust the mouse over behaviour in wall mode","text":"DescriptionAuthorScreenshotsCSS code <p>Adjust the mouse over behaviour in wall mode.</p> <pre><code>/* [Scenes tab] Adjust the mouse over behaviour in wall mode */\n\n@media (min-width: 576px) {\n.wall-item:hover::before {\nopacity: 0;  \n}\n\n.wall-item:hover .wall-item-container {\ntransform: scale(1.5);\n}\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#disable-zoom-on-hover-in-wall-mode","title":"Disable zoom on hover in wall mode","text":"DescriptionAuthorScreenshotsCSS code <p>Disable zoom on hover in wall mode.</p> <pre><code>/* [Scenes tab] Disable zoom on hover in wall mode */\n\n.wall-item:hover .wall-item-container {\n    transform: none;\n}\n.wall-item:before {\n    opacity: 0 !important;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-the-scene-scrubber","title":"Hide the scene scrubber","text":"DescriptionAuthorScreenshotsCSS code <p>This will hide the large scene scrubber under the video player and max out the player's height.</p> <p></p> <pre><code>/* [Scenes tab] Hide the scene scrubber and max out the player's height */\n.scrubber-wrapper {\ndisplay: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-the-truncated-text","title":"Hide the truncated text","text":"DescriptionAuthorScreenshotsCSS code <p>This will hide the truncated text that appears under the tile and date.</p> <pre><code>/* [Scenes Tab] - Hide the truncated text on scene card */\n\n.TruncatedText.scene-card__description { \ndisplay: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#images","title":"Images","text":""},{"location":"themes/custom-css-snippets/#disable-lightbox-animation","title":"Disable lightbox animation","text":"DescriptionAuthorScreenshotsCSS code <p>Disable lightbox animation.</p> <pre><code>/* [Images tab] Disable lightbox animation */\n\n.Lightbox-carousel {\ntransition: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#dont-crop-preview-thumbnails","title":"Don't crop preview thumbnails","text":"DescriptionAuthorScreenshotsCSS code <p>Don't crop preview thumbnails.</p> <pre><code>/* [Images tab] Don't crop preview thumbnails */\n\n.flexbin &gt; * &gt; img {\nobject-fit: inherit;\nmax-width: none;\nmin-width: initial;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#groups","title":"Groups","text":""},{"location":"themes/custom-css-snippets/#better-group-layout-for-desktops-regular-size-poster","title":"Better Group layout for desktops, regular size poster","text":"DescriptionAuthorScreenshotsCSS code <p>Making the front and back image much bigger. Left panel uses 70% while the right uses 30%.</p> <pre><code>/* [Groups tab] Better Group layout for desktops: Regular size poster */\n\n.group-details.mb-3.col.col-xl-4.col-lg-6 {\nflex-basis: 70%\n}\n.col-xl-8.col-lg-6{\nflex-basis: 30% \n}\n.group-images{\nflex-wrap: wrap\n}\n.group-image-container {\nflex: 0 0 500px\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#better-group-layout-for-desktops-larger-size-poster","title":"Better Group layout for desktops, larger size poster","text":"DescriptionAuthorScreenshotsCSS code <p>Making the front and back image much bigger. Left panel uses 70% while the right uses 30%.</p> <pre><code>/* [Groups tab] Better Group layout for desktops: Larger size poster */\n\n.group-details.mb-3.col.col-xl-4.col-lg-6 {\nflex-basis: 70%\n}\n.col-xl-8.col-lg-6{\nflex-basis: 30% \n}\n.group-images{\nflex-direction: column;\nflex-wrap: wrap\n}\n.group-image-container {\nflex: 1 1 700px\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#galleries","title":"Galleries","text":""},{"location":"themes/custom-css-snippets/#grid-view-for-galleries","title":"Grid view for galleries","text":"DescriptionAuthorScreenshotsCSS code <p>Grid view for galleries.</p> <pre><code>/* [Galleries tab] Grid view for galleries */\n\n.col.col-sm-6.mx-auto.table .d-none.d-sm-block {\n    display: none !important;\n}\n.col.col-sm-6.mx-auto.table .w-100.w-sm-auto {\n    width: 175px !important;\n    background-color: rgba(0, 0, 0, .45);\n    box-shadow: 0 0 2px rgba(0, 0, 0, .35);\n}\n.col.col-sm-6.mx-auto.table tr {\n    display: inline-table;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#disable-lightbox-image-transition","title":"Disable lightbox image transition","text":"DescriptionAuthorScreenshotsCSS code <p>Disable lightbox image transition.</p> <pre><code>/* [Gallery tab] Disable lightbox image transition */\n.Lightbox-carousel {\ntransition: unset;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-the-lightbox-header-and-footer","title":"Hide the lightbox header and footer","text":"DescriptionAuthorScreenshotsCSS code <p>Hides the lightbox header and footer to make the image area larger. Mouse reveals them as an overlay to the image.</p> <p>peresabcod</p> <pre><code>/* [Gallery tab] Hides the lightbox header and footer to make the image area larger. Mouse reveals them as an overlay to the image*/\n\n.Lightbox-header,\n.Lightbox-footer{\nz-index:9999;\nposition:absolute;\nwidth:100%;\nopacity:0;\nbackground-color:#0008;\ntransition: opacity 0.5s ease;\n}\n\n.Lightbox-footer{\nbottom:0;}\n\n.Lightbox-navbutton{\nopacity:0;\ntransition: opacity 0.5s ease;\n}\n\n\n.Lightbox-navbutton:hover,\n.Lightbox-header:hover,\n.Lightbox-footer:hover{\nopacity:1;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#performers","title":"Performers","text":""},{"location":"themes/custom-css-snippets/#show-entire-performer-image-in-performer-card","title":"Show entire performer image in performer card","text":"DescriptionAuthorScreenshotsCSS code <p>Show entire performer image in performer card.</p> <pre><code>/* [Performers tab] Show entire performer image in performer card */\n\n.performer.image {\nbackground-size: contain !important;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#show-a-larger-image-in-performers-page-for-desktop","title":"Show a larger image in performer's page for desktop","text":"DescriptionAuthorScreenshotsCSS code <p>Show a larger image in performer's page for desktop.</p> <pre><code>/* [Performers tab] Show a larger image in performer's page for desktop */\n.performer-image-container{\nflex: 0 0 50%;\nmax-width: 50%;\n}\n/* Changing .col-md-8 settings also affects studios and tags display. 50% should be good enough. */\n.col-md-8 {\nflex: 0 0 50%;\nmax-width: 50%;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#place-performer-image-in-the-background-on-performer-page","title":"Place performer image in the background on performer page","text":"DescriptionAuthorScreenshotsCSS code <p>Place performer image in the background on performer page.</p> <pre><code>/* [Performers tab] Place performer image in the background on performer page */\n\n.performer-image-container.col-md-4.text-center {\n    flex: 0 0 0%;\n    max-width: 0%;\n}\n\n#performer-page .performer-image-container .btn.btn-link {\n    position: fixed;\n    width: 100%;\n    top: 0;\n    left: 0;\n    padding: 0;\n}\n\n#performer-page .performer-image-container .btn.btn-link:before {\n    content: '';\n    position:absolute;\n    top:0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(to left, rgba(0,0,0,0) 0%,rgb(0 0 0 / 75%) 100%);\n    z-index: 1;\n}\n\n#performer-page .performer-image-container .performer {\n    max-height: none;\n    max-width: none;\n    width: 100%;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#show-larger-performer-images-in-performers-list","title":"Show larger performer images in performers list","text":"DescriptionAuthorScreenshotsCSS code <p>Show larger performer images in performers list.</p> <pre><code>/* [Performers tab] Show larger performer images in performers list */\n/* original value: height: 30rem; min-width:13.25rem; */\n.performer-card-image{\nheight: 45rem;\nmin-width: 20rem;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#move-the-buttons-in-the-performers-edit-panel-to-the-top-instead-of-bottom","title":"Move the buttons in the Performer's edit panel to the top instead of bottom","text":"DescriptionAuthorScreenshotsCSS code <p>Move the buttons in the Performer's edit panel to the top instead of bottom (in newer version of Stash, the buttons are already positioned both at top and bottom.</p> <pre><code>/* [Performers tab] Move the buttons in the Performer's edit panel to the top instead of bottom (in newer version of Stash, the buttons are already positioned both at top and bottom.  */\n\nform#performer-edit {\n    display: flex;\n    flex-direction: column;\n}\n#performer-edit &gt; .row {\n    order: 1;\n}\n#performer-edit &gt; .row:last-child {\n    order: 0;\n    margin-bottom: 1rem;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#move-the-tags-row-in-the-performers-edit-panel-to-the-second-position-just-after-name","title":"Move the tags row in the Performer's edit panel to the second position (just after name)","text":"DescriptionAuthorScreenshotsCSS code <p>Move the tags row in the Performer's edit panel to the second position (just after name).</p> <pre><code>/* [Performers tab] Move the tags row in the Performer's edit panel to the second position (just after name).  */\n\nform#performer-edit {\n    display: flex;\n    flex-direction: column;\n}\n#performer-edit &gt; .row:nth-child(24) {\n    order: -1;\n}\n#performer-edit &gt; .row:first-child {\n    order: -2;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#studios","title":"Studios","text":""},{"location":"themes/custom-css-snippets/#different-studio-cards-layout","title":"Different studio cards layout","text":"DescriptionAuthorScreenshotsCSS code <p>Changes the layout of studio cards.</p> <p>Qx#1573</p> <p></p> <pre><code>/* [Studios tab] Changes the layout of studio cards */\n.studio-card.grid-card.card div.card-section div.rating-banner { display: none; }\n.slick-slide .studio-card-image { height: 300px; }\n\n.studio-card, .recommendation-row .studio-card {\n    padding: 0;\n    width: 500px;\n    height: 300px;\n}\n\n.studio-card-image, .recommendation-row .studio-card .studio-card-image {\n    max-height: 300px;\n    width: 500px;\n}\n\n.studio-card.grid-card.card div.card-section {\n    position: absolute;\n    bottom: 0em;\n    width: inherit;\n    background-color: rgba(0, 0, 0, 0.7);\n    overflow: hidden;\n    height: 2.5em;\n    transition: 0.5s ease-in-out;\n}\n\n.studio-card.grid-card.card div.card-section:hover {\n    height: 7em;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#more-studio-per-row","title":"More studio per row","text":"DescriptionAuthorScreenshotsCSS code <p>Display more studio per row</p> <p>hijack_hornet</p> <p> </p> <pre><code>/* [Studios tab] Show more item per row */\n:not(.recommendation-row .studio-card).studio-card {\n    width: 15%\n}\n:not(.recommendation-row .studio-card-image).studio-card-image {\n    width: 100%\n}\n.studio-card h5 {\n    text-align: center !important;\n    display: block;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#tags","title":"Tags","text":""},{"location":"themes/custom-css-snippets/#different-tag-cards-layout","title":"Different tag cards layout","text":"DescriptionAuthorScreenshotsCSS code <p>Changes the layout of tag cards on tags tab and when hovering on tags in different content.</p> <p>Qx#1573</p> <p></p> <pre><code>/* [Tags changes] changes the layout of tag cards on tags page and hover */\n.tag-parent-tags, .tag-sub-tags { display: none;}\n.tag-card.zoom-0.grid-card.card div.card-section div.card-popovers.btn-group { margin-top: 1em; }\n.tag-card.zoom-0.grid-card.card div.thumbnail-section a.tag-card-header img.tag-card-image { object-fit: cover; }\n.tag-card.zoom-0.grid-card.card div.card-section hr { display: none; }\n\n.tag-card.zoom-0.grid-card.card {\n    padding: 0;\n    width: 300px;\n    height: 180px;\n}\n\n.tag-card.zoom-0.grid-card.card div.card-section {\n    position: absolute;\n    text-shadow: 2px 2px 2px #000;\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.3);\n    height: 3em;\n    overflow: hidden;\n    transition: 0.8s ease-in-out;\n}\n\n.tag-card.zoom-0.grid-card.card div.card-section a {\n    text-decoration: none;\n}\n\n.tag-card.zoom-0.grid-card.card div.card-section:hover {\n    height: 22em;\n}\n\n.tag-card.zoom-0.grid-card.card \n    div.card-section a \n    h5.card-section-title.flex-aligned \n    div.TruncatedText {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    width: 300px;\n    overflow: hidden;\n    display: block;\n}\n\n.tag-card.zoom-0.grid-card.card div.card-section div.TruncatedText.tag-description {\n    position: relative;\n    top: 0.5em;\n    -webkit-text-stroke-width: 1px;\n    font-size: 16px;\n}\n\n.tag-card .card-popovers .btn {\n    text-shadow: 1px 1px 1px #000;\n    stroke: black;\n    stroke-width: 15;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#alternative-tag-layout","title":"Alternative tag layout","text":"DescriptionAuthorScreenshotsCSS code <p>Changes the tags layout to show more images, and details on hover.</p> <p>hijack_hornet</p> <p> </p> <pre><code>/*Tag layout changes*/\n.tag-card {\n    width: 16rem;\n    padding: 0;\n}\n\n.tag-card .card-section {\n    height: 2.5rem;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #0000007a;\n    line-height: none;\n}\n.tag-card .card-section .TruncatedText {\n    -webkit-line-clamp: 1 !important;\n}\n.tag-card h1,\nh2,\nh3,\nh4,\nh5,\nh6,\n.h1,\n.h2,\n.h3,\n.h4,\n.h5,\n.h6 {\n    line-height: normal;\n}\n.tag-card hr,\n.tag-description {\n    display: none;\n}\n.tag-card .btn-group {\n    position: absolute;\n    width: 100%;\n    bottom: 2.5rem;\n    margin-bottom: 0;\n    opacity: 0;\n    transition: ease 0.2s;\n}\n.tag-card .btn-group:hover {\n    opacity: 1;\n    transition: ease 0.2s;\n    background: #0000007a;\n}\n\n.tag-card-image {\n    object-fit: cover;\n    object-position: center;\n}\n\n.zoom-0 .tag-card-image {\n    max-height: none;\n    height: 16rem;\n    width: 12rem;\n}\n\n.zoom-1 .tag-card-image {\n    max-height: none;\n    height: 20rem;\n    width: 15rem;\n}\n\n.zoom-2 .tag-card-image {\n    max-height: none;\n    height: 24rem;\n    width: 18rem;\n}\n\n.zoom-3 .tag-card-image {\n    max-height: none;\n    height: 28rem;\n    width: 21rem;\n}\n\n.zoom-0.tag-card,\n.zoom-1.tag-card,\n.zoom-2.tag-card,\n.zoom-3.tag-card {\n    width: initial;\n}\n\n.tag-card .card-section &gt; a {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: block;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    padding: 7px 14px 0px 14px;\n}\n.tag-card .card-section .tag-sub-tags {\n    position: relative;\n    margin-top: 2rem;\n    z-index: 1;\n}\n.tag-sub-tags {\n    font-size: 0;\n}\n.tag-parent-tags {\n    display: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#subtag-explorer","title":"Subtag explorer","text":"DescriptionAuthorScreenshotsCSS code <p>This snipset includes the above tag layout snipset with a twist. Its meant to be used for people who use subtags as a hierachy. For example Watermelon is a subtag of Fruits, so when i click Fruits i want to see both oranges and watermelons, but i might want to get into the list of fruits subtags more easily. That what this snipset is used for. Any tag that has a subtag will show a (...) icon. When clicking its name you will show all subtags of this tag. if you click its image, it will instead open the tag itself normaly. You can change '137cbd' in the icon url to any color you want to match you theme.</p> <p>hijack_hornet</p> <p></p> <pre><code>/*Tag layout changes*/\n.tag-card {\n    width: 16rem;\n    padding: 0;\n}\n\n.tag-card .card-section {\n    height: 2.5rem;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: #0000007a;\n    line-height: none;\n}\n.tag-card .card-section .TruncatedText {\n    -webkit-line-clamp: 1 !important;\n}\n.tag-card h1,\nh2,\nh3,\nh4,\nh5,\nh6,\n.h1,\n.h2,\n.h3,\n.h4,\n.h5,\n.h6 {\n    line-height: normal;\n}\n.tag-card hr,\n.tag-description {\n    display: none;\n}\n.tag-card .btn-group {\n    position: absolute;\n    width: 100%;\n    bottom: 2.5rem;\n    margin-bottom: 0;\n    opacity: 0;\n    transition: ease 0.2s;\n}\n.tag-card .btn-group:hover {\n    opacity: 1;\n    transition: ease 0.2s;\n    background: #0000007a;\n}\n\n.tag-card-image {\n    object-fit: cover;\n    object-position: center;\n}\n\n.zoom-0 .tag-card-image {\n    max-height: none;\n    height: 16rem;\n    width: 12rem;\n}\n\n.zoom-1 .tag-card-image {\n    max-height: none;\n    height: 20rem;\n    width: 15rem;\n}\n\n.zoom-2 .tag-card-image {\n    max-height: none;\n    height: 24rem;\n    width: 18rem;\n}\n\n.zoom-3 .tag-card-image {\n    max-height: none;\n    height: 28rem;\n    width: 21rem;\n}\n\n.zoom-0.tag-card,\n.zoom-1.tag-card,\n.zoom-2.tag-card,\n.zoom-3.tag-card {\n    width: initial;\n}\n\n.tag-card .card-section &gt; a {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: block;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    padding: 7px 14px 0px 14px;\n}\n.tag-card .card-section .tag-sub-tags {\n    position: relative;\n    margin-top: 2rem;\n    z-index: 1;\n}\n.tag-sub-tags {\n    font-size: 0;\n}\n.tag-parent-tags {\n    display: none;\n}\n/*Tag subtag exploration snipset*/\n.tag-card .card-section &gt; a {\n    cursor: default;\n    pointer-events: none;\n}\n.tag-card .card-section &gt; hr {\n    margin-top: 2rem;\n}\n.tag-card .card-section .tag-sub-tags {\n    position: absolute !important;\n    margin-top: 0 !important;\n    width: 100%;\n    height: 100%;\n    display: block;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    padding: 0;\n}\n.tag-sub-tags::before {\n    content: \"\";\n    display: block;\n    background: url(\"https://img.icons8.com/material-outlined/24/137cbd/connection-status-off.png\")\n        no-repeat;\n    background-size: 1.5rem 1.5rem;\n    width: 1.5rem;\n    height: 1.5rem;\n    float: right;\n    margin: 0.5rem 0.5rem 0 0;\n}\n.tag-sub-tags &gt; a {\n    width: 100%;\n    height: 100%;\n    display: block;\n}\n\n.tag-card .btn-group a {\n    z-index: 10;\n}\n.tag-sub-tags {\n    font-size: 0;\n}\n.tag-parent-tags {\n    display: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#global","title":"Global","text":""},{"location":"themes/custom-css-snippets/#change-the-order-of-navigation-bar-buttons","title":"Change the order of navigation bar buttons","text":"DescriptionAuthorScreenshotsCSS code <p>Use <code>order</code> values below 0 to move specific buttons to the left of the non-ordered buttons, and values above 1 to move them to the right of the non-ordered buttons.</p> <p> </p> <pre><code>/* [Global changes] Change the order of navigation bar buttons */\n\nnav .navbar-nav:first-child {\ndisplay: flex;\nflex-direction: row;\n}\ndiv.nav-link[data-rb-event-key=\"/tags\"] {\norder: -2;\n}\ndiv.nav-link[data-rb-event-key=\"/groups\"] {\norder: -1;\n}\ndiv.nav-link[data-rb-event-key=\"/scenes\"] {\norder: 1;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-the-donate-button","title":"Hide the Donate button","text":"DescriptionAuthorScreenshotsCSS code <p>Hide the Donate button.</p> <pre><code>/* [Global changes] Hide the Donate button */\n\n.btn-primary.btn.donate.minimal {\ndisplay: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#blur-nsfw-images","title":"Blur NSFW images","text":"DescriptionAuthorScreenshotsCSS code <p>Use for when working on stash but don't want to expose NSFW images and text. May not be exhaustive.</p> <pre><code>/* [Global changes] Blur NSFW images */\n\n.scene-card-preview-video,\n.scene-card-preview-image,\n.image-card-preview-image,\n.image-thumbnail,\n.gallery-card-image,\n.performer-card-image,\n.tag-card-image,\nimg.performer,\n.group-card-image,\n.gallery .flexbin img,\n.wall-item-media,\n.scene-studio-overlay .image-thumbnail,\n.image-card-preview-image,\n#scene-details-container .text-input,\n#scene-details-container .scene-header,\n#scene-details-container .react-select__single-value,\n.scene-details .pre,\n#scene-tabs-tabpane-scene-file-info-panel span.col-8.text-truncate &gt; a,\n.gallery .flexbin img,\n.group-details .logo {\nfilter: blur(12px);\n}\n\n.scene-card-video {\nfilter: blur(13px);\n}\n\n.jw-video,\n.jw-preview,\n.jw-flag-floating,\n.image-container,\n.studio-logo,\n.scene-cover {\nfilter: blur(20px);\n}\n\n.group-card .text-truncate,\n.scene-card .card-section {\nfilter: blur(4px);\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#blur-nsfw-images-and-unblur-on-mouse-over","title":"Blur NSFW images and unblur on mouse over","text":"DescriptionAuthorScreenshotsCSS code <p>Blur NSFW images and unblur on mouse over.</p> <p>fl0w#9497</p> <p></p> <pre><code>/* [Global changes] Blur NSFW images and unblur on mouse over */\n/* === MORE BLUR === */\n/* scene */\n.scene-card-preview,\n.vjs-poster,\nvideo,\n.scene-cover,\n.scrubber-item,\n\n/* image */\n.image-card-preview,\n.image-image,\n.gallery-image,\n\n/* group */\n.group-card-image,\n.group-images,\n\n/* gallery */\n.gallery-card-image,\ntable &gt; tbody &gt; tr &gt; td &gt; a &gt; img.w-100,\n\n/* performer */\n.performer-card-image,\nimg.performer,\n\n/* studio */\n.studio-card-image,\n\n/* tag */\n.tag-card-image\n\n{\nfilter: blur(30px);\n}\n\n/* === LESS BLUR === */\n/* common */\n.card-section-title,\n\n/* scene */\n.scene-studio-overlay,\n.scene-header &gt; h3,\nh3.scene-header,\n.studio-logo,\n.image-thumbnail,\n\n/* image */\nh3.image-header,\n\n/* group */\n.group-details &gt; div &gt; h2,\n\n/* gallery */\nh3.gallery-header,\n\n/* studio */\n.studio-details .logo,\n.studio-details &gt; div &gt; h2,\n\n/* tag */\n.logo-container &gt; .logo,\n.logo-container &gt; h2\n\n{\nfilter: blur(2px);\n}\n\n/* === UNBLUR ON HOVER === */\n/* common */\n.thumbnail-section:hover *,\n.card:hover .card-section-title,\n\n/* scene */\n.card:hover .scene-studio-overlay,\n.video-js:hover .vjs-poster,\nvideo:hover,\n.scene-header:hover &gt; h3,\ndiv:hover &gt; .scene-header,\n.studio-logo:hover,\n.scene-cover:hover,\n.image-thumbnail:hover,\n.scene-card-preview:hover,\n.scrubber-item:hover,\n\n/* image */\n.image-image:hover,\ndiv:hover &gt; .image-header,\n.gallery-image:hover,\n\n/* group */\n.group-images:hover,\n.group-details &gt; div &gt; h2:hover,\n\n/* gallery */\ndiv:hover &gt; .gallery-header,\ntable &gt; tbody &gt; tr &gt; td:hover &gt; a &gt; img.w-100,\n\n/* performer */\nimg.performer:hover,\n\n/* studio */ \n.studio-details .logo:hover,\n.studio-details:hover &gt; div &gt; h2,\n\n/* tag */\n.logo-container &gt; .logo:hover,\n.logo-container:hover &gt; h2\n{\nfilter: blur(0px);\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#hide-0-count-badges","title":"Hide 0 count badges","text":"DescriptionAuthorScreenshotsCSS code <p>Hide 0 count badges.</p> <p>echo6ix</p> <p></p> <pre><code>/* [Global changes] Hide 0 count badges */\nspan.badge[data-value=\"0\"] {\n    display: none;\n}\n</code></pre>"},{"location":"themes/custom-css-snippets/#border-around-cards-activated-with-checkbox-selection","title":"Border around cards activated with checkbox selection","text":"DescriptionAuthorScreenshotsCSS code <p>Add a noticeable border around any cards that have been selected using the checkbox selection. Border color uses Stash's <code>--primary</code> color variable to maintain consistency with any theme that uses Stash's color variables.</p> <p>echo6ix</p> <p></p> <pre><code>/* [Global changes] Modify card when checkbox is selected */\n.grid-card.card:has(input:checked) {\nbox-shadow: 0 0 0 1px var(--primary,rgba(255, 255, 255, 0.30));\n}\n</code></pre>"},{"location":"themes/list/","title":"Browse themes","text":""},{"location":"themes/list/#browse-themes","title":"Browse themes","text":""},{"location":"themes/list/#sources","title":"Sources","text":"<ol> <li>https://feederbox826.github.io/themes/main/index.yml</li> <li>https://serechops.github.io/Serechops-Stash/index.yml</li> <li>https://stashapp.github.io/CommunityScripts/stable/index.yml</li> <li>https://tetrax-10.github.io/stash-stuffs/index.yml</li> <li>https://uncertainmongoose.github.io/dracula-for-stash/index.yml</li> </ol>"},{"location":"themes/list/#all-themes","title":"All themes","text":""},{"location":"themes/list/#alternative-tag-layout","title":"alternative-tag-layout","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Changes the tags layout to show more images, and details on hover</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#direct-stream","title":"direct-stream","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Adds styling to settings to indicate direct stream</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#dracula-theme","title":"Dracula Theme","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A dark theme for Stash based on the popular Dracula theme.</p> <pre><code>https://uncertainmongoose.github.io/dracula-for-stash/index.yml\n</code></pre> <p>No README available</p> <p>UncertainMongoose</p>"},{"location":"themes/list/#glassy-a-window-to-your-collection","title":"Glassy - A Window to Your Collection","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Stash Theme</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-font-overhaul","title":"Glassy - Font Overhaul","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Stash Theme</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-front-page-animations-and-blur","title":"Glassy - Front Page Animations and Blur","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-marker-wall-redesign","title":"Glassy - Marker Wall Redesign","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-performer-scene-card-details-redesign","title":"Glassy - Performer Scene Card Details Redesign","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-scene-and-movie-card-redesign","title":"Glassy - Scene and Movie Card Redesign","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-scene-and-movie-card-redesign-no-animated-titles","title":"Glassy - Scene and Movie Card Redesign - No Animated Titles","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-scene-player-details-6040","title":"Glassy - Scene Player-Details 60/40","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-scene-player-details-reversed","title":"Glassy - Scene Player-Details Reversed","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-scene-player-details-reversed-6040","title":"Glassy - Scene Player-Details Reversed 60/40","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-smaller-performer-cards-on-main-page","title":"Glassy - Smaller Performer Cards on Main Page","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-smaller-performer-image-cards","title":"Glassy - Smaller Performer Image Cards","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-video-res-icons","title":"Glassy - Video-Res Icons","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A Glassy Add-On Module.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-images","title":"Glassy Images","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Images for A Stash Theme</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#glassy-installer","title":"Glassy Installer","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Glassy meta-package for requirements.</p> <pre><code>https://serechops.github.io/Serechops-Stash/index.yml\n</code></pre> <p>View README</p> <p>serechops</p>"},{"location":"themes/list/#hide-donate","title":"hide-donate","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Hide the Donate button.</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#hide-ocount","title":"hide-ocount","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Hide O-Count and O-Count trakcers</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#more-studio-row","title":"more-studio-row","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Display more studio per row</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#no-autotag","title":"no-autotag","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Hide autotagger, everywhere</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#no-speed","title":"no-speed","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Hide the playback speed button</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#noto-color-emoji","title":"noto-color-emoji","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Noto Color Emoji font</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#performer-grid","title":"performer-grid","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Aligns performer details in a grid</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"themes/list/#theme-blackhole","title":"Theme - BlackHole","text":"DescriptionSource URLREADMEAuthorScreenshots <p>BlackHole Theme for Stash by BViking78</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>BViking78</p>"},{"location":"themes/list/#theme-colorpalette","title":"Theme - colorPalette","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Based on the default theme, change the overall color of the page by setting the hue value. Make minor changes to the remaining styles.</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>wql219</p>"},{"location":"themes/list/#theme-minimal","title":"Theme - Minimal","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Minimal Theme for Stash</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>deuulc</p> <p> </p>"},{"location":"themes/list/#theme-moderndark","title":"Theme - ModernDark","text":"DescriptionSource URLREADMEAuthorScreenshots <p>ModernDark Theme for Stash by cj13</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>cj13</p>"},{"location":"themes/list/#theme-neondark","title":"Theme - NeonDark","text":"DescriptionSource URLREADMEAuthorScreenshots <p>NeonDark Theme for Stash by Dankonite</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Dankonite</p>"},{"location":"themes/list/#theme-night","title":"Theme - Night","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Night Theme for Stash (unknown author)</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>No Author</p>"},{"location":"themes/list/#theme-plex","title":"Theme - Plex","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Plex Theme for Stash by Fidelio 2020</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Fidelio</p> <p> </p>"},{"location":"themes/list/#theme-plex-better-styles","title":"Theme - Plex Better Styles","text":"DescriptionSource URLREADMEAuthorScreenshots <p>A modified version of Stash-Plex theme</p> <pre><code>https://tetrax-10.github.io/stash-stuffs/index.yml\n</code></pre> <p>View README</p> <p>tetrax-10</p> <p> </p>"},{"location":"themes/list/#theme-pornhub","title":"Theme - Pornhub","text":"DescriptionSource URLREADMEAuthorScreenshots <p>PornHub Theme for Stash by neurokinin</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>ronilaukkarinen</p>"},{"location":"themes/list/#theme-pulsar","title":"Theme - Pulsar","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Plex Theme for Stash by Fonzie 2020-21</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Fonzie</p>"},{"location":"themes/list/#theme-pulsarlight","title":"Theme - PulsarLight","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Plex Theme for Stash by Fonzie 2021</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Fonzie</p>"},{"location":"themes/list/#theme-rounded-yellow","title":"Theme - Rounded Yellow","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Theme with rounded corners and yellow accents</p> <pre><code>https://stashapp.github.io/CommunityScripts/stable/index.yml\n</code></pre> <p>No README available</p> <p>Fonzie</p>"},{"location":"themes/list/#wrap-subtag","title":"wrap-subtag","text":"DescriptionSource URLREADMEAuthorScreenshots <p>Wraps detail values (subtags)</p> <pre><code>https://feederbox826.github.io/themes/main/index.yml\n</code></pre> <p>No README available</p> <p>feederbox826</p>"},{"location":"userscripts/","title":"Userscripts","text":"<p>Info</p> <p>Userscripts are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Userscripts are programs written in Javascript that modifies web pages to improve browsing with new features, formatting and more.</p>"},{"location":"userscripts/#install","title":"Install","text":"<p>To install the userscript you will need a browser extension such as:</p> <ul> <li>Violentmonkey</li> <li>Tampermonkey</li> <li>Greasemonkey</li> </ul>"},{"location":"userscripts/list/","title":"Browse userscripts","text":"stash-git-index <p>Exhaustive list of git repositories related to Stash Google Sheets document.</p> Userscript no longer works <p>If you found that userscript is no longer working you can try contacting the author directly or create an issue on their Git platform. You can also create a GitHub issue on Stash-Docs for it to be removed from the list.</p>"},{"location":"userscripts/list/#stash-userscripts","title":"Stash userscripts","text":"Compatability <p>Make sure your instance URL is declared in <code>@match</code>.</p>"},{"location":"userscripts/list/#performer-image-carousel","title":"Performer Image Carousel","text":"DescriptionAuthorScreenshots <p>Displays a carousel of performer images in the header.</p> <p>Serechops</p>"},{"location":"userscripts/list/#stash-checker","title":"stash-checker","text":"DescriptionAuthorScreenshots <p>Stash Checker is an userscript for porn websites to check if a Scene/Performer is in your Stash instance. It shows a checkmark if an item was found in your Stash. Hovering over the checkmark gives you a tooltip with information about the item in your Stash.</p> <p>timo95</p> <p> </p>"},{"location":"userscripts/list/#stashcreateall","title":"stashCreateAll","text":"DescriptionAuthorScreenshots <p>Automate batch creation and tagging</p> <p>Serechops</p>"},{"location":"userscripts/list/#stash-box-userscripts","title":"stash-box userscripts","text":"stash-box compatability <p>Sometimes just updating <code>@match</code> is enough to make the userscript to work on a different stash-box instance. But it's not a guarantee.</p>"},{"location":"userscripts/list/#db-noto-color","title":"db-noto-color","text":"DescriptionAuthorScreenshots <p>Adds Noto Color Emoji to stash-box instances</p> <p>feederbox826</p>"},{"location":"userscripts/list/#fansdb-submission-helper","title":"FansDB Submission Helper","text":"DescriptionREADMEAuthorScreenshots <ul> <li>Adds button to add all unmatched aliases to performer</li> <li>Adds button to add all unmatched urls to performer</li> <li>Adds button to add all unmatched measurements to performer (if they match expected formats)</li> <li>Convert unmatched urls from regular strings to linked strings</li> </ul> <p>View README</p> <p>mmenanno, DogmaDragon</p> <p> </p>"},{"location":"userscripts/list/#stashdb-submission-helper","title":"StashDB Submission Helper","text":"DescriptionREADMEAuthorScreenshots <ul> <li>Adds button to add all unmatched aliases to performer</li> <li>Adds button to add all unmatched urls to performer</li> <li>Adds button to add all unmatched measurements to performer (if they match expected formats)</li> <li>Convert unmatched urls from regular strings to linked strings</li> </ul> <p>View README</p> <p>mmenanno</p> <p> </p>"},{"location":"userscripts/list/#stashdb-diff","title":"stashdb-diff","text":"DescriptionAuthorScreenshots <p>add character-by-character diff for stashdb</p> <p>feederbox826</p>"},{"location":"userscripts/list/#stashdb-link-chip","title":"stashdb-link-chip","text":"DescriptionAuthorScreenshots <p>add chips to links in edit queue</p> <p>feederbox826</p>"},{"location":"userscripts/list/#stashdb-relative-date","title":"stashdb-relative-date","text":"DescriptionAuthorScreenshots <p>adds relative dates to stashdb</p> <p>feederbox826</p>"},{"location":"userscripts/list/#stashdb-rm","title":"stashdb-rm","text":"DescriptionAuthorScreenshots <p>Remove scenes from loaded studios on stashdb.org</p> <p>feederbox826</p>"},{"location":"userscripts/list/#studio-image-blur-for-stashdb","title":"Studio Image Blur for StashDB","text":"DescriptionAuthorScreenshots <p>Blurs images from specific studios on StashDB scene cards, based on studio name and img src</p> <p>Serechops</p>"},{"location":"userscripts/list/#utility-userscripts","title":"Utility userscripts","text":"<p>There are some userscripts that might be useful to Stash users, but does not directly involve Stash or stash-box instances.</p>"},{"location":"userscripts/list/#twitter-media-unblur","title":"twitter-media-unblur","text":"DescriptionAuthorScreenshots <p>unblur all twitter sensitive media post</p> <p>feederbox826</p>"},{"location":"userscripts/list/#pmvhaven-autodl","title":"PMVHaven AutoDL","text":"DescriptionAuthorScreenshots <p>Dashboard to simplify PMV downloading on PMVHaven</p> <p>S3L3CT3DLoves</p>"},{"location":"userscripts/list/#spankbang-autodl","title":"SpankBang AutoDL","text":"DescriptionAuthorScreenshots <p>Dashboard to download all a user's videos on SpankBang</p> <p>S3L3CT3DLoves</p>"},{"location":"userscripts/list/#spankbang-frontend-scraper","title":"SpankBang Frontend Scraper","text":"DescriptionAuthorScreenshots <p>Use in Stash to scrape Spankbang from the browser, bypassing cloudflare issues</p> <p>S3L3CT3DLoves</p>"},{"location":"userscripts/list/#lifeselector-unblur","title":"LifeSelector unblur","text":"DescriptionAuthorScreenshots <p>Unblur LifeSelector website</p> <p>feederbox826</p>"},{"location":"userscripts/list/#redgifs-autosettings","title":"redgifs autosettings","text":"DescriptionAuthorScreenshots <p>Auto Unmute / Play / HD redgifs</p> <p>feederbox826</p>"},{"location":"userscripts/list/#stash-tmdb-syncscraper","title":"Stash-TMDB Sync/Scraper","text":"DescriptionAuthorScreenshots <p>Sync Button in TMDB Site.to Create Movie/Performer in Stash and Update performer missing info.</p> <p>W0lfieW0lf</p> <p> </p>"},{"location":"utilities/","title":"Utilities","text":"<p>Info</p> <p>Utilities are created by third parties and not officially affiliated or supported by the core Stash team. If you have issues, please reach out to the original creators.</p> <p>Utilities are other external applications that utilise or interact with Stash in some way.</p> <p>To install follow the utilities install instructions.</p>"},{"location":"utilities/list/","title":"Browse utilities","text":"stash-git-index <p>Exhaustive list of git repositories related to Stash Google Sheets document.</p> Utility no longer works <p>If you found that utility is no longer working you can try contacting the author directly or create an issue on their Git platform. You can also create a GitHub issue on Stash-Docs for it to be removed from the list.</p>"},{"location":"utilities/list/#clip-mash","title":"clip-mash","text":"DescriptionAuthorScreenshots <p>Video editing app that allows you to automate creating compilations from multiple videos. It runs in your browser. It's mostly made for, ahem, adult content, which is why it can connect to Stash and fetch videos and scene markers from there to guide the video creation process. You can also use local files and set the markers in ClipMash itself and then generate a compilation based on that.</p> <p>soundchaser128</p>"},{"location":"utilities/list/#stash-app-for-android-tv","title":"Stash App for Android TV","text":"DescriptionAuthorScreenshots <p>A basic Android TV app for browsing and playing videos from a Stash server. Not all features of Stash are supported, but the basics for browsing, searching, and playing scenes should work. The app is not intended to perform administrative functions such as scanning, scraping, or editing details.</p> <p>damontecres</p> <p> </p>"},{"location":"utilities/list/#stash-compilation-maker","title":"stash-compilation-maker","text":"DescriptionAuthorScreenshots <p>Connects to your Stash instance and creates simple compilation videos from scene markers. You select one or more tags, or one or more performers and it will take (currently) the first 15 seconds of video after the marker start and compile all of the markers into one video.</p> <p>soundchaser128</p>"},{"location":"utilities/list/#stash-qmt","title":"stash-qmt","text":"DescriptionAuthorScreenshots <p>stash-qmt (quick manual tagger) is a simple GUI tool designed to help with cases of manually tagging multiple similar scenes (manually, as in, with having to actually watch them) in Stash.</p> <p>PokerFacowaty</p> <p> </p>"},{"location":"utilities/list/#stash-vr-companion","title":"stash-vr-companion","text":"DescriptionAuthorScreenshots <p>Similar to stash-deovr as above but designed as a web app that sits in a docker container next to stash to make it easier to use and add more functionality.</p> <p>Tweeticoats</p>"},{"location":"utilities/list/#stash-vr","title":"stash-vr","text":"DescriptionAuthorScreenshots <p>Watch your Stash library in VR for that full immersion effect.</p> <p>Stash-VR bridges your Stash instance and VR video player allowing you to browse, play and manage your scenes using the video players native VR UI.  </p> <p>o-fl0w</p>"},{"location":"utilities/list/#stash-webvr","title":"stash-webvr","text":"DescriptionAuthorScreenshots <p>WebVR friendly Stash client that displays only videos tagged with \"Virtual Reality\" tag.</p> <p>stishadmin</p>"},{"location":"utilities/list/#stash_helper","title":"Stash_helper","text":"DescriptionAuthorScreenshots <p>Adds some helping features to Stash (Bookmarks, playlist, external player, etc). Windows only.</p> <p>philpw99</p> <p></p>"},{"location":"utilities/list/#stashbox-performer-bot","title":"StashBox Performer Bot","text":"DescriptionAuthorScreenshots <p>This program is designed to help automate the creation and updating of Performers on StashBox instances. It is designed to copy Performer info from one StashBox to another, to avoid having to maintain the information in both sources manually.</p> <p>S3L3CT3DLoves</p>"}]}